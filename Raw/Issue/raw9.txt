[{"url":"https://api.github.com/repos/vercel/next.js/issues/64830","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64830/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64830/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64830/events","html_url":"https://github.com/vercel/next.js/issues/64830","id":2254678597,"node_id":"I_kwDOBC3Cis6GY6pF","number":64830,"title":"Unable to use `firebase-admin` on NextJS 14 (app router) middleware","user":{"login":"ParasRai2","id":30003380,"node_id":"MDQ6VXNlcjMwMDAzMzgw","avatar_url":"https://avatars.githubusercontent.com/u/30003380?v=4","gravatar_id":"","url":"https://api.github.com/users/ParasRai2","html_url":"https://github.com/ParasRai2","followers_url":"https://api.github.com/users/ParasRai2/followers","following_url":"https://api.github.com/users/ParasRai2/following{/other_user}","gists_url":"https://api.github.com/users/ParasRai2/gists{/gist_id}","starred_url":"https://api.github.com/users/ParasRai2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ParasRai2/subscriptions","organizations_url":"https://api.github.com/users/ParasRai2/orgs","repos_url":"https://api.github.com/users/ParasRai2/repos","events_url":"https://api.github.com/users/ParasRai2/events{/privacy}","received_events_url":"https://api.github.com/users/ParasRai2/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":3499418124,"node_id":"LA_kwDOBC3Cis7QlOIM","url":"https://api.github.com/repos/vercel/next.js/labels/Middleware","name":"Middleware","color":"3116D4","default":false,"description":"Related to Next.js Middleware"},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-20T19:04:02Z","updated_at":"2024-04-20T19:04:21Z","closed_at":"2024-04-20T19:04:19Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\nNone\n\n### To Reproduce\n\n/\n\n### Current vs. Expected behavior\n\nNeed to verify token id on middle ware but not able to any functions of firebase on iddleware\n\n### Provide environment information\n\n```bash\nOS: Mac OS\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nMiddleware\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\nI tried everything on this but not able to find any solution\r\n\r\nPS. The token verification works if the verification is done on every apis internally","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64830/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64829","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64829/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64829/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64829/events","html_url":"https://github.com/vercel/next.js/pull/64829","id":2254676552,"node_id":"PR_kwDOBC3Cis5tQR-A","number":64829,"title":"Ensure install works in test fixtures when `NEXT_TEST_SKIP_CLEANUP=1` is specified","user":{"login":"eps1lon","id":12292047,"node_id":"MDQ6VXNlcjEyMjkyMDQ3","avatar_url":"https://avatars.githubusercontent.com/u/12292047?v=4","gravatar_id":"","url":"https://api.github.com/users/eps1lon","html_url":"https://github.com/eps1lon","followers_url":"https://api.github.com/users/eps1lon/followers","following_url":"https://api.github.com/users/eps1lon/following{/other_user}","gists_url":"https://api.github.com/users/eps1lon/gists{/gist_id}","starred_url":"https://api.github.com/users/eps1lon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eps1lon/subscriptions","organizations_url":"https://api.github.com/users/eps1lon/orgs","repos_url":"https://api.github.com/users/eps1lon/repos","events_url":"https://api.github.com/users/eps1lon/events{/privacy}","received_events_url":"https://api.github.com/users/eps1lon/received_events","type":"User","site_admin":false},"labels":[{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-20T18:58:39Z","updated_at":"2024-05-09T00:07:03Z","closed_at":"2024-04-24T13:05:21Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64829","html_url":"https://github.com/vercel/next.js/pull/64829","diff_url":"https://github.com/vercel/next.js/pull/64829.diff","patch_url":"https://github.com/vercel/next.js/pull/64829.patch","merged_at":"2024-04-24T13:05:21Z"},"body":"To me, `NEXT_TEST_SKIP_CLEANUP=1` is for debugging the test fixtures after the test finished. However, we used to removed the packed Next.js install which means `pnpm i` after the test finished would fail. Now we keep the packed package around.\r\n\r\nMainly needed this to find out `pnpm` auto-installs peer dependencies of packed packages.\n\nCloses NEXT-3180","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64829/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64826","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64826/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64826/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64826/events","html_url":"https://github.com/vercel/next.js/pull/64826","id":2254570265,"node_id":"PR_kwDOBC3Cis5tP9vX","number":64826,"title":"Improve initial setup with new App Router TypeScript project","user":{"login":"unstubbable","id":761683,"node_id":"MDQ6VXNlcjc2MTY4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/761683?v=4","gravatar_id":"","url":"https://api.github.com/users/unstubbable","html_url":"https://github.com/unstubbable","followers_url":"https://api.github.com/users/unstubbable/followers","following_url":"https://api.github.com/users/unstubbable/following{/other_user}","gists_url":"https://api.github.com/users/unstubbable/gists{/gist_id}","starred_url":"https://api.github.com/users/unstubbable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unstubbable/subscriptions","organizations_url":"https://api.github.com/users/unstubbable/orgs","repos_url":"https://api.github.com/users/unstubbable/repos","events_url":"https://api.github.com/users/unstubbable/events{/privacy}","received_events_url":"https://api.github.com/users/unstubbable/received_events","type":"User","site_admin":false},"labels":[{"id":549032284,"node_id":"MDU6TGFiZWw1NDkwMzIyODQ=","url":"https://api.github.com/repos/vercel/next.js/labels/examples","name":"examples","color":"ecffaf","default":false,"description":"Issue/PR related to examples"},{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":2108224491,"node_id":"MDU6TGFiZWwyMTA4MjI0NDkx","url":"https://api.github.com/repos/vercel/next.js/labels/create-next-app","name":"create-next-app","color":"9effbb","default":false,"description":"Related to our CLI tool for quickly starting a new Next.js application."},{"id":5552804017,"node_id":"LA_kwDOBC3Cis8AAAABSvkQsQ","url":"https://api.github.com/repos/vercel/next.js/labels/CI%20approved","name":"CI approved","color":"75AC05","default":false,"description":"Approve running CI for fork"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2024-04-20T14:14:28Z","updated_at":"2024-05-11T00:07:17Z","closed_at":"2024-04-26T16:19:50Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64826","html_url":"https://github.com/vercel/next.js/pull/64826","diff_url":"https://github.com/vercel/next.js/pull/64826.diff","patch_url":"https://github.com/vercel/next.js/pull/64826.patch","merged_at":"2024-04-26T16:19:50Z"},"body":"### What?\r\n\r\nFixes a couple of issues in the latest Canary regarding the `tsconfig.json` adjustments that are done after creating a new App Router project with `create-next-app`. Specifically:\r\n\r\n- Set default TS target to ES2017 (continuation of #64508).\r\n- Do not warn about disabled strict mode if strict mode was enabled. This is the case after starting the `dev` command for the first time after having created a new project with `create-next-app`, because in the tsconfig templates `strict` is enabled per default.\r\n- Fix wrongly printed tsconfig changes. See snapshot changes in https://github.com/vercel/next.js/commit/dc87ebcd561ef522e74fd11c0bf12356472f0268 for details of what was wrong. The bug was introduced in #64508.\r\n\r\n### Why?\r\n\r\nAvoid creating any changes to `tsconfig.json` in a fresh project on first run, and don't confuse the user with wrong logs.\r\n\r\n### How?\r\n\r\nI fixed the issues in `writeConfigurationDefaults()`, and added unit tests, as well as adjusted the existing integration tests, to prevent regressions. Additionally, I've created a new project inside of the Next.js monorepo with `pnpm create-next-app` and ran the `dev` command inside of this project to verify my fixes.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64826/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64824","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64824/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64824/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64824/events","html_url":"https://github.com/vercel/next.js/issues/64824","id":2254520679,"node_id":"I_kwDOBC3Cis6GYUFn","number":64824,"title":"NextJs 14.2.2 middleware \"You're importing a component that needs next/headers.... etc\" ","user":{"login":"dixakman","id":27270657,"node_id":"MDQ6VXNlcjI3MjcwNjU3","avatar_url":"https://avatars.githubusercontent.com/u/27270657?v=4","gravatar_id":"","url":"https://api.github.com/users/dixakman","html_url":"https://github.com/dixakman","followers_url":"https://api.github.com/users/dixakman/followers","following_url":"https://api.github.com/users/dixakman/following{/other_user}","gists_url":"https://api.github.com/users/dixakman/gists{/gist_id}","starred_url":"https://api.github.com/users/dixakman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dixakman/subscriptions","organizations_url":"https://api.github.com/users/dixakman/orgs","repos_url":"https://api.github.com/users/dixakman/repos","events_url":"https://api.github.com/users/dixakman/events{/privacy}","received_events_url":"https://api.github.com/users/dixakman/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-20T11:59:07Z","updated_at":"2024-04-20T11:59:23Z","closed_at":"2024-04-20T11:59:21Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\nnot\n\n### To Reproduce\n\nUse NextJs 14.2.2\r\n\r\nDocument: https://nextjs.org/docs/app/building-your-application/authentication\r\n\r\nFor example:\r\nmiddleware.ts\r\n`\r\n...\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { decrypt } from '@/app/lib/session'\r\nimport { cookies } from 'next/headers'\r\n \r\n// 1. Specify protected and public routes\r\nconst protectedRoutes = ['/dashboard']\r\nconst publicRoutes = ['/login', '/signup', '/']\r\n...\r\n`\r\n\r\nGet error: \r\n\r\nError: \r\n  × You're importing a component that needs next/headers. That only works in a Server Component which is not supported in the pages/ directory. Read more: https://nextjs.org/docs/getting-started/\r\n  │ react-essentials#server-components\r\n  │ \r\n  │ \r\n   ╭─[/hide/src/middleware.ts:1:1]\r\n 1 │ import {localePrefix, locales, pathnames} from \"@/src/config\";\r\n 2 │ import {NextRequest, NextResponse} from \"next/server\";\r\n 3 │ import createIntlMiddleware from 'next-intl/middleware';\r\n 4 │ import { cookies } from 'next/headers'\r\n   · ──────────────────────────────────────\r\n 5 │ \r\n   ╰────\r\n\r\nWhat is the problem?\r\n\n\n### Current vs. Expected behavior\n\nSuccess execute\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: x64\r\n  Version: Darwin Kernel Version 23.4.0: Fri Mar 15 00:10:42 PDT 2024; root:xnu-10063.101.17~1/RELEASE_ARM64_T6000\r\n  Available memory (MB): 32768\r\n  Available CPU cores: 10\r\nBinaries:\r\n  Node: 20.11.1\r\n  npm: 10.2.4\r\n  Yarn: N/A\r\n  pnpm: N/A\r\nRelevant Packages:\r\n  next: 14.2.2 // Latest available version is detected (14.2.2).\r\n  eslint-config-next: N/A\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nNot sure\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\nNextJs 14.2.2","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64824/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64821","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64821/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64821/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64821/events","html_url":"https://github.com/vercel/next.js/issues/64821","id":2254518093,"node_id":"I_kwDOBC3Cis6GYTdN","number":64821,"title":"generateMetaData function","user":{"login":"artainjast","id":50679946,"node_id":"MDQ6VXNlcjUwNjc5OTQ2","avatar_url":"https://avatars.githubusercontent.com/u/50679946?v=4","gravatar_id":"","url":"https://api.github.com/users/artainjast","html_url":"https://github.com/artainjast","followers_url":"https://api.github.com/users/artainjast/followers","following_url":"https://api.github.com/users/artainjast/following{/other_user}","gists_url":"https://api.github.com/users/artainjast/gists{/gist_id}","starred_url":"https://api.github.com/users/artainjast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artainjast/subscriptions","organizations_url":"https://api.github.com/users/artainjast/orgs","repos_url":"https://api.github.com/users/artainjast/repos","events_url":"https://api.github.com/users/artainjast/events{/privacy}","received_events_url":"https://api.github.com/users/artainjast/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":3555293326,"node_id":"LA_kwDOBC3Cis7T6XiO","url":"https://api.github.com/repos/vercel/next.js/labels/Metadata","name":"Metadata","color":"CEC038","default":false,"description":"Related to Next.js' Metadata API."},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-20T11:50:15Z","updated_at":"2024-04-20T11:50:33Z","closed_at":"2024-04-20T11:50:30Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\n.\n\n### To Reproduce\n\nmake a page and use this function and get title data from a function which use cache or an object in the server .\n\n### Current vs. Expected behavior\n\nit need to happen on every page render but it call randomly and we can trace it.\n\n### Provide environment information\n\n```bash\n\"next\": \"14.1.4\",\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nMetadata\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local), next start (local)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64821/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64820","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64820/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64820/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64820/events","html_url":"https://github.com/vercel/next.js/issues/64820","id":2254516175,"node_id":"I_kwDOBC3Cis6GYS_P","number":64820,"title":"Standalone export Sharp executable is not present with pnpm","user":{"login":"r34son","id":43549299,"node_id":"MDQ6VXNlcjQzNTQ5Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/43549299?v=4","gravatar_id":"","url":"https://api.github.com/users/r34son","html_url":"https://github.com/r34son","followers_url":"https://api.github.com/users/r34son/followers","following_url":"https://api.github.com/users/r34son/following{/other_user}","gists_url":"https://api.github.com/users/r34son/gists{/gist_id}","starred_url":"https://api.github.com/users/r34son/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r34son/subscriptions","organizations_url":"https://api.github.com/users/r34son/orgs","repos_url":"https://api.github.com/users/r34son/repos","events_url":"https://api.github.com/users/r34son/events{/privacy}","received_events_url":"https://api.github.com/users/r34son/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":3499651836,"node_id":"LA_kwDOBC3Cis7QmHL8","url":"https://api.github.com/repos/vercel/next.js/labels/Output%20(export/standalone)","name":"Output (export/standalone)","color":"31A7C3","default":false,"description":"Related to the the output option in `next.config.js`."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-20T11:44:08Z","updated_at":"2024-05-05T00:04:22Z","closed_at":"2024-04-20T20:47:45Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/r34son/profile/tree/pnpm-sharp-standalone-output-issue\n\n### To Reproduce\n\nbuild docker image and run container\r\nOr just run `pnpm build` and see that no sharp and related packages picked to `.next/standalone/node_modules`\n\n### Current vs. Expected behavior\n\nSame as here https://github.com/vercel/next.js/issues/59346\r\nno sharp and related packages picked to `.next/standalone/node_modules`\r\n\r\nI guess something related to `@vercel/nft` again\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: arm64\r\n  Version: Darwin Kernel Version 23.3.0: Wed Dec 20 21:30:44 PST 2023; root:xnu-10002.81.5~7/RELEASE_ARM64_T6000\r\n  Available memory (MB): 32768\r\n  Available CPU cores: 10\r\nBinaries:\r\n  Node: 20.12.2\r\n  npm: 10.5.0\r\n  Yarn: N/A\r\n  pnpm: 9.0.4\r\nRelevant Packages:\r\n  next: 14.2.2 // Latest available version is detected (14.2.2).\r\n  eslint-config-next: 14.2.2\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: standalone\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nOutput (export/standalone)\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext build (local), Other (Deployed)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64820/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64818","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64818/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64818/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64818/events","html_url":"https://github.com/vercel/next.js/pull/64818","id":2254444580,"node_id":"PR_kwDOBC3Cis5tPl59","number":64818,"title":"Update Nav.tsx","user":{"login":"jeanmax1me","id":68813864,"node_id":"MDQ6VXNlcjY4ODEzODY0","avatar_url":"https://avatars.githubusercontent.com/u/68813864?v=4","gravatar_id":"","url":"https://api.github.com/users/jeanmax1me","html_url":"https://github.com/jeanmax1me","followers_url":"https://api.github.com/users/jeanmax1me/followers","following_url":"https://api.github.com/users/jeanmax1me/following{/other_user}","gists_url":"https://api.github.com/users/jeanmax1me/gists{/gist_id}","starred_url":"https://api.github.com/users/jeanmax1me/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeanmax1me/subscriptions","organizations_url":"https://api.github.com/users/jeanmax1me/orgs","repos_url":"https://api.github.com/users/jeanmax1me/repos","events_url":"https://api.github.com/users/jeanmax1me/events{/privacy}","received_events_url":"https://api.github.com/users/jeanmax1me/received_events","type":"User","site_admin":false},"labels":[{"id":549032284,"node_id":"MDU6TGFiZWw1NDkwMzIyODQ=","url":"https://api.github.com/repos/vercel/next.js/labels/examples","name":"examples","color":"ecffaf","default":false,"description":"Issue/PR related to examples"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-20T08:11:27Z","updated_at":"2024-05-06T12:05:05Z","closed_at":"2024-04-22T02:41:07Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64818","html_url":"https://github.com/vercel/next.js/pull/64818","diff_url":"https://github.com/vercel/next.js/pull/64818.diff","patch_url":"https://github.com/vercel/next.js/pull/64818.patch","merged_at":"2024-04-22T02:41:07Z"},"body":"removed duplicate of \"use client\"\r\n\r\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64818/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64817","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64817/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64817/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64817/events","html_url":"https://github.com/vercel/next.js/pull/64817","id":2254430866,"node_id":"PR_kwDOBC3Cis5tPjT7","number":64817,"title":"Replace createNextDescribe with nextTestSetup","user":{"login":"wyattjoh","id":633002,"node_id":"MDQ6VXNlcjYzMzAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/633002?v=4","gravatar_id":"","url":"https://api.github.com/users/wyattjoh","html_url":"https://github.com/wyattjoh","followers_url":"https://api.github.com/users/wyattjoh/followers","following_url":"https://api.github.com/users/wyattjoh/following{/other_user}","gists_url":"https://api.github.com/users/wyattjoh/gists{/gist_id}","starred_url":"https://api.github.com/users/wyattjoh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyattjoh/subscriptions","organizations_url":"https://api.github.com/users/wyattjoh/orgs","repos_url":"https://api.github.com/users/wyattjoh/repos","events_url":"https://api.github.com/users/wyattjoh/events{/privacy}","received_events_url":"https://api.github.com/users/wyattjoh/received_events","type":"User","site_admin":false},"labels":[{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":3555423777,"node_id":"LA_kwDOBC3Cis7T63Yh","url":"https://api.github.com/repos/vercel/next.js/labels/Font%20(next/font)","name":"Font (next/font)","color":"0D3A54","default":false,"description":"Related to Next.js Font Optimization."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-20T07:30:32Z","updated_at":"2024-05-10T00:04:50Z","closed_at":"2024-04-25T18:06:12Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64817","html_url":"https://github.com/vercel/next.js/pull/64817","diff_url":"https://github.com/vercel/next.js/pull/64817.diff","patch_url":"https://github.com/vercel/next.js/pull/64817.patch","merged_at":"2024-04-25T18:06:12Z"},"body":"<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n\r\nI took some time and [wrote a codemod](https://gist.github.com/wyattjoh/0d4464427506cb02062a4729ca906b62) that replaces the old usage of the `createNextDescribe` with the new `nextTestSetup`. You'll likely have to turn on hiding of whitespace in order to review, but this should primarily introduce no changes to the test structure other than using the new mechanism now.\r\n\r\nCloses NEXT-3178","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64817/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64816","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64816/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64816/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64816/events","html_url":"https://github.com/vercel/next.js/pull/64816","id":2254422213,"node_id":"PR_kwDOBC3Cis5tPhua","number":64816,"title":"Update Turbopack production test manifest","user":{"login":"vercel-release-bot","id":88769842,"node_id":"MDQ6VXNlcjg4NzY5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/88769842?v=4","gravatar_id":"","url":"https://api.github.com/users/vercel-release-bot","html_url":"https://github.com/vercel-release-bot","followers_url":"https://api.github.com/users/vercel-release-bot/followers","following_url":"https://api.github.com/users/vercel-release-bot/following{/other_user}","gists_url":"https://api.github.com/users/vercel-release-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/vercel-release-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vercel-release-bot/subscriptions","organizations_url":"https://api.github.com/users/vercel-release-bot/orgs","repos_url":"https://api.github.com/users/vercel-release-bot/repos","events_url":"https://api.github.com/users/vercel-release-bot/events{/privacy}","received_events_url":"https://api.github.com/users/vercel-release-bot/received_events","type":"User","site_admin":false},"labels":[{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-20T07:04:55Z","updated_at":"2024-05-05T12:01:46Z","closed_at":"2024-04-21T07:04:43Z","author_association":"COLLABORATOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64816","html_url":"https://github.com/vercel/next.js/pull/64816","diff_url":"https://github.com/vercel/next.js/pull/64816.diff","patch_url":"https://github.com/vercel/next.js/pull/64816.patch","merged_at":null},"body":"This auto-generated PR updates the production integration test manifest used when testing Turbopack.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64816/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64815","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64815/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64815/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64815/events","html_url":"https://github.com/vercel/next.js/pull/64815","id":2254422211,"node_id":"PR_kwDOBC3Cis5tPhuZ","number":64815,"title":"Update Turbopack development test manifest","user":{"login":"vercel-release-bot","id":88769842,"node_id":"MDQ6VXNlcjg4NzY5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/88769842?v=4","gravatar_id":"","url":"https://api.github.com/users/vercel-release-bot","html_url":"https://github.com/vercel-release-bot","followers_url":"https://api.github.com/users/vercel-release-bot/followers","following_url":"https://api.github.com/users/vercel-release-bot/following{/other_user}","gists_url":"https://api.github.com/users/vercel-release-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/vercel-release-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vercel-release-bot/subscriptions","organizations_url":"https://api.github.com/users/vercel-release-bot/orgs","repos_url":"https://api.github.com/users/vercel-release-bot/repos","events_url":"https://api.github.com/users/vercel-release-bot/events{/privacy}","received_events_url":"https://api.github.com/users/vercel-release-bot/received_events","type":"User","site_admin":false},"labels":[{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-20T07:04:55Z","updated_at":"2024-05-05T12:01:44Z","closed_at":"2024-04-21T07:04:43Z","author_association":"COLLABORATOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64815","html_url":"https://github.com/vercel/next.js/pull/64815","diff_url":"https://github.com/vercel/next.js/pull/64815.diff","patch_url":"https://github.com/vercel/next.js/pull/64815.patch","merged_at":null},"body":"This auto-generated PR updates the development integration test manifest used when testing Turbopack.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64815/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64809","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64809/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64809/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64809/events","html_url":"https://github.com/vercel/next.js/pull/64809","id":2254263011,"node_id":"PR_kwDOBC3Cis5tPCF7","number":64809,"title":"fix: mixing namespace import and named import client components","user":{"login":"huozhi","id":4800338,"node_id":"MDQ6VXNlcjQ4MDAzMzg=","avatar_url":"https://avatars.githubusercontent.com/u/4800338?v=4","gravatar_id":"","url":"https://api.github.com/users/huozhi","html_url":"https://github.com/huozhi","followers_url":"https://api.github.com/users/huozhi/followers","following_url":"https://api.github.com/users/huozhi/following{/other_user}","gists_url":"https://api.github.com/users/huozhi/gists{/gist_id}","starred_url":"https://api.github.com/users/huozhi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huozhi/subscriptions","organizations_url":"https://api.github.com/users/huozhi/orgs","repos_url":"https://api.github.com/users/huozhi/repos","events_url":"https://api.github.com/users/huozhi/events{/privacy}","received_events_url":"https://api.github.com/users/huozhi/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-20T00:01:49Z","updated_at":"2024-05-07T00:04:31Z","closed_at":"2024-04-22T13:05:41Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64809","html_url":"https://github.com/vercel/next.js/pull/64809","diff_url":"https://github.com/vercel/next.js/pull/64809.diff","patch_url":"https://github.com/vercel/next.js/pull/64809.patch","merged_at":"2024-04-22T13:05:41Z"},"body":"### What\r\n\r\nReported by @MaxLeiter, when you mixing named import and wildcard import to a client component, and if you clone the module it will missed others exports except the named ones. This lead to an issue that rendered React element type is `undefined`.\r\n\r\n### Why\r\n\r\nWe're using a tree-shaking strategy that collects the imported identifiers from client components on server components side. But in our code `connection.dependency.ids` can be undefined when you're using `import *`. So for that case we include all the exports.\r\n\r\nIn the flight client entry plugin, if we found there's named imports that collected later, and the module is already being marked as namespace import `*`, we merge the ids into \"*\", so the whole module and all exports are respected.\r\n\r\nNow there're few possible cases for a client component import:\r\n\r\nDuring webpack build, in the outout going connections, there're connection with empty imported ids (`[]`), cannot unable to detect the imported ids (`['*']`) and detected named imported ids (`['a', 'b', ..]`). First two represnt to include the whole module and all exports, but we might collect the named imports could come later than the whole module. So if we found the existing collection already has `['*']` then we keep using that regardless the collected named imports. This can avoid the collected named imports cover \"exports all\" case, where we will expose less exports for that collection module lead to the undefined component error.\r\n\r\nCloses NEXT-3177","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64809/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64808","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64808/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64808/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64808/events","html_url":"https://github.com/vercel/next.js/issues/64808","id":2254246294,"node_id":"I_kwDOBC3Cis6GXRGW","number":64808,"title":"Parallel routing with intercepting on as modal / page have unexpected behavior","user":{"login":"yaba101","id":63213576,"node_id":"MDQ6VXNlcjYzMjEzNTc2","avatar_url":"https://avatars.githubusercontent.com/u/63213576?v=4","gravatar_id":"","url":"https://api.github.com/users/yaba101","html_url":"https://github.com/yaba101","followers_url":"https://api.github.com/users/yaba101/followers","following_url":"https://api.github.com/users/yaba101/following{/other_user}","gists_url":"https://api.github.com/users/yaba101/gists{/gist_id}","starred_url":"https://api.github.com/users/yaba101/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaba101/subscriptions","organizations_url":"https://api.github.com/users/yaba101/orgs","repos_url":"https://api.github.com/users/yaba101/repos","events_url":"https://api.github.com/users/yaba101/events{/privacy}","received_events_url":"https://api.github.com/users/yaba101/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6834840742,"node_id":"LA_kwDOBC3Cis8AAAABl2Nkpg","url":"https://api.github.com/repos/vercel/next.js/labels/Parallel%20&%20Intercepting%20Routes","name":"Parallel & Intercepting Routes","color":"1C2649","default":false,"description":"Related to Parallel and/or Intercepting routes."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-04-19T23:39:11Z","updated_at":"2024-05-05T00:04:25Z","closed_at":"2024-04-20T01:53:28Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/yaba101/parallel-intercept-routing\n\n### To Reproduce\n\n1. First, run the development server: pnpm run dev\r\n2. Go to /\r\n3. Click Sign in button ( which trigger modal )\r\n4. hard refresh the page\r\n5. click sign-up button ( which open modal on to off sign-in, not as a page\r\n[Screencast from 2024-04-20 02-28-08.webm](https://github.com/vercel/next.js/assets/63213576/b5729417-3200-483a-992a-ff8a66d5348b)\r\n) \n\n### Current vs. Expected behavior\n\nCurrent:\r\non hard refresh the modal changed to page and when to try navigate between as page it open modal on top of current page.\r\nExpected:\r\non hard refresh the modal changed to page and when to try navigate between as page it should navigate as page not trigger modal.\r\n[Screencast from 2024-04-20 02-28-08.webm](https://github.com/vercel/next.js/assets/63213576/2e1858fe-7528-45f4-98b0-56771778c525)\r\n\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: linux\r\n  Arch: x64\r\n  Version: #26-Ubuntu SMP PREEMPT_DYNAMIC Tue Mar  5 21:19:28 UTC 2024\r\n  Available memory (MB): 15801\r\n  Available CPU cores: 8\r\nBinaries:\r\n  Node: 20.11.1\r\n  npm: 10.5.0\r\n  Yarn: N/A\r\n  pnpm: 8.15.5\r\nRelevant Packages:\r\n  next: 14.2.2 // Latest available version is detected (14.2.2).\r\n  eslint-config-next: 14.2.2\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nParallel & Intercepting Routes\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local), next build (local), next start (local), Vercel (Deployed)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64808/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64807","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64807/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64807/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64807/events","html_url":"https://github.com/vercel/next.js/issues/64807","id":2254212056,"node_id":"I_kwDOBC3Cis6GXIvY","number":64807,"title":"Navigating away from parallel route with router.push() doesn't trigger catch-all","user":{"login":"wesferoli","id":50773724,"node_id":"MDQ6VXNlcjUwNzczNzI0","avatar_url":"https://avatars.githubusercontent.com/u/50773724?v=4","gravatar_id":"","url":"https://api.github.com/users/wesferoli","html_url":"https://github.com/wesferoli","followers_url":"https://api.github.com/users/wesferoli/followers","following_url":"https://api.github.com/users/wesferoli/following{/other_user}","gists_url":"https://api.github.com/users/wesferoli/gists{/gist_id}","starred_url":"https://api.github.com/users/wesferoli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wesferoli/subscriptions","organizations_url":"https://api.github.com/users/wesferoli/orgs","repos_url":"https://api.github.com/users/wesferoli/repos","events_url":"https://api.github.com/users/wesferoli/events{/privacy}","received_events_url":"https://api.github.com/users/wesferoli/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6834840742,"node_id":"LA_kwDOBC3Cis8AAAABl2Nkpg","url":"https://api.github.com/repos/vercel/next.js/labels/Parallel%20&%20Intercepting%20Routes","name":"Parallel & Intercepting Routes","color":"1C2649","default":false,"description":"Related to Parallel and/or Intercepting routes."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-19T23:13:52Z","updated_at":"2024-05-04T12:01:27Z","closed_at":"2024-04-20T01:19:45Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/wesferoli/parallel-routes-bug-example\n\n### To Reproduce\n\n1. Run the application (`npm run dev`).\r\n2. Click the button 'Go to /details'. The `/details` parallel route will be rendered.\r\n3. Click the button 'Go to /'.\r\n4. The application is redirected to the root route but the parallel route is not unmounted.\n\n### Current vs. Expected behavior\n\nI expected the parallel route to be unmounted when navigating to a different route, just like using `router.back()`. Instead, the parallel route is not unmounted, keeping an unwanted component on the screen. My real use case is a modal on a parallel route that is not able to be closed due to this bug.\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: win32\r\n  Arch: x64\r\n  Version: Windows 10 Home Single Language\r\n  Available memory (MB): 20260\r\n  Available CPU cores: 8\r\nBinaries:\r\n  Node: 18.17.1\r\n  npm: N/A\r\n  Yarn: N/A\r\n  pnpm: N/A\r\nRelevant Packages:\r\n  next: 14.3.0-canary.12 // Latest available version is detected (14.3.0-canary.12).\r\n  eslint-config-next: N/A\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.1.3\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nParallel & Intercepting Routes\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\nThe first time I encountered this problem was at v14.2.0, previously at v14.1.4 I didn't have this issue.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64807/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64805","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64805/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64805/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64805/events","html_url":"https://github.com/vercel/next.js/pull/64805","id":2254049079,"node_id":"PR_kwDOBC3Cis5tOqnD","number":64805,"title":"fix interception route rewrite regex not supporting hyphenated segments","user":{"login":"ztanner","id":1939140,"node_id":"MDQ6VXNlcjE5MzkxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1939140?v=4","gravatar_id":"","url":"https://api.github.com/users/ztanner","html_url":"https://github.com/ztanner","followers_url":"https://api.github.com/users/ztanner/followers","following_url":"https://api.github.com/users/ztanner/following{/other_user}","gists_url":"https://api.github.com/users/ztanner/gists{/gist_id}","starred_url":"https://api.github.com/users/ztanner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ztanner/subscriptions","organizations_url":"https://api.github.com/users/ztanner/orgs","repos_url":"https://api.github.com/users/ztanner/repos","events_url":"https://api.github.com/users/ztanner/events{/privacy}","received_events_url":"https://api.github.com/users/ztanner/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-19T21:45:04Z","updated_at":"2024-05-04T12:01:34Z","closed_at":"2024-04-20T00:11:32Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64805","html_url":"https://github.com/vercel/next.js/pull/64805","diff_url":"https://github.com/vercel/next.js/pull/64805.diff","patch_url":"https://github.com/vercel/next.js/pull/64805.patch","merged_at":"2024-04-20T00:11:32Z"},"body":"The function we use to generate a string with named parameters to pass into `path-to-regexp` currently doesn't properly handle non-word characters (namely, for the purposes of this bugfix, hyphens). As a result, `pathToRegexp` will convert something like `/foo/:bar-baz` into `/^\\/foo(?:\\/([^\\/#\\?]+?))-baz[\\/#\\?]?$/i`, effectively only treating the `:foo` as part of the regex capture group and leaving a dangling -baz.\r\n\r\nThis means using an interception route within a dynamic segment (such as `/foo/[bar-baz]`) would not properly trigger the route interception\r\n\r\nFixes #64766\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64805/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64804","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64804/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64804/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64804/events","html_url":"https://github.com/vercel/next.js/pull/64804","id":2254039323,"node_id":"PR_kwDOBC3Cis5tOokn","number":64804,"title":"Disable ncc cache instead of cache cleaning","user":{"login":"timneutkens","id":6324199,"node_id":"MDQ6VXNlcjYzMjQxOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6324199?v=4","gravatar_id":"","url":"https://api.github.com/users/timneutkens","html_url":"https://github.com/timneutkens","followers_url":"https://api.github.com/users/timneutkens/followers","following_url":"https://api.github.com/users/timneutkens/following{/other_user}","gists_url":"https://api.github.com/users/timneutkens/gists{/gist_id}","starred_url":"https://api.github.com/users/timneutkens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timneutkens/subscriptions","organizations_url":"https://api.github.com/users/timneutkens/orgs","repos_url":"https://api.github.com/users/timneutkens/repos","events_url":"https://api.github.com/users/timneutkens/events{/privacy}","received_events_url":"https://api.github.com/users/timneutkens/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-19T21:35:14Z","updated_at":"2024-05-05T00:04:27Z","closed_at":"2024-04-20T13:45:35Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64804","html_url":"https://github.com/vercel/next.js/pull/64804","diff_url":"https://github.com/vercel/next.js/pull/64804.diff","patch_url":"https://github.com/vercel/next.js/pull/64804.patch","merged_at":"2024-04-20T13:45:35Z"},"body":"## What?\n\n`ncc cache clean` is running each time we call `ncc-compiled`. This PR removes the cache cleaning and instead just always passes `cache: false` to disable the built-in ncc cache.\n\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\nChoose the right checklist for the change(s) that you're making:\n\n## For Contributors\n\n### Improving Documentation\n\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\n\n### Adding or Updating Examples\n\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\n\n### Fixing a bug\n\n- Related issues linked using `fixes #number`\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\n\n### Adding a feature\n\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\n- Related issues/discussions are linked using `fixes #number`\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\n- Documentation added\n- Telemetry added. In case of a feature if it's used or not.\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\n\n\n## For Maintainers\n\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\n- When linking to a Slack thread, you might want to share details of the conclusion\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\n- Add review comments if necessary to explain to the reviewer the logic behind a change\n\n### What?\n\n### Why?\n\n### How?\n\nCloses NEXT-\nFixes #\n\n-->\n\n\nCloses NEXT-3174","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64804/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64801","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64801/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64801/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64801/events","html_url":"https://github.com/vercel/next.js/pull/64801","id":2254014251,"node_id":"PR_kwDOBC3Cis5tOjGC","number":64801,"title":"fext(next): extend next.config for mdxRs support options","user":{"login":"kwonoj","id":1210596,"node_id":"MDQ6VXNlcjEyMTA1OTY=","avatar_url":"https://avatars.githubusercontent.com/u/1210596?v=4","gravatar_id":"","url":"https://api.github.com/users/kwonoj","html_url":"https://github.com/kwonoj","followers_url":"https://api.github.com/users/kwonoj/followers","following_url":"https://api.github.com/users/kwonoj/following{/other_user}","gists_url":"https://api.github.com/users/kwonoj/gists{/gist_id}","starred_url":"https://api.github.com/users/kwonoj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kwonoj/subscriptions","organizations_url":"https://api.github.com/users/kwonoj/orgs","repos_url":"https://api.github.com/users/kwonoj/repos","events_url":"https://api.github.com/users/kwonoj/events{/privacy}","received_events_url":"https://api.github.com/users/kwonoj/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":4771244046,"node_id":"LA_kwDOBC3Cis8AAAABHGNoDg","url":"https://api.github.com/repos/vercel/next.js/labels/Turbopack","name":"Turbopack","color":"FF1E56","default":false,"description":"Related to Turbopack with Next.js."},{"id":4863306216,"node_id":"LA_kwDOBC3Cis8AAAABIeAp6A","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Turbopack%20team","name":"created-by: Turbopack team","color":"000000","default":false,"description":"PRs by the turbopack team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-19T21:14:08Z","updated_at":"2024-05-07T00:04:07Z","closed_at":"2024-04-22T21:51:47Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64801","html_url":"https://github.com/vercel/next.js/pull/64801","diff_url":"https://github.com/vercel/next.js/pull/64801.diff","patch_url":"https://github.com/vercel/next.js/pull/64801.patch","merged_at":"2024-04-22T21:51:47Z"},"body":"### What\r\n\r\nCloses PACK-2978, requires https://github.com/vercel/turbo/pull/8005.\r\n\r\nPR extends existing mdxRs config from accepting object as well in addition to current boolean flag, mainly to allow to specify what kind of markdown types will be used between gfm and commonmark.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64801/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64799","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64799/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64799/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64799/events","html_url":"https://github.com/vercel/next.js/pull/64799","id":2253716804,"node_id":"PR_kwDOBC3Cis5tNe3Z","number":64799,"title":"fix(fetch-cache): fix additional typo, add type & data validation","user":{"login":"samcx","id":28912696,"node_id":"MDQ6VXNlcjI4OTEyNjk2","avatar_url":"https://avatars.githubusercontent.com/u/28912696?v=4","gravatar_id":"","url":"https://api.github.com/users/samcx","html_url":"https://github.com/samcx","followers_url":"https://api.github.com/users/samcx/followers","following_url":"https://api.github.com/users/samcx/following{/other_user}","gists_url":"https://api.github.com/users/samcx/gists{/gist_id}","starred_url":"https://api.github.com/users/samcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samcx/subscriptions","organizations_url":"https://api.github.com/users/samcx/orgs","repos_url":"https://api.github.com/users/samcx/repos","events_url":"https://api.github.com/users/samcx/events{/privacy}","received_events_url":"https://api.github.com/users/samcx/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":{"login":"samcx","id":28912696,"node_id":"MDQ6VXNlcjI4OTEyNjk2","avatar_url":"https://avatars.githubusercontent.com/u/28912696?v=4","gravatar_id":"","url":"https://api.github.com/users/samcx","html_url":"https://github.com/samcx","followers_url":"https://api.github.com/users/samcx/followers","following_url":"https://api.github.com/users/samcx/following{/other_user}","gists_url":"https://api.github.com/users/samcx/gists{/gist_id}","starred_url":"https://api.github.com/users/samcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samcx/subscriptions","organizations_url":"https://api.github.com/users/samcx/orgs","repos_url":"https://api.github.com/users/samcx/repos","events_url":"https://api.github.com/users/samcx/events{/privacy}","received_events_url":"https://api.github.com/users/samcx/received_events","type":"User","site_admin":false},"assignees":[{"login":"samcx","id":28912696,"node_id":"MDQ6VXNlcjI4OTEyNjk2","avatar_url":"https://avatars.githubusercontent.com/u/28912696?v=4","gravatar_id":"","url":"https://api.github.com/users/samcx","html_url":"https://github.com/samcx","followers_url":"https://api.github.com/users/samcx/followers","following_url":"https://api.github.com/users/samcx/following{/other_user}","gists_url":"https://api.github.com/users/samcx/gists{/gist_id}","starred_url":"https://api.github.com/users/samcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samcx/subscriptions","organizations_url":"https://api.github.com/users/samcx/orgs","repos_url":"https://api.github.com/users/samcx/repos","events_url":"https://api.github.com/users/samcx/events{/privacy}","received_events_url":"https://api.github.com/users/samcx/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2024-04-19T19:01:19Z","updated_at":"2024-05-07T00:04:01Z","closed_at":"2024-04-22T23:03:10Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64799","html_url":"https://github.com/vercel/next.js/pull/64799","diff_url":"https://github.com/vercel/next.js/pull/64799.diff","patch_url":"https://github.com/vercel/next.js/pull/64799.patch","merged_at":"2024-04-22T23:03:10Z"},"body":"## Why?\r\n\r\nThis PR fixes the fetch cache, which currently is not using the fetch cache when it exists (the tags were not getting set properly), and tags have not updated.\r\n\r\n(Before)\r\n\r\nhttps://github.com/vercel/next.js/assets/28912696/74d8f592-0698-4ae4-be4b-30cffb1ffe11\r\n\r\n(After)\r\n\r\nhttps://github.com/vercel/next.js/assets/28912696/af12b13a-46c6-41c3-9ac3-20e1ec44a865\r\n\r\n- https://github.com/vercel/next.js/pull/64786\r\n- https://github.com/vercel/next.js/pull/63547\r\n\r\nCloses NEXT-3173","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64799/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64799/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64798","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64798/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64798/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64798/events","html_url":"https://github.com/vercel/next.js/pull/64798","id":2253686587,"node_id":"PR_kwDOBC3Cis5tNYUX","number":64798,"title":"Update React from 14898b6a9 to c3048aab4","user":{"login":"eps1lon","id":12292047,"node_id":"MDQ6VXNlcjEyMjkyMDQ3","avatar_url":"https://avatars.githubusercontent.com/u/12292047?v=4","gravatar_id":"","url":"https://api.github.com/users/eps1lon","html_url":"https://github.com/eps1lon","followers_url":"https://api.github.com/users/eps1lon/followers","following_url":"https://api.github.com/users/eps1lon/following{/other_user}","gists_url":"https://api.github.com/users/eps1lon/gists{/gist_id}","starred_url":"https://api.github.com/users/eps1lon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eps1lon/subscriptions","organizations_url":"https://api.github.com/users/eps1lon/orgs","repos_url":"https://api.github.com/users/eps1lon/repos","events_url":"https://api.github.com/users/eps1lon/events{/privacy}","received_events_url":"https://api.github.com/users/eps1lon/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-19T18:48:35Z","updated_at":"2024-05-09T12:02:05Z","closed_at":"2024-04-25T10:35:36Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64798","html_url":"https://github.com/vercel/next.js/pull/64798","diff_url":"https://github.com/vercel/next.js/pull/64798.diff","patch_url":"https://github.com/vercel/next.js/pull/64798.patch","merged_at":"2024-04-25T10:35:36Z"},"body":"### Internal changes required for the sync\r\n\r\n- caught errors go through `console.error` not `reportError` so we need to spy on `console.error` *and* `error` events to collect errors for the redbox. Ideally we'd move away from `console.error` mocking and `error` event handlers in favor of `onCaughtError` and `onUncaughtError`. But these methods don't compose nicely. I'll have a proposal shortly to make them more useful.\r\n- I had to revert part of https://github.com/vercel/next.js/pull/56082 since that caused `require('next/dist/compiled/react-dom/cjs/react-dom-server.edge.production.min.js'))` to appear in page.js server bundles which resulted in the installed `react-dom` being used. It may be best to run app-dir tests without React installed to catch these issues earlier. For that to be effective, we'd also have to rewrite fixtures that mix pages and app dir. I'll double check what the impact of reverting https://github.com/vercel/next.js/pull/56082 is. Maybe https://github.com/vercel/next.js/pull/64992 is an alternate fix for this issue.\r\n\r\n### React upstream changes\r\n\r\n- https://github.com/facebook/react/pull/28643\r\n- https://github.com/facebook/react/pull/28628\r\n- https://github.com/facebook/react/pull/28361\r\n- https://github.com/facebook/react/pull/28513\r\n- https://github.com/facebook/react/pull/28299\r\n- https://github.com/facebook/react/pull/28617\r\n- https://github.com/facebook/react/pull/28618\r\n- https://github.com/facebook/react/pull/28621\r\n- https://github.com/facebook/react/pull/28614\r\n- https://github.com/facebook/react/pull/28596\r\n- https://github.com/facebook/react/pull/28625\r\n- https://github.com/facebook/react/pull/28616\r\n- https://github.com/facebook/react/pull/28491\r\n- https://github.com/facebook/react/pull/28583\r\n- https://github.com/facebook/react/pull/28427\r\n- https://github.com/facebook/react/pull/28613\r\n- https://github.com/facebook/react/pull/28599\r\n- https://github.com/facebook/react/pull/28611\r\n- https://github.com/facebook/react/pull/28610\r\n- https://github.com/facebook/react/pull/28606\r\n- https://github.com/facebook/react/pull/28598\r\n- https://github.com/facebook/react/pull/28549\r\n- https://github.com/facebook/react/pull/28557\r\n- https://github.com/facebook/react/pull/28467\r\n- https://github.com/facebook/react/pull/28591\r\n- https://github.com/facebook/react/pull/28459\r\n- https://github.com/facebook/react/pull/28590\r\n- https://github.com/facebook/react/pull/28564\r\n- https://github.com/facebook/react/pull/28582\r\n- https://github.com/facebook/react/pull/28579\r\n- https://github.com/facebook/react/pull/28578\r\n- https://github.com/facebook/react/pull/28521\r\n- https://github.com/facebook/react/pull/28550\r\n- https://github.com/facebook/react/pull/28576\r\n- https://github.com/facebook/react/pull/28577\r\n- https://github.com/facebook/react/pull/28571\r\n- https://github.com/facebook/react/pull/28572\r\n- https://github.com/facebook/react/pull/28560\r\n- https://github.com/facebook/react/pull/28569\r\n- https://github.com/facebook/react/pull/28573\r\n- https://github.com/facebook/react/pull/28546\r\n- https://github.com/facebook/react/pull/28568\r\n- https://github.com/facebook/react/pull/28562\r\n- https://github.com/facebook/react/pull/28566\r\n- https://github.com/facebook/react/pull/28565\r\n- https://github.com/facebook/react/pull/28559\r\n- https://github.com/facebook/react/pull/28508\r\n- https://github.com/facebook/react/pull/20432\r\n- https://github.com/facebook/react/pull/28555\r\n- https://github.com/facebook/react/pull/24730\r\n- https://github.com/facebook/react/pull/28472\r\n- https://github.com/facebook/react/pull/27991\r\n- https://github.com/facebook/react/pull/28514\r\n- https://github.com/facebook/react/pull/28548\r\n- https://github.com/facebook/react/pull/28526\r\n- https://github.com/facebook/react/pull/28515\r\n- https://github.com/facebook/react/pull/28533\r\n- https://github.com/facebook/react/pull/28532\r\n- https://github.com/facebook/react/pull/28531\r\n- https://github.com/facebook/react/pull/28407\r\n- https://github.com/facebook/react/pull/28522\r\n- https://github.com/facebook/react/pull/28538\r\n- https://github.com/facebook/react/pull/28509\r\n- https://github.com/facebook/react/pull/28534\r\n- https://github.com/facebook/react/pull/28527\r\n- https://github.com/facebook/react/pull/28528\r\n- https://github.com/facebook/react/pull/28519\r\n- https://github.com/facebook/react/pull/28411\r\n- https://github.com/facebook/react/pull/28520\r\n- https://github.com/facebook/react/pull/28518\r\n- https://github.com/facebook/react/pull/28493\r\n- https://github.com/facebook/react/pull/28504\r\n- https://github.com/facebook/react/pull/28499\r\n- https://github.com/facebook/react/pull/28501\r\n- https://github.com/facebook/react/pull/28496\r\n- https://github.com/facebook/react/pull/28471\r\n- https://github.com/facebook/react/pull/28351\r\n- https://github.com/facebook/react/pull/28486\r\n- https://github.com/facebook/react/pull/28490\r\n- https://github.com/facebook/react/pull/28488\r\n- https://github.com/facebook/react/pull/28468\r\n- https://github.com/facebook/react/pull/28321\r\n- https://github.com/facebook/react/pull/28477\r\n- https://github.com/facebook/react/pull/28479\r\n- https://github.com/facebook/react/pull/28480\r\n- https://github.com/facebook/react/pull/28478\r\n- https://github.com/facebook/react/pull/28464\r\n- https://github.com/facebook/react/pull/28475\r\n- https://github.com/facebook/react/pull/28456\r\n- https://github.com/facebook/react/pull/28319\r\n- https://github.com/facebook/react/pull/28345\r\n- https://github.com/facebook/react/pull/28337\r\n- https://github.com/facebook/react/pull/28335\r\n- https://github.com/facebook/react/pull/28466\r\n- https://github.com/facebook/react/pull/28462\r\n- https://github.com/facebook/react/pull/28322\r\n- https://github.com/facebook/react/pull/28444\r\n- https://github.com/facebook/react/pull/28448\r\n- https://github.com/facebook/react/pull/28449\r\n- https://github.com/facebook/react/pull/28446\r\n- https://github.com/facebook/react/pull/28447\r\n- https://github.com/facebook/react/pull/24580\r\n- https://github.com/facebook/react/pull/28514\r\n- https://github.com/facebook/react/pull/28548\r\n- https://github.com/facebook/react/pull/28526\r\n- https://github.com/facebook/react/pull/28515\r\n- https://github.com/facebook/react/pull/28533\r\n- https://github.com/facebook/react/pull/28532\r\n- https://github.com/facebook/react/pull/28531\r\n- https://github.com/facebook/react/pull/28407\r\n- https://github.com/facebook/react/pull/28522\r\n- https://github.com/facebook/react/pull/28538\r\n- https://github.com/facebook/react/pull/28509\r\n- https://github.com/facebook/react/pull/28534\r\n- https://github.com/facebook/react/pull/28527\r\n- https://github.com/facebook/react/pull/28528\r\n- https://github.com/facebook/react/pull/28519\r\n- https://github.com/facebook/react/pull/28411\r\n- https://github.com/facebook/react/pull/28520\r\n- https://github.com/facebook/react/pull/28518\r\n- https://github.com/facebook/react/pull/28493\r\n- https://github.com/facebook/react/pull/28504\r\n- https://github.com/facebook/react/pull/28499\r\n- https://github.com/facebook/react/pull/28501\r\n- https://github.com/facebook/react/pull/28496\r\n- https://github.com/facebook/react/pull/28471\r\n- https://github.com/facebook/react/pull/28351\r\n- https://github.com/facebook/react/pull/28486\r\n- https://github.com/facebook/react/pull/28490\r\n- https://github.com/facebook/react/pull/28488\r\n- https://github.com/facebook/react/pull/28468\r\n- https://github.com/facebook/react/pull/28321\r\n- https://github.com/facebook/react/pull/28477\r\n- https://github.com/facebook/react/pull/28479\r\n- https://github.com/facebook/react/pull/28480\r\n- https://github.com/facebook/react/pull/28478\r\n- https://github.com/facebook/react/pull/28464\r\n- https://github.com/facebook/react/pull/28475\r\n- https://github.com/facebook/react/pull/28456\r\n- https://github.com/facebook/react/pull/28319\r\n- https://github.com/facebook/react/pull/28345\r\n- https://github.com/facebook/react/pull/28337\r\n- https://github.com/facebook/react/pull/28335\r\n- https://github.com/facebook/react/pull/28466\r\n- https://github.com/facebook/react/pull/28462\r\n- https://github.com/facebook/react/pull/28322\r\n- https://github.com/facebook/react/pull/28444\r\n- https://github.com/facebook/react/pull/28448\r\n- https://github.com/facebook/react/pull/28449\r\n- https://github.com/facebook/react/pull/28446\r\n- https://github.com/facebook/react/pull/28447\r\n- https://github.com/facebook/react/pull/24580\r\n\r\nCloses NEXT-3170","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64798/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64798/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64795","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64795/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64795/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64795/events","html_url":"https://github.com/vercel/next.js/pull/64795","id":2253562394,"node_id":"PR_kwDOBC3Cis5tM9G8","number":64795,"title":"docs: \"generateMetadata\" to \"generateViewport\" in doc \"generateViewport\"","user":{"login":"Auxdible","id":58159084,"node_id":"MDQ6VXNlcjU4MTU5MDg0","avatar_url":"https://avatars.githubusercontent.com/u/58159084?v=4","gravatar_id":"","url":"https://api.github.com/users/Auxdible","html_url":"https://github.com/Auxdible","followers_url":"https://api.github.com/users/Auxdible/followers","following_url":"https://api.github.com/users/Auxdible/following{/other_user}","gists_url":"https://api.github.com/users/Auxdible/gists{/gist_id}","starred_url":"https://api.github.com/users/Auxdible/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Auxdible/subscriptions","organizations_url":"https://api.github.com/users/Auxdible/orgs","repos_url":"https://api.github.com/users/Auxdible/repos","events_url":"https://api.github.com/users/Auxdible/events{/privacy}","received_events_url":"https://api.github.com/users/Auxdible/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-19T17:50:47Z","updated_at":"2024-05-04T00:05:14Z","closed_at":"2024-04-19T18:36:26Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64795","html_url":"https://github.com/vercel/next.js/pull/64795","diff_url":"https://github.com/vercel/next.js/pull/64795.diff","patch_url":"https://github.com/vercel/next.js/pull/64795.patch","merged_at":"2024-04-19T18:36:26Z"},"body":"Changed \"generateMetadata\" to \"generateViewport\" in generate-viewport.mdx","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64795/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64794","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64794/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64794/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64794/events","html_url":"https://github.com/vercel/next.js/pull/64794","id":2253465655,"node_id":"PR_kwDOBC3Cis5tMppE","number":64794,"title":"Update index.mdx","user":{"login":"IAmKushagraSharma","id":162145291,"node_id":"U_kgDOCaokCw","avatar_url":"https://avatars.githubusercontent.com/u/162145291?v=4","gravatar_id":"","url":"https://api.github.com/users/IAmKushagraSharma","html_url":"https://github.com/IAmKushagraSharma","followers_url":"https://api.github.com/users/IAmKushagraSharma/followers","following_url":"https://api.github.com/users/IAmKushagraSharma/following{/other_user}","gists_url":"https://api.github.com/users/IAmKushagraSharma/gists{/gist_id}","starred_url":"https://api.github.com/users/IAmKushagraSharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IAmKushagraSharma/subscriptions","organizations_url":"https://api.github.com/users/IAmKushagraSharma/orgs","repos_url":"https://api.github.com/users/IAmKushagraSharma/repos","events_url":"https://api.github.com/users/IAmKushagraSharma/events{/privacy}","received_events_url":"https://api.github.com/users/IAmKushagraSharma/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-19T16:59:46Z","updated_at":"2024-05-04T00:05:16Z","closed_at":"2024-04-19T18:34:21Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64794","html_url":"https://github.com/vercel/next.js/pull/64794","diff_url":"https://github.com/vercel/next.js/pull/64794.diff","patch_url":"https://github.com/vercel/next.js/pull/64794.patch","merged_at":"2024-04-19T18:34:21Z"},"body":"Removed a type annotation from a code block\r\n\r\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64794/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64793","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64793/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64793/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64793/events","html_url":"https://github.com/vercel/next.js/issues/64793","id":2253459669,"node_id":"I_kwDOBC3Cis6GURDV","number":64793,"title":"Redirecting to same page (with different parameters) does not reload the entire page","user":{"login":"gmantri","id":2417437,"node_id":"MDQ6VXNlcjI0MTc0Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/2417437?v=4","gravatar_id":"","url":"https://api.github.com/users/gmantri","html_url":"https://github.com/gmantri","followers_url":"https://api.github.com/users/gmantri/followers","following_url":"https://api.github.com/users/gmantri/following{/other_user}","gists_url":"https://api.github.com/users/gmantri/gists{/gist_id}","starred_url":"https://api.github.com/users/gmantri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmantri/subscriptions","organizations_url":"https://api.github.com/users/gmantri/orgs","repos_url":"https://api.github.com/users/gmantri/repos","events_url":"https://api.github.com/users/gmantri/events{/privacy}","received_events_url":"https://api.github.com/users/gmantri/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-04-19T16:55:36Z","updated_at":"2024-05-07T12:01:47Z","closed_at":"2024-04-23T11:32:58Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/gmantri/nextjs-ssr-redirect-issue\n\n### To Reproduce\n\n1. Clone the repository.\r\n2. Navigate to the project folder and then to `my-app` folder.\r\n3. Run the app using `npm run dev`.\r\n4. Click on `Add Client Item` a couple of times. You should see some lines added.\r\n5. Now click on `Click Me` button to call redirect.\r\n6. The time on the 1st line changes however you will notice that the items added via `Add Client Item` still remains. \n\n### Current vs. Expected behavior\n\nIn my application, I fetch some items from the server and display them. Then I fetch some more items on the client side. Now I want to reload the page with some different query parameters. Currently I am noticing that the content I fetched through the server-side call is getting changed however the content I fetched via client-side calls still remains on the page. I was expecting that my entire page will be reloaded and I will only see the content I fetched via server-side call. \n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: arm64\r\n  Version: Darwin Kernel Version 23.4.0: Fri Mar 15 00:10:42 PDT 2024; root:xnu-10063.101.17~1/RELEASE_ARM64_T6000\r\n  Available memory (MB): 32768\r\n  Available CPU cores: 10\r\nBinaries:\r\n  Node: 20.10.0\r\n  npm: 10.2.3\r\n  Yarn: 1.22.21\r\n  pnpm: N/A\r\nRelevant Packages:\r\n  next: 14.2.2 // Latest available version is detected (14.2.2).\r\n  eslint-config-next: 14.2.2\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nNot sure\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64793/reactions","total_count":1,"+1":0,"-1":1,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64793/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64790","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64790/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64790/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64790/events","html_url":"https://github.com/vercel/next.js/issues/64790","id":2253345834,"node_id":"I_kwDOBC3Cis6GT1Qq","number":64790,"title":"Sitemap generation with multi languages doesn't produce the XML!","user":{"login":"fabianghe","id":154279715,"node_id":"U_kgDOCTIfIw","avatar_url":"https://avatars.githubusercontent.com/u/154279715?v=4","gravatar_id":"","url":"https://api.github.com/users/fabianghe","html_url":"https://github.com/fabianghe","followers_url":"https://api.github.com/users/fabianghe/followers","following_url":"https://api.github.com/users/fabianghe/following{/other_user}","gists_url":"https://api.github.com/users/fabianghe/gists{/gist_id}","starred_url":"https://api.github.com/users/fabianghe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabianghe/subscriptions","organizations_url":"https://api.github.com/users/fabianghe/orgs","repos_url":"https://api.github.com/users/fabianghe/repos","events_url":"https://api.github.com/users/fabianghe/events{/privacy}","received_events_url":"https://api.github.com/users/fabianghe/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-19T15:56:11Z","updated_at":"2024-04-19T15:56:55Z","closed_at":"2024-04-19T15:56:49Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\nhttps://github.com/vercel/next.js/blob/canary/examples/with-sitemap/scripts/generate-sitemap.js\n\n### To Reproduce\n\nHi, you can use your own example from https://nextjs.org/docs/app/api-reference/file-conventions/metadata/sitemap: \r\n\r\n```\r\nimport { MetadataRoute } from 'next'\r\n \r\nexport default function sitemap(): MetadataRoute.Sitemap {\r\n  return [\r\n    {\r\n      url: 'https://acme.com',\r\n      lastModified: new Date(),\r\n      alternates: {\r\n        languages: {\r\n          es: 'https://acme.com/es',\r\n          de: 'https://acme.com/de',\r\n        },\r\n      },\r\n    },\r\n    {\r\n      url: 'https://acme.com/about',\r\n      lastModified: new Date(),\r\n      alternates: {\r\n        languages: {\r\n          es: 'https://acme.com/es/about',\r\n          de: 'https://acme.com/de/about',\r\n        },\r\n      },\r\n    },\r\n    {\r\n      url: 'https://acme.com/blog',\r\n      lastModified: new Date(),\r\n      alternates: {\r\n        languages: {\r\n          es: 'https://acme.com/es/blog',\r\n          de: 'https://acme.com/de/blog',\r\n        },\r\n      },\r\n    },\r\n  ]\r\n}\r\n```\n\n### Current vs. Expected behavior\n\nCurrently not generating an XML, if you have multiple languages\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: arm64\r\n  Version: Darwin Kernel Version 23.4.0: Fri Mar 15 00:10:42 PDT 2024; root:xnu-10063.101.17~1/RELEASE_ARM64_T6000\r\n  Available memory (MB): 16384\r\n  Available CPU cores: 8\r\nBinaries:\r\n  Node: 20.12.2\r\n  npm: 10.5.0\r\n  Yarn: 4.0.1\r\n  pnpm: N/A\r\nRelevant Packages:\r\n  next: 14.2.2 // Latest available version is detected (14.2.2).\r\n  eslint-config-next: N/A\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.2.2\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nNot sure\n\n### Which stage(s) are affected? (Select all that apply)\n\nOther (Deployed)\n\n### Additional context\n\n14.2.2 next version","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64790/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64789","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64789/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64789/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64789/events","html_url":"https://github.com/vercel/next.js/pull/64789","id":2253343615,"node_id":"PR_kwDOBC3Cis5tMP7e","number":64789,"title":"Move next-swc Turborepo config to packages/next-swc","user":{"login":"timneutkens","id":6324199,"node_id":"MDQ6VXNlcjYzMjQxOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6324199?v=4","gravatar_id":"","url":"https://api.github.com/users/timneutkens","html_url":"https://github.com/timneutkens","followers_url":"https://api.github.com/users/timneutkens/followers","following_url":"https://api.github.com/users/timneutkens/following{/other_user}","gists_url":"https://api.github.com/users/timneutkens/gists{/gist_id}","starred_url":"https://api.github.com/users/timneutkens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timneutkens/subscriptions","organizations_url":"https://api.github.com/users/timneutkens/orgs","repos_url":"https://api.github.com/users/timneutkens/repos","events_url":"https://api.github.com/users/timneutkens/events{/privacy}","received_events_url":"https://api.github.com/users/timneutkens/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-19T15:55:11Z","updated_at":"2024-05-06T00:04:17Z","closed_at":"2024-04-21T18:17:06Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64789","html_url":"https://github.com/vercel/next.js/pull/64789","diff_url":"https://github.com/vercel/next.js/pull/64789.diff","patch_url":"https://github.com/vercel/next.js/pull/64789.patch","merged_at":"2024-04-21T18:17:06Z"},"body":"## What?\n\nTurborepo supports nested `turbo.json`. Moving this config down into `packages/next-swc` so that the `next-swc` specific config is not in the global config file.\n\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\nChoose the right checklist for the change(s) that you're making:\n\n## For Contributors\n\n### Improving Documentation\n\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\n\n### Adding or Updating Examples\n\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\n\n### Fixing a bug\n\n- Related issues linked using `fixes #number`\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\n\n### Adding a feature\n\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\n- Related issues/discussions are linked using `fixes #number`\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\n- Documentation added\n- Telemetry added. In case of a feature if it's used or not.\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\n\n\n## For Maintainers\n\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\n- When linking to a Slack thread, you might want to share details of the conclusion\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\n- Add review comments if necessary to explain to the reviewer the logic behind a change\n\n### What?\n\n### Why?\n\n### How?\n\nCloses NEXT-\nFixes #\n\n-->\n\n\nCloses NEXT-3169","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64789/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64786","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64786/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64786/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64786/events","html_url":"https://github.com/vercel/next.js/pull/64786","id":2253267165,"node_id":"PR_kwDOBC3Cis5tL-_0","number":64786,"title":"fix(fetch-cache): fix typo","user":{"login":"samcx","id":28912696,"node_id":"MDQ6VXNlcjI4OTEyNjk2","avatar_url":"https://avatars.githubusercontent.com/u/28912696?v=4","gravatar_id":"","url":"https://api.github.com/users/samcx","html_url":"https://github.com/samcx","followers_url":"https://api.github.com/users/samcx/followers","following_url":"https://api.github.com/users/samcx/following{/other_user}","gists_url":"https://api.github.com/users/samcx/gists{/gist_id}","starred_url":"https://api.github.com/users/samcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samcx/subscriptions","organizations_url":"https://api.github.com/users/samcx/orgs","repos_url":"https://api.github.com/users/samcx/repos","events_url":"https://api.github.com/users/samcx/events{/privacy}","received_events_url":"https://api.github.com/users/samcx/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":{"login":"samcx","id":28912696,"node_id":"MDQ6VXNlcjI4OTEyNjk2","avatar_url":"https://avatars.githubusercontent.com/u/28912696?v=4","gravatar_id":"","url":"https://api.github.com/users/samcx","html_url":"https://github.com/samcx","followers_url":"https://api.github.com/users/samcx/followers","following_url":"https://api.github.com/users/samcx/following{/other_user}","gists_url":"https://api.github.com/users/samcx/gists{/gist_id}","starred_url":"https://api.github.com/users/samcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samcx/subscriptions","organizations_url":"https://api.github.com/users/samcx/orgs","repos_url":"https://api.github.com/users/samcx/repos","events_url":"https://api.github.com/users/samcx/events{/privacy}","received_events_url":"https://api.github.com/users/samcx/received_events","type":"User","site_admin":false},"assignees":[{"login":"samcx","id":28912696,"node_id":"MDQ6VXNlcjI4OTEyNjk2","avatar_url":"https://avatars.githubusercontent.com/u/28912696?v=4","gravatar_id":"","url":"https://api.github.com/users/samcx","html_url":"https://github.com/samcx","followers_url":"https://api.github.com/users/samcx/followers","following_url":"https://api.github.com/users/samcx/following{/other_user}","gists_url":"https://api.github.com/users/samcx/gists{/gist_id}","starred_url":"https://api.github.com/users/samcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samcx/subscriptions","organizations_url":"https://api.github.com/users/samcx/orgs","repos_url":"https://api.github.com/users/samcx/repos","events_url":"https://api.github.com/users/samcx/events{/privacy}","received_events_url":"https://api.github.com/users/samcx/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2024-04-19T15:18:42Z","updated_at":"2024-05-04T00:05:19Z","closed_at":"2024-04-19T15:36:29Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64786","html_url":"https://github.com/vercel/next.js/pull/64786","diff_url":"https://github.com/vercel/next.js/pull/64786.diff","patch_url":"https://github.com/vercel/next.js/pull/64786.patch","merged_at":"2024-04-19T15:36:29Z"},"body":"## Why?\r\n\r\nThis typo was resulting in this error on deploy.\r\n\r\n```\r\nFailed to get from fetch-cache TypeError: s.tags.include is not a function\r\n```\r\n\r\nCloses NEXT-3168","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64786/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64786/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64785","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64785/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64785/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64785/events","html_url":"https://github.com/vercel/next.js/pull/64785","id":2253232078,"node_id":"PR_kwDOBC3Cis5tL3QB","number":64785,"title":"Docs: Explain why Layouts (RSCs) can't access `pathname`","user":{"login":"delbaoliveira","id":32464864,"node_id":"MDQ6VXNlcjMyNDY0ODY0","avatar_url":"https://avatars.githubusercontent.com/u/32464864?v=4","gravatar_id":"","url":"https://api.github.com/users/delbaoliveira","html_url":"https://github.com/delbaoliveira","followers_url":"https://api.github.com/users/delbaoliveira/followers","following_url":"https://api.github.com/users/delbaoliveira/following{/other_user}","gists_url":"https://api.github.com/users/delbaoliveira/gists{/gist_id}","starred_url":"https://api.github.com/users/delbaoliveira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delbaoliveira/subscriptions","organizations_url":"https://api.github.com/users/delbaoliveira/orgs","repos_url":"https://api.github.com/users/delbaoliveira/repos","events_url":"https://api.github.com/users/delbaoliveira/events{/privacy}","received_events_url":"https://api.github.com/users/delbaoliveira/received_events","type":"User","site_admin":false},"labels":[{"id":549032284,"node_id":"MDU6TGFiZWw1NDkwMzIyODQ=","url":"https://api.github.com/repos/vercel/next.js/labels/examples","name":"examples","color":"ecffaf","default":false,"description":"Issue/PR related to examples"},{"id":3555423777,"node_id":"LA_kwDOBC3Cis7T63Yh","url":"https://api.github.com/repos/vercel/next.js/labels/Font%20(next/font)","name":"Font (next/font)","color":"0D3A54","default":false,"description":"Related to Next.js Font Optimization."},{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5599678234,"node_id":"LA_kwDOBC3Cis8AAAABTcRPGg","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20DevEx%20team","name":"created-by: Next.js DevEx team","color":"000000","default":false,"description":""},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-04-19T15:02:55Z","updated_at":"2024-05-17T00:04:45Z","closed_at":"2024-04-25T07:44:12Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64785","html_url":"https://github.com/vercel/next.js/pull/64785","diff_url":"https://github.com/vercel/next.js/pull/64785.diff","patch_url":"https://github.com/vercel/next.js/pull/64785.patch","merged_at":"2024-04-25T07:44:12Z"},"body":"- Add section explaining why `pathname` can't be accessed in a layout ([file](https://github.com/vercel/next.js/pull/64785/files#diff-8eb7b23d3da342a1a407cdb6cc9c2d0dc2a455091ba2c4b6dbc41ba6cf840367))\r\n- Split pages and layouts files (to add layout-specific examples in the future)\r\n- Clean up the existing active links example \r\n\r\nI'll add layout-specific examples in a follow-up PR, after creating some demos. ","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64785/reactions","total_count":9,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":3,"eyes":4},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64785/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64782","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64782/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64782/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64782/events","html_url":"https://github.com/vercel/next.js/issues/64782","id":2253185059,"node_id":"I_kwDOBC3Cis6GTOAj","number":64782,"title":"Testing frameworks (Vitest) cannot correctly resolve React to the internal Next version, causing tests to fail","user":{"login":"jthrilly","id":1387940,"node_id":"MDQ6VXNlcjEzODc5NDA=","avatar_url":"https://avatars.githubusercontent.com/u/1387940?v=4","gravatar_id":"","url":"https://api.github.com/users/jthrilly","html_url":"https://github.com/jthrilly","followers_url":"https://api.github.com/users/jthrilly/followers","following_url":"https://api.github.com/users/jthrilly/following{/other_user}","gists_url":"https://api.github.com/users/jthrilly/gists{/gist_id}","starred_url":"https://api.github.com/users/jthrilly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jthrilly/subscriptions","organizations_url":"https://api.github.com/users/jthrilly/orgs","repos_url":"https://api.github.com/users/jthrilly/repos","events_url":"https://api.github.com/users/jthrilly/events{/privacy}","received_events_url":"https://api.github.com/users/jthrilly/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":3558326233,"node_id":"LA_kwDOBC3Cis7UF7_Z","url":"https://api.github.com/repos/vercel/next.js/labels/Testing","name":"Testing","color":"1D59AC","default":false,"description":"Related to testing with Next.js."},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-19T14:40:46Z","updated_at":"2024-04-19T14:41:04Z","closed_at":"2024-04-19T14:41:02Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\ngithub.com/jthrilly/vitest-reproduction\n\n### To Reproduce\n\n1. Run or build the application. Note that the `getServerStuff` function returns the value correctly, without errors.\r\n2. Run the `test` task, which triggers `vitest`. Notice that the test fails because `React.cache` is being resolved in the `package.json` version of React, 18.2.\r\n\r\nThe example reproduction uses React.cache, but the same is true of any React canary or experimental APIs which are \"supported\" in Next.\r\n\r\nThis issue also impacts \n\n### Current vs. Expected behavior\n\nCurrent behaviour is that `React.cache` is not resolved in the test. Expected behaviour is that any test environment should have access to the same module resolution as the build and dev environments. If this is not the case by default, a compatibility layer must be provided.\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: arm64\r\n  Version: Darwin Kernel Version 23.4.0: Fri Mar 15 00:12:49 PDT 2024; root:xnu-10063.101.17~1/RELEASE_ARM64_T6020\r\n  Available memory (MB): 32768\r\n  Available CPU cores: 12\r\nBinaries:\r\n  Node: 20.11.0\r\n  npm: 10.2.4\r\n  Yarn: N/A\r\n  pnpm: 8.15.5\r\nRelevant Packages:\r\n  next: 14.2.2 // Latest available version is detected (14.2.2).\r\n  eslint-config-next: 14.2.2\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nTesting\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local), next build (local), next start (local)\n\n### Additional context\n\nUnit tests (run via vitest, bun test, or the node test runner) that touch canary or experimental React features fail because they resolve React to the version in package.json, rather than the internal version used by Next. \r\n\r\nAdditionally, some next subpackage exports cannot be resolved by vittest, such as `next/headers`, `next/cache`, etc).\r\n\r\nThese issues have two causes:\r\n\r\n1. Next is using an internal version of React, which is not resolved outside of next specific build/serve commands.\r\n2. The way `next/cache` etc are exported is not compatible with the way that vite ESM module resolution works (a file extension is expected, for some reason). \r\n\r\nSince vitest is one of the recommended ways to introduce unit testing into a NextJs app (as per the docs), I expect code that works in dev and production to also work in this test environment.\r\n\r\nThe React issue specifically can be worked around using a resolve alias in vitest that points to `next/dist/compiled/react/cjs/react.development.js` (this is demonstrated in the repro), but this creates a maintenance issue. Regardless of alias config, vitest cannot correctly resolve other next packages such as `next/cache`, `next/headers` etc. \r\n\r\nBottom line is that there should **never** be an intentional difference between the dev/prod and test environments. It totally undermines the testing! ","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64782/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64781","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64781/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64781/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64781/events","html_url":"https://github.com/vercel/next.js/pull/64781","id":2253079833,"node_id":"PR_kwDOBC3Cis5tLWVi","number":64781,"title":"Docs: Clarify template.js behavior","user":{"login":"delbaoliveira","id":32464864,"node_id":"MDQ6VXNlcjMyNDY0ODY0","avatar_url":"https://avatars.githubusercontent.com/u/32464864?v=4","gravatar_id":"","url":"https://api.github.com/users/delbaoliveira","html_url":"https://github.com/delbaoliveira","followers_url":"https://api.github.com/users/delbaoliveira/followers","following_url":"https://api.github.com/users/delbaoliveira/following{/other_user}","gists_url":"https://api.github.com/users/delbaoliveira/gists{/gist_id}","starred_url":"https://api.github.com/users/delbaoliveira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delbaoliveira/subscriptions","organizations_url":"https://api.github.com/users/delbaoliveira/orgs","repos_url":"https://api.github.com/users/delbaoliveira/repos","events_url":"https://api.github.com/users/delbaoliveira/events{/privacy}","received_events_url":"https://api.github.com/users/delbaoliveira/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5599678234,"node_id":"LA_kwDOBC3Cis8AAAABTcRPGg","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20DevEx%20team","name":"created-by: Next.js DevEx team","color":"000000","default":false,"description":""},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-04-19T13:51:10Z","updated_at":"2024-05-04T00:05:24Z","closed_at":"2024-04-19T14:27:01Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64781","html_url":"https://github.com/vercel/next.js/pull/64781","diff_url":"https://github.com/vercel/next.js/pull/64781.diff","patch_url":"https://github.com/vercel/next.js/pull/64781.patch","merged_at":"2024-04-19T14:27:01Z"},"body":"Docs changes for DX item: \"Why can't I use pathname in a Server Component\"","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64781/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64777","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64777/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64777/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64777/events","html_url":"https://github.com/vercel/next.js/issues/64777","id":2252733087,"node_id":"I_kwDOBC3Cis6GRfqf","number":64777,"title":"NO WARNING FOR DEFAULT EXPORT in route.ts file","user":{"login":"Akshaypmna18","id":67232475,"node_id":"MDQ6VXNlcjY3MjMyNDc1","avatar_url":"https://avatars.githubusercontent.com/u/67232475?v=4","gravatar_id":"","url":"https://api.github.com/users/Akshaypmna18","html_url":"https://github.com/Akshaypmna18","followers_url":"https://api.github.com/users/Akshaypmna18/followers","following_url":"https://api.github.com/users/Akshaypmna18/following{/other_user}","gists_url":"https://api.github.com/users/Akshaypmna18/gists{/gist_id}","starred_url":"https://api.github.com/users/Akshaypmna18/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Akshaypmna18/subscriptions","organizations_url":"https://api.github.com/users/Akshaypmna18/orgs","repos_url":"https://api.github.com/users/Akshaypmna18/repos","events_url":"https://api.github.com/users/Akshaypmna18/events{/privacy}","received_events_url":"https://api.github.com/users/Akshaypmna18/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-19T11:22:01Z","updated_at":"2024-04-19T11:22:18Z","closed_at":"2024-04-19T11:22:15Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\nhttps://aks-next-prisma-postgres.vercel.app/\n\n### To Reproduce\n\n![image](https://github.com/vercel/next.js/assets/67232475/79bb73d1-8862-4656-972c-eae4a2a389fa)\r\n\r\nin app/api/add-post/route.ts\r\n\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport default async function POST(req: any) {\r\n  const res = await req.json();\r\n  console.log(res);\r\n  return NextResponse.json({ data: res });\r\n}\r\n\r\nin app/add-post/page\r\n\r\nconst handleSubmit = async (data: Form) => {\r\n    try {\r\n      const config = {\r\n        timeout: 7500,\r\n        retry: 1,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      await [axios.post](https://axios.post/)(\"/api/add-post\", data, config);\r\n    } catch (err: any) {\r\n      console.log(err.message);\r\n    } finally {\r\n      form.reset();\r\n    }\r\n  };\r\n\r\nresponse - Request failed with status code 405\n\n### Current vs. Expected behavior\n\nhttps://github.com/vercel/next.js/issues/46375#issuecomment-1446074268\r\n\n\n### Provide environment information\n\n```bash\nis that important\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nNot sure\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\nThere were no warnings about default export error before and after submitting the form.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64777/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64775","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64775/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64775/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64775/events","html_url":"https://github.com/vercel/next.js/pull/64775","id":2252654264,"node_id":"PR_kwDOBC3Cis5tJ4of","number":64775,"title":"chore: rename 'example bug' label to 'examples'","user":{"login":"balazsorban44","id":18369201,"node_id":"MDQ6VXNlcjE4MzY5MjAx","avatar_url":"https://avatars.githubusercontent.com/u/18369201?v=4","gravatar_id":"","url":"https://api.github.com/users/balazsorban44","html_url":"https://github.com/balazsorban44","followers_url":"https://api.github.com/users/balazsorban44/followers","following_url":"https://api.github.com/users/balazsorban44/following{/other_user}","gists_url":"https://api.github.com/users/balazsorban44/gists{/gist_id}","starred_url":"https://api.github.com/users/balazsorban44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/balazsorban44/subscriptions","organizations_url":"https://api.github.com/users/balazsorban44/orgs","repos_url":"https://api.github.com/users/balazsorban44/repos","events_url":"https://api.github.com/users/balazsorban44/events{/privacy}","received_events_url":"https://api.github.com/users/balazsorban44/received_events","type":"User","site_admin":false},"labels":[{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-04-19T10:36:43Z","updated_at":"2024-05-03T12:01:53Z","closed_at":"2024-04-19T10:39:44Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64775","html_url":"https://github.com/vercel/next.js/pull/64775","diff_url":"https://github.com/vercel/next.js/pull/64775.diff","patch_url":"https://github.com/vercel/next.js/pull/64775.patch","merged_at":"2024-04-19T10:39:44Z"},"body":"We also have PRs currently labeled with `example bug` which does not make sense.\r\n\r\nFollow-up on #63713\n\nCloses NEXT-3167","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64775/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64772","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64772/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64772/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64772/events","html_url":"https://github.com/vercel/next.js/pull/64772","id":2252607194,"node_id":"PR_kwDOBC3Cis5tJuWL","number":64772,"title":"chore: exit running related tests if there was no match","user":{"login":"balazsorban44","id":18369201,"node_id":"MDQ6VXNlcjE4MzY5MjAx","avatar_url":"https://avatars.githubusercontent.com/u/18369201?v=4","gravatar_id":"","url":"https://api.github.com/users/balazsorban44","html_url":"https://github.com/balazsorban44","followers_url":"https://api.github.com/users/balazsorban44/followers","following_url":"https://api.github.com/users/balazsorban44/following{/other_user}","gists_url":"https://api.github.com/users/balazsorban44/gists{/gist_id}","starred_url":"https://api.github.com/users/balazsorban44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/balazsorban44/subscriptions","organizations_url":"https://api.github.com/users/balazsorban44/orgs","repos_url":"https://api.github.com/users/balazsorban44/repos","events_url":"https://api.github.com/users/balazsorban44/events{/privacy}","received_events_url":"https://api.github.com/users/balazsorban44/received_events","type":"User","site_admin":false},"labels":[{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-19T10:13:28Z","updated_at":"2024-05-03T12:01:57Z","closed_at":"2024-04-19T10:19:26Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64772","html_url":"https://github.com/vercel/next.js/pull/64772","diff_url":"https://github.com/vercel/next.js/pull/64772.diff","patch_url":"https://github.com/vercel/next.js/pull/64772.patch","merged_at":"2024-04-19T10:19:26Z"},"body":"### What?\r\n\r\nDo not run related tests if none are found.\r\n\r\n### Why?\r\n\r\nJest will exit with an error code if no tests are present.\r\n\r\nSee: https://github.com/vercel/next.js/actions/runs/8751717698/job/24017910049?pr=64770#step:6:119\r\n\r\n\r\n### How?\r\n\r\n`process.exit(0)` if no matching tests were found\r\n\r\nCloses NEXT-3166","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64772/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64770","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64770/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64770/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64770/events","html_url":"https://github.com/vercel/next.js/pull/64770","id":2252569069,"node_id":"PR_kwDOBC3Cis5tJmCS","number":64770,"title":"chore: match label name during autolabeling","user":{"login":"balazsorban44","id":18369201,"node_id":"MDQ6VXNlcjE4MzY5MjAx","avatar_url":"https://avatars.githubusercontent.com/u/18369201?v=4","gravatar_id":"","url":"https://api.github.com/users/balazsorban44","html_url":"https://github.com/balazsorban44","followers_url":"https://api.github.com/users/balazsorban44/followers","following_url":"https://api.github.com/users/balazsorban44/following{/other_user}","gists_url":"https://api.github.com/users/balazsorban44/gists{/gist_id}","starred_url":"https://api.github.com/users/balazsorban44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/balazsorban44/subscriptions","organizations_url":"https://api.github.com/users/balazsorban44/orgs","repos_url":"https://api.github.com/users/balazsorban44/repos","events_url":"https://api.github.com/users/balazsorban44/events{/privacy}","received_events_url":"https://api.github.com/users/balazsorban44/received_events","type":"User","site_admin":false},"labels":[{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-19T09:53:07Z","updated_at":"2024-05-04T00:05:26Z","closed_at":"2024-04-19T12:33:13Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64770","html_url":"https://github.com/vercel/next.js/pull/64770","diff_url":"https://github.com/vercel/next.js/pull/64770.diff","patch_url":"https://github.com/vercel/next.js/pull/64770.patch","merged_at":"2024-04-19T12:33:13Z"},"body":"### What?\r\n\r\nBumping [`nissuer`](https://github.com/balazsorban44/nissuer)\r\n\r\n### Why?\r\n\r\nRecently we refactored our labels to be more useful for maintainers (#63713), but it broke auto-labeling, as it previously matched the label descriptions at https://github.com/vercel/next.js/blob/a532e32ecaae506ddd67d976cc54110aaa90c49c/.github/ISSUE_TEMPLATE/1.bug_report.yml?plain=1#L72-L96 instead of label names.\r\n\r\n### How?\r\n\r\n`nissuer` supports matching on the label name now, tested here:\r\n\r\nhttps://github.com/balazsorban44/nissuer/issues/39#issuecomment-2066228176\r\n\r\n[Slack thread](https://vercel.slack.com/archives/C04LGE5SYEB/p1713446581166399)\n\nCloses NEXT-3165","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64770/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64769","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64769/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64769/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64769/events","html_url":"https://github.com/vercel/next.js/pull/64769","id":2252547903,"node_id":"PR_kwDOBC3Cis5tJhgq","number":64769,"title":"Fix the mdx-components examples","user":{"login":"remcohaszing","id":779047,"node_id":"MDQ6VXNlcjc3OTA0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/779047?v=4","gravatar_id":"","url":"https://api.github.com/users/remcohaszing","html_url":"https://github.com/remcohaszing","followers_url":"https://api.github.com/users/remcohaszing/followers","following_url":"https://api.github.com/users/remcohaszing/following{/other_user}","gists_url":"https://api.github.com/users/remcohaszing/gists{/gist_id}","starred_url":"https://api.github.com/users/remcohaszing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remcohaszing/subscriptions","organizations_url":"https://api.github.com/users/remcohaszing/orgs","repos_url":"https://api.github.com/users/remcohaszing/repos","events_url":"https://api.github.com/users/remcohaszing/events{/privacy}","received_events_url":"https://api.github.com/users/remcohaszing/received_events","type":"User","site_admin":false},"labels":[{"id":549032284,"node_id":"MDU6TGFiZWw1NDkwMzIyODQ=","url":"https://api.github.com/repos/vercel/next.js/labels/examples","name":"examples","color":"ecffaf","default":false,"description":"Issue/PR related to examples"},{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-04-19T09:41:45Z","updated_at":"2024-05-04T00:05:22Z","closed_at":"2024-04-19T14:58:51Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64769","html_url":"https://github.com/vercel/next.js/pull/64769","diff_url":"https://github.com/vercel/next.js/pull/64769.diff","patch_url":"https://github.com/vercel/next.js/pull/64769.patch","merged_at":null},"body":"`useMDXComponents` doesn’t receive any arguments. Also the TypeScript examples now define the global type `MDXProvidedComponents`, which provides TypeScript features such as completion inside MDX files.\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64769/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64767","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64767/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64767/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64767/events","html_url":"https://github.com/vercel/next.js/pull/64767","id":2252512723,"node_id":"PR_kwDOBC3Cis5tJaSO","number":64767,"title":"Upgrade Turborepo","user":{"login":"timneutkens","id":6324199,"node_id":"MDQ6VXNlcjYzMjQxOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6324199?v=4","gravatar_id":"","url":"https://api.github.com/users/timneutkens","html_url":"https://github.com/timneutkens","followers_url":"https://api.github.com/users/timneutkens/followers","following_url":"https://api.github.com/users/timneutkens/following{/other_user}","gists_url":"https://api.github.com/users/timneutkens/gists{/gist_id}","starred_url":"https://api.github.com/users/timneutkens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timneutkens/subscriptions","organizations_url":"https://api.github.com/users/timneutkens/orgs","repos_url":"https://api.github.com/users/timneutkens/repos","events_url":"https://api.github.com/users/timneutkens/events{/privacy}","received_events_url":"https://api.github.com/users/timneutkens/received_events","type":"User","site_admin":false},"labels":[{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-04-19T09:25:39Z","updated_at":"2024-05-04T00:05:18Z","closed_at":"2024-04-19T18:26:55Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64767","html_url":"https://github.com/vercel/next.js/pull/64767","diff_url":"https://github.com/vercel/next.js/pull/64767.diff","patch_url":"https://github.com/vercel/next.js/pull/64767.patch","merged_at":"2024-04-19T18:26:55Z"},"body":"## What?\n\nUpgrade Turborepo to the latest version and enable the new terminal UI to dogfood: https://turbo.build/blog/turbo-1-13-0#new-terminal-ui.\n\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\nChoose the right checklist for the change(s) that you're making:\n\n## For Contributors\n\n### Improving Documentation\n\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\n\n### Adding or Updating Examples\n\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\n\n### Fixing a bug\n\n- Related issues linked using `fixes #number`\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\n\n### Adding a feature\n\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\n- Related issues/discussions are linked using `fixes #number`\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\n- Documentation added\n- Telemetry added. In case of a feature if it's used or not.\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\n\n\n## For Maintainers\n\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\n- When linking to a Slack thread, you might want to share details of the conclusion\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\n- Add review comments if necessary to explain to the reviewer the logic behind a change\n\n### What?\n\n### Why?\n\n### How?\n\nCloses NEXT-\nFixes #\n\n-->\n\n\nCloses NEXT-3164","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64767/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64766","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64766/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64766/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64766/events","html_url":"https://github.com/vercel/next.js/issues/64766","id":2252413016,"node_id":"I_kwDOBC3Cis6GQRhY","number":64766,"title":"Intercepting Routes not working as expected 14.2.1","user":{"login":"nickythorne","id":860710,"node_id":"MDQ6VXNlcjg2MDcxMA==","avatar_url":"https://avatars.githubusercontent.com/u/860710?v=4","gravatar_id":"","url":"https://api.github.com/users/nickythorne","html_url":"https://github.com/nickythorne","followers_url":"https://api.github.com/users/nickythorne/followers","following_url":"https://api.github.com/users/nickythorne/following{/other_user}","gists_url":"https://api.github.com/users/nickythorne/gists{/gist_id}","starred_url":"https://api.github.com/users/nickythorne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickythorne/subscriptions","organizations_url":"https://api.github.com/users/nickythorne/orgs","repos_url":"https://api.github.com/users/nickythorne/repos","events_url":"https://api.github.com/users/nickythorne/events{/privacy}","received_events_url":"https://api.github.com/users/nickythorne/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6834840742,"node_id":"LA_kwDOBC3Cis8AAAABl2Nkpg","url":"https://api.github.com/repos/vercel/next.js/labels/Parallel%20&%20Intercepting%20Routes","name":"Parallel & Intercepting Routes","color":"1C2649","default":false,"description":"Related to Parallel and/or Intercepting routes."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-19T08:33:40Z","updated_at":"2024-05-04T12:01:30Z","closed_at":"2024-04-20T00:11:33Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\r\n\r\nhttps://github.com/nickythorne/intercepting-routes-repro\r\n\r\n### To Reproduce\r\n\r\n1. Install deps `pnpm i`\r\n2. Start application `pnpm run dev`\r\n3. Visit route `http://localhost:3000/app/organisations/1/applications/1/environments/1/security-centre/assets/1`\r\n4. Click \"Trigger Intercepting Route\" link\r\n5. Page redirects to page route, instead of the intercepted route\r\n\r\n### Current vs. Expected behavior\r\n\r\nI have the following route configuration:\r\n<img width=\"543\" alt=\"Screenshot 2024-04-19 at 09 30 06\" src=\"https://github.com/vercel/next.js/assets/860710/a60448da-a579-4d49-9a83-ecfb184da244\">\r\n\r\nHere I have defined a `@triage` slot that is rendered within the `layout.tsx` \r\nInside this slot, I have an intercepted route for the `findings` route segment in the same route folder.\r\n\r\nI have a link inside the `page.tsx` which redirects to the findings route segment, but I would expect the intercepted route to kick in here and display  \"From Findings Intercepted Route\", instead of the actual route page \"From Findings Page\"\r\n\r\n\r\n### Provide environment information\r\n\r\n```bash\r\nOperating System:\r\n  Platform: darwin\r\n  Arch: arm64\r\n  Version: Darwin Kernel Version 23.4.0: Fri Mar 15 00:10:42 PDT 2024; root:xnu-10063.101.17~1/RELEASE_ARM64_T6000\r\n  Available memory (MB): 32768\r\n  Available CPU cores: 10\r\nBinaries:\r\n  Node: 20.9.0\r\n  npm: 10.1.0\r\n  Yarn: 1.22.21\r\n  pnpm: 7.33.4\r\nRelevant Packages:\r\n  next: 14.2.1 // There is a newer version (14.2.2) available, upgrade recommended!\r\n  eslint-config-next: N/A\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: standalone\r\n```\r\n\r\n\r\n### Which area(s) are affected? (Select all that apply)\r\n\r\nParallel & Intercepting Routes\r\n\r\n### Which stage(s) are affected? (Select all that apply)\r\n\r\nnext dev (local)\r\n\r\n### Additional context\r\n\r\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64766/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64763","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64763/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64763/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64763/events","html_url":"https://github.com/vercel/next.js/pull/64763","id":2252235373,"node_id":"PR_kwDOBC3Cis5tIfYI","number":64763,"title":"Update Turbopack production test manifest","user":{"login":"vercel-release-bot","id":88769842,"node_id":"MDQ6VXNlcjg4NzY5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/88769842?v=4","gravatar_id":"","url":"https://api.github.com/users/vercel-release-bot","html_url":"https://github.com/vercel-release-bot","followers_url":"https://api.github.com/users/vercel-release-bot/followers","following_url":"https://api.github.com/users/vercel-release-bot/following{/other_user}","gists_url":"https://api.github.com/users/vercel-release-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/vercel-release-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vercel-release-bot/subscriptions","organizations_url":"https://api.github.com/users/vercel-release-bot/orgs","repos_url":"https://api.github.com/users/vercel-release-bot/repos","events_url":"https://api.github.com/users/vercel-release-bot/events{/privacy}","received_events_url":"https://api.github.com/users/vercel-release-bot/received_events","type":"User","site_admin":false},"labels":[{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-19T07:04:54Z","updated_at":"2024-05-04T12:01:32Z","closed_at":"2024-04-20T07:04:56Z","author_association":"COLLABORATOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64763","html_url":"https://github.com/vercel/next.js/pull/64763","diff_url":"https://github.com/vercel/next.js/pull/64763.diff","patch_url":"https://github.com/vercel/next.js/pull/64763.patch","merged_at":null},"body":"This auto-generated PR updates the production integration test manifest used when testing Turbopack.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64763/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64762","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64762/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64762/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64762/events","html_url":"https://github.com/vercel/next.js/pull/64762","id":2252235261,"node_id":"PR_kwDOBC3Cis5tIfWh","number":64762,"title":"Update Turbopack development test manifest","user":{"login":"vercel-release-bot","id":88769842,"node_id":"MDQ6VXNlcjg4NzY5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/88769842?v=4","gravatar_id":"","url":"https://api.github.com/users/vercel-release-bot","html_url":"https://github.com/vercel-release-bot","followers_url":"https://api.github.com/users/vercel-release-bot/followers","following_url":"https://api.github.com/users/vercel-release-bot/following{/other_user}","gists_url":"https://api.github.com/users/vercel-release-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/vercel-release-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vercel-release-bot/subscriptions","organizations_url":"https://api.github.com/users/vercel-release-bot/orgs","repos_url":"https://api.github.com/users/vercel-release-bot/repos","events_url":"https://api.github.com/users/vercel-release-bot/events{/privacy}","received_events_url":"https://api.github.com/users/vercel-release-bot/received_events","type":"User","site_admin":false},"labels":[{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-19T07:04:52Z","updated_at":"2024-05-04T00:05:30Z","closed_at":"2024-04-19T12:14:14Z","author_association":"COLLABORATOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64762","html_url":"https://github.com/vercel/next.js/pull/64762","diff_url":"https://github.com/vercel/next.js/pull/64762.diff","patch_url":"https://github.com/vercel/next.js/pull/64762.patch","merged_at":"2024-04-19T12:14:14Z"},"body":"This auto-generated PR updates the development integration test manifest used when testing Turbopack.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64762/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64761","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64761/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64761/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64761/events","html_url":"https://github.com/vercel/next.js/pull/64761","id":2252197589,"node_id":"PR_kwDOBC3Cis5tIXSS","number":64761,"title":"docs: remove types in js example","user":{"login":"EffectDoplera","id":50863514,"node_id":"MDQ6VXNlcjUwODYzNTE0","avatar_url":"https://avatars.githubusercontent.com/u/50863514?v=4","gravatar_id":"","url":"https://api.github.com/users/EffectDoplera","html_url":"https://github.com/EffectDoplera","followers_url":"https://api.github.com/users/EffectDoplera/followers","following_url":"https://api.github.com/users/EffectDoplera/following{/other_user}","gists_url":"https://api.github.com/users/EffectDoplera/gists{/gist_id}","starred_url":"https://api.github.com/users/EffectDoplera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EffectDoplera/subscriptions","organizations_url":"https://api.github.com/users/EffectDoplera/orgs","repos_url":"https://api.github.com/users/EffectDoplera/repos","events_url":"https://api.github.com/users/EffectDoplera/events{/privacy}","received_events_url":"https://api.github.com/users/EffectDoplera/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-19T06:38:17Z","updated_at":"2024-05-03T12:01:55Z","closed_at":"2024-04-19T10:32:49Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64761","html_url":"https://github.com/vercel/next.js/pull/64761","diff_url":"https://github.com/vercel/next.js/pull/64761.diff","patch_url":"https://github.com/vercel/next.js/pull/64761.patch","merged_at":"2024-04-19T10:32:49Z"},"body":"<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64761/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64755","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64755/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64755/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64755/events","html_url":"https://github.com/vercel/next.js/pull/64755","id":2251641271,"node_id":"PR_kwDOBC3Cis5tGfN5","number":64755,"title":"Docs: Update 02-project-structure.mdx; fixed #64700","user":{"login":"Ehren12","id":61390454,"node_id":"MDQ6VXNlcjYxMzkwNDU0","avatar_url":"https://avatars.githubusercontent.com/u/61390454?v=4","gravatar_id":"","url":"https://api.github.com/users/Ehren12","html_url":"https://github.com/Ehren12","followers_url":"https://api.github.com/users/Ehren12/followers","following_url":"https://api.github.com/users/Ehren12/following{/other_user}","gists_url":"https://api.github.com/users/Ehren12/gists{/gist_id}","starred_url":"https://api.github.com/users/Ehren12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ehren12/subscriptions","organizations_url":"https://api.github.com/users/Ehren12/orgs","repos_url":"https://api.github.com/users/Ehren12/repos","events_url":"https://api.github.com/users/Ehren12/events{/privacy}","received_events_url":"https://api.github.com/users/Ehren12/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-18T21:54:29Z","updated_at":"2024-05-03T12:01:49Z","closed_at":"2024-04-19T11:34:44Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64755","html_url":"https://github.com/vercel/next.js/pull/64755","diff_url":"https://github.com/vercel/next.js/pull/64755.diff","patch_url":"https://github.com/vercel/next.js/pull/64755.patch","merged_at":null},"body":"\r\n### What?\r\nConditionally show the table for route grouping only for the App Router docs <AppOnly>\r\n\r\n### Why?\r\nRoute grouping does not work on pages directory\r\n\r\n### How?\r\nI wrapped table and its heading with <AppOnly>\r\nCloses NEXT-\r\nFixes #64700\r\n\r\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n\r\n\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64755/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64754","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64754/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64754/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64754/events","html_url":"https://github.com/vercel/next.js/pull/64754","id":2251596196,"node_id":"PR_kwDOBC3Cis5tGU_G","number":64754,"title":"Update 07-route-groups.mdx, remove extra bracket","user":{"login":"Ehren12","id":61390454,"node_id":"MDQ6VXNlcjYxMzkwNDU0","avatar_url":"https://avatars.githubusercontent.com/u/61390454?v=4","gravatar_id":"","url":"https://api.github.com/users/Ehren12","html_url":"https://github.com/Ehren12","followers_url":"https://api.github.com/users/Ehren12/followers","following_url":"https://api.github.com/users/Ehren12/following{/other_user}","gists_url":"https://api.github.com/users/Ehren12/gists{/gist_id}","starred_url":"https://api.github.com/users/Ehren12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ehren12/subscriptions","organizations_url":"https://api.github.com/users/Ehren12/orgs","repos_url":"https://api.github.com/users/Ehren12/repos","events_url":"https://api.github.com/users/Ehren12/events{/privacy}","received_events_url":"https://api.github.com/users/Ehren12/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-18T21:28:38Z","updated_at":"2024-05-03T12:02:09Z","closed_at":"2024-04-18T22:01:31Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64754","html_url":"https://github.com/vercel/next.js/pull/64754","diff_url":"https://github.com/vercel/next.js/pull/64754.diff","patch_url":"https://github.com/vercel/next.js/pull/64754.patch","merged_at":"2024-04-18T22:01:31Z"},"body":"<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64754/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64752","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64752/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64752/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64752/events","html_url":"https://github.com/vercel/next.js/issues/64752","id":2251560025,"node_id":"I_kwDOBC3Cis6GNBRZ","number":64752,"title":"window.addEventListener","user":{"login":"royalcala","id":12802822,"node_id":"MDQ6VXNlcjEyODAyODIy","avatar_url":"https://avatars.githubusercontent.com/u/12802822?v=4","gravatar_id":"","url":"https://api.github.com/users/royalcala","html_url":"https://github.com/royalcala","followers_url":"https://api.github.com/users/royalcala/followers","following_url":"https://api.github.com/users/royalcala/following{/other_user}","gists_url":"https://api.github.com/users/royalcala/gists{/gist_id}","starred_url":"https://api.github.com/users/royalcala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/royalcala/subscriptions","organizations_url":"https://api.github.com/users/royalcala/orgs","repos_url":"https://api.github.com/users/royalcala/repos","events_url":"https://api.github.com/users/royalcala/events{/privacy}","received_events_url":"https://api.github.com/users/royalcala/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-18T21:05:23Z","updated_at":"2024-04-18T21:05:41Z","closed_at":"2024-04-18T21:05:39Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\n-\n\n### To Reproduce\n\nI'm using  \"next\": \"14.2.1\" with app router, and we need to integrate to the site an external js script but no one window.addEventListener defined on the external script works \n\n### Current vs. Expected behavior\n\nI expected that all the window.addEventListener works within my external Script added to nextjs page\n\n### Provide environment information\n\n```bash\nmac, node 20\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nScript (next/script)\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64752/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64751","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64751/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64751/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64751/events","html_url":"https://github.com/vercel/next.js/pull/64751","id":2251540790,"node_id":"PR_kwDOBC3Cis5tGIyL","number":64751,"title":"Turbopack: Allow client components from foreign code in app routes","user":{"login":"wbinnssmith","id":755844,"node_id":"MDQ6VXNlcjc1NTg0NA==","avatar_url":"https://avatars.githubusercontent.com/u/755844?v=4","gravatar_id":"","url":"https://api.github.com/users/wbinnssmith","html_url":"https://github.com/wbinnssmith","followers_url":"https://api.github.com/users/wbinnssmith/followers","following_url":"https://api.github.com/users/wbinnssmith/following{/other_user}","gists_url":"https://api.github.com/users/wbinnssmith/gists{/gist_id}","starred_url":"https://api.github.com/users/wbinnssmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wbinnssmith/subscriptions","organizations_url":"https://api.github.com/users/wbinnssmith/orgs","repos_url":"https://api.github.com/users/wbinnssmith/repos","events_url":"https://api.github.com/users/wbinnssmith/events{/privacy}","received_events_url":"https://api.github.com/users/wbinnssmith/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":4771244046,"node_id":"LA_kwDOBC3Cis8AAAABHGNoDg","url":"https://api.github.com/repos/vercel/next.js/labels/Turbopack","name":"Turbopack","color":"FF1E56","default":false,"description":"Related to Turbopack with Next.js."},{"id":4863306216,"node_id":"LA_kwDOBC3Cis8AAAABIeAp6A","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Turbopack%20team","name":"created-by: Turbopack team","color":"000000","default":false,"description":"PRs by the turbopack team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-18T20:51:52Z","updated_at":"2024-05-11T00:06:51Z","closed_at":"2024-04-26T22:26:33Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64751","html_url":"https://github.com/vercel/next.js/pull/64751","diff_url":"https://github.com/vercel/next.js/pull/64751.diff","patch_url":"https://github.com/vercel/next.js/pull/64751.patch","merged_at":"2024-04-26T22:26:33Z"},"body":"This extends #64520 to cover cases where client components originate from node_modules (foreign code).\r\n\r\nTest Plan: Extended the integration test to cover this\r\n\r\nCloses #64412\r\nFixes PACK-3014","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64751/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64751/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64749","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64749/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64749/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64749/events","html_url":"https://github.com/vercel/next.js/pull/64749","id":2251502849,"node_id":"PR_kwDOBC3Cis5tGAe0","number":64749,"title":"NextJS App router: add `isolated-vm` to server-external-packages.json","user":{"login":"samijaber","id":1393142,"node_id":"MDQ6VXNlcjEzOTMxNDI=","avatar_url":"https://avatars.githubusercontent.com/u/1393142?v=4","gravatar_id":"","url":"https://api.github.com/users/samijaber","html_url":"https://github.com/samijaber","followers_url":"https://api.github.com/users/samijaber/followers","following_url":"https://api.github.com/users/samijaber/following{/other_user}","gists_url":"https://api.github.com/users/samijaber/gists{/gist_id}","starred_url":"https://api.github.com/users/samijaber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samijaber/subscriptions","organizations_url":"https://api.github.com/users/samijaber/orgs","repos_url":"https://api.github.com/users/samijaber/repos","events_url":"https://api.github.com/users/samijaber/events{/privacy}","received_events_url":"https://api.github.com/users/samijaber/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-18T20:28:29Z","updated_at":"2024-05-09T00:06:59Z","closed_at":"2024-04-24T16:29:10Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64749","html_url":"https://github.com/vercel/next.js/pull/64749","diff_url":"https://github.com/vercel/next.js/pull/64749.diff","patch_url":"https://github.com/vercel/next.js/pull/64749.patch","merged_at":"2024-04-24T16:29:10Z"},"body":"<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n\r\n\r\nThis is related to the issue I encountered at https://github.com/vercel/next.js/issues/63492. \r\n\r\nThe same problem from the issue exists in the App router and requires this additional configuration (otherwise, users must manually add `isolated-vm` (https://github.com/laverdet/isolated-vm) to their `experimental.serverComponentsExternalPackages`). \r\n\r\nGiven how popular this package is, and based on a suggestion from @feedthejim that I add this entry, I decided to raise this PR.\r\n\r\n### Adding a feature\r\n\r\n- Related issues/discussions are linked using `fixes #number`: yes\r\n- Documentation added: yes","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64749/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64748","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64748/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64748/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64748/events","html_url":"https://github.com/vercel/next.js/pull/64748","id":2251437837,"node_id":"PR_kwDOBC3Cis5tFyG0","number":64748,"title":"docs: fix default.js params example","user":{"login":"ztanner","id":1939140,"node_id":"MDQ6VXNlcjE5MzkxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1939140?v=4","gravatar_id":"","url":"https://api.github.com/users/ztanner","html_url":"https://github.com/ztanner","followers_url":"https://api.github.com/users/ztanner/followers","following_url":"https://api.github.com/users/ztanner/following{/other_user}","gists_url":"https://api.github.com/users/ztanner/gists{/gist_id}","starred_url":"https://api.github.com/users/ztanner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ztanner/subscriptions","organizations_url":"https://api.github.com/users/ztanner/orgs","repos_url":"https://api.github.com/users/ztanner/repos","events_url":"https://api.github.com/users/ztanner/events{/privacy}","received_events_url":"https://api.github.com/users/ztanner/received_events","type":"User","site_admin":false},"labels":[{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-18T19:48:45Z","updated_at":"2024-05-03T12:02:13Z","closed_at":"2024-04-18T20:59:29Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64748","html_url":"https://github.com/vercel/next.js/pull/64748","diff_url":"https://github.com/vercel/next.js/pull/64748.diff","patch_url":"https://github.com/vercel/next.js/pull/64748.patch","merged_at":"2024-04-18T20:59:29Z"},"body":"The `params` example in the docs for `default.js` have the slot/params in the wrong order, giving the impression that you can deeply nest `default` slots.\r\n\r\nThis clarifies that the params received by a slot are based on the dynamic params leading up to the segment containing the slot. \r\n\r\nFixes #64708\r\n\r\n\r\nCloses NEXT-3160","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64748/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64747","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64747/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64747/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64747/events","html_url":"https://github.com/vercel/next.js/issues/64747","id":2251363767,"node_id":"I_kwDOBC3Cis6GMRW3","number":64747,"title":"Unable to parse middleware config when using array and turbopack","user":{"login":"justinh00k","id":5424720,"node_id":"MDQ6VXNlcjU0MjQ3MjA=","avatar_url":"https://avatars.githubusercontent.com/u/5424720?v=4","gravatar_id":"","url":"https://api.github.com/users/justinh00k","html_url":"https://github.com/justinh00k","followers_url":"https://api.github.com/users/justinh00k/followers","following_url":"https://api.github.com/users/justinh00k/following{/other_user}","gists_url":"https://api.github.com/users/justinh00k/gists{/gist_id}","starred_url":"https://api.github.com/users/justinh00k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinh00k/subscriptions","organizations_url":"https://api.github.com/users/justinh00k/orgs","repos_url":"https://api.github.com/users/justinh00k/repos","events_url":"https://api.github.com/users/justinh00k/events{/privacy}","received_events_url":"https://api.github.com/users/justinh00k/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":4771244046,"node_id":"LA_kwDOBC3Cis8AAAABHGNoDg","url":"https://api.github.com/repos/vercel/next.js/labels/Turbopack","name":"Turbopack","color":"FF1E56","default":false,"description":"Related to Turbopack with Next.js."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-18T19:03:25Z","updated_at":"2024-05-03T00:04:29Z","closed_at":"2024-04-18T20:06:12Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/justinh00k/next_middleware_bug_repro\n\n### To Reproduce\n\n1. Tested with next 14.2.2 and v14.3.0-canary.9\r\n2. Add middleware.ts (or .js) and use object in [array syntax](https://nextjs.org/docs/app/building-your-application/routing/middleware#matcher) for config export:\r\n`export const config = {\r\n\tmatcher: [\r\n\t\t{\r\n\t\t\tsource: '/((?!api|_next/static|.*\\\\..*|_next/image).*)',\r\n\t\t},\r\n\t],\r\n};\r\n`\r\n3. Run `next dev --turbo`\n\n### Current vs. Expected behavior\n\nConsole logs error:\r\n`\r\n⚠ ./middleware.js\r\nUnable to parse config export in source file\r\nThe exported configuration object in a source file need to have a very specific format from which some properties can be statically parsed at compiled-time.\r\n`\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: arm64\r\n  Version: Darwin Kernel Version 23.4.0: Fri Mar 15 00:19:22 PDT 2024; root:xnu-10063.101.17~1/RELEASE_ARM64_T8112\r\n  Available memory (MB): 24576\r\n  Available CPU cores: 8\r\nBinaries:\r\n  Node: 18.18.2\r\n  npm: 10.5.2\r\n  Yarn: 1.22.22\r\n  pnpm: N/A\r\nRelevant Packages:\r\n  next: 14.2.2 // Latest available version is detected (14.2.2).\r\n  eslint-config-next: N/A\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: N/A\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nMiddleware, Turbopack\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64747/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64746","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64746/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64746/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64746/events","html_url":"https://github.com/vercel/next.js/pull/64746","id":2251329914,"node_id":"PR_kwDOBC3Cis5tFagJ","number":64746,"title":"Clean-up fetch metrics tracking","user":{"login":"ijjk","id":22380829,"node_id":"MDQ6VXNlcjIyMzgwODI5","avatar_url":"https://avatars.githubusercontent.com/u/22380829?v=4","gravatar_id":"","url":"https://api.github.com/users/ijjk","html_url":"https://github.com/ijjk","followers_url":"https://api.github.com/users/ijjk/followers","following_url":"https://api.github.com/users/ijjk/following{/other_user}","gists_url":"https://api.github.com/users/ijjk/gists{/gist_id}","starred_url":"https://api.github.com/users/ijjk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijjk/subscriptions","organizations_url":"https://api.github.com/users/ijjk/orgs","repos_url":"https://api.github.com/users/ijjk/repos","events_url":"https://api.github.com/users/ijjk/events{/privacy}","received_events_url":"https://api.github.com/users/ijjk/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-18T18:45:22Z","updated_at":"2024-05-03T12:02:19Z","closed_at":"2024-04-18T19:51:34Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64746","html_url":"https://github.com/vercel/next.js/pull/64746","diff_url":"https://github.com/vercel/next.js/pull/64746.diff","patch_url":"https://github.com/vercel/next.js/pull/64746.patch","merged_at":"2024-04-18T19:51:34Z"},"body":"This ensures we only track fetch metrics in development mode as that's the only time we report them currently, this also adds an upper limit on how many metrics we store per-request as previously this was unbounded, on top of that this ensures we don't keep tracking fetch metrics after the request has ended as we only report on request end, and finally this adds a clean-up to the reference we attach to the request object containing the fetch metrics once we have used them. \r\n\r\nCloses: https://github.com/vercel/next.js/issues/64212\n\nCloses NEXT-3159","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64746/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64744","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64744/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64744/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64744/events","html_url":"https://github.com/vercel/next.js/pull/64744","id":2251130591,"node_id":"PR_kwDOBC3Cis5tEu_4","number":64744,"title":"Fix next-swc native binary write in tests","user":{"login":"timneutkens","id":6324199,"node_id":"MDQ6VXNlcjYzMjQxOTk=","avatar_url":"https://avatars.githubusercontent.com/u/6324199?v=4","gravatar_id":"","url":"https://api.github.com/users/timneutkens","html_url":"https://github.com/timneutkens","followers_url":"https://api.github.com/users/timneutkens/followers","following_url":"https://api.github.com/users/timneutkens/following{/other_user}","gists_url":"https://api.github.com/users/timneutkens/gists{/gist_id}","starred_url":"https://api.github.com/users/timneutkens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timneutkens/subscriptions","organizations_url":"https://api.github.com/users/timneutkens/orgs","repos_url":"https://api.github.com/users/timneutkens/repos","events_url":"https://api.github.com/users/timneutkens/events{/privacy}","received_events_url":"https://api.github.com/users/timneutkens/received_events","type":"User","site_admin":false},"labels":[{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-18T16:40:03Z","updated_at":"2024-05-03T12:02:23Z","closed_at":"2024-04-18T18:43:51Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64744","html_url":"https://github.com/vercel/next.js/pull/64744","diff_url":"https://github.com/vercel/next.js/pull/64744.diff","patch_url":"https://github.com/vercel/next.js/pull/64744.patch","merged_at":"2024-04-18T18:43:51Z"},"body":"## What?\n\nIn the past folks on the team have reported that anytime the SWC / Turbopack binary changes they had to suddenly run `pnpm build-native` in `packages/next-swc`, even though they didn't build from source before. While investigating optimizing packing for tests I found that it's copying the native binary into the original repository not the temporary repository, which then keeps the file there, even after the tests finish. This fixes the path to use the tmp repository instead.\n\n\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\nChoose the right checklist for the change(s) that you're making:\n\n## For Contributors\n\n### Improving Documentation\n\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\n\n### Adding or Updating Examples\n\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\n\n### Fixing a bug\n\n- Related issues linked using `fixes #number`\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\n\n### Adding a feature\n\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\n- Related issues/discussions are linked using `fixes #number`\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\n- Documentation added\n- Telemetry added. In case of a feature if it's used or not.\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\n\n\n## For Maintainers\n\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\n- When linking to a Slack thread, you might want to share details of the conclusion\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\n- Add review comments if necessary to explain to the reviewer the logic behind a change\n\n### What?\n\n### Why?\n\n### How?\n\nCloses NEXT-\nFixes #\n\n-->\n\n\nCloses NEXT-3157","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64744/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64742","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64742/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64742/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64742/events","html_url":"https://github.com/vercel/next.js/pull/64742","id":2251065933,"node_id":"PR_kwDOBC3Cis5tEg21","number":64742,"title":"feat: extend gtag.js with debugmode config released in GA4","user":{"login":"ts1994tw","id":65659727,"node_id":"MDQ6VXNlcjY1NjU5NzI3","avatar_url":"https://avatars.githubusercontent.com/u/65659727?v=4","gravatar_id":"","url":"https://api.github.com/users/ts1994tw","html_url":"https://github.com/ts1994tw","followers_url":"https://api.github.com/users/ts1994tw/followers","following_url":"https://api.github.com/users/ts1994tw/following{/other_user}","gists_url":"https://api.github.com/users/ts1994tw/gists{/gist_id}","starred_url":"https://api.github.com/users/ts1994tw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ts1994tw/subscriptions","organizations_url":"https://api.github.com/users/ts1994tw/orgs","repos_url":"https://api.github.com/users/ts1994tw/repos","events_url":"https://api.github.com/users/ts1994tw/events{/privacy}","received_events_url":"https://api.github.com/users/ts1994tw/received_events","type":"User","site_admin":false},"labels":[{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-18T16:06:00Z","updated_at":"2024-06-01T12:01:57Z","closed_at":"2024-05-18T01:16:27Z","author_association":"NONE","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64742","html_url":"https://github.com/vercel/next.js/pull/64742","diff_url":"https://github.com/vercel/next.js/pull/64742.diff","patch_url":"https://github.com/vercel/next.js/pull/64742.patch","merged_at":null},"body":"## Overview\r\nExtend gtag.js with `debugmode` config released in GA4\r\n\r\n## Changes\r\n- add `debugmode` config into `gtag.js` referenced to [[GA4] Monitor events in DebugView](https://support.google.com/analytics/answer/7201382?hl=en#zippy=)\r\n\r\n## Conclusion\r\nIf purpose of this PR is pure and focused enough and  seems like a good adjustment, it'd be cool to see it become part of the library. Finally, appreciated for your time, and kudos for your fantastic works in open-source 🙇","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64742/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64741","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64741/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64741/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64741/events","html_url":"https://github.com/vercel/next.js/issues/64741","id":2250980161,"node_id":"I_kwDOBC3Cis6GKztB","number":64741,"title":"Hydration mismatch caused by `next/dynamic` when `src` folder and `babel` are used","user":{"login":"LukasBombach","id":2379652,"node_id":"MDQ6VXNlcjIzNzk2NTI=","avatar_url":"https://avatars.githubusercontent.com/u/2379652?v=4","gravatar_id":"","url":"https://api.github.com/users/LukasBombach","html_url":"https://github.com/LukasBombach","followers_url":"https://api.github.com/users/LukasBombach/followers","following_url":"https://api.github.com/users/LukasBombach/following{/other_user}","gists_url":"https://api.github.com/users/LukasBombach/gists{/gist_id}","starred_url":"https://api.github.com/users/LukasBombach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukasBombach/subscriptions","organizations_url":"https://api.github.com/users/LukasBombach/orgs","repos_url":"https://api.github.com/users/LukasBombach/repos","events_url":"https://api.github.com/users/LukasBombach/events{/privacy}","received_events_url":"https://api.github.com/users/LukasBombach/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":3555302485,"node_id":"LA_kwDOBC3Cis7T6ZxV","url":"https://api.github.com/repos/vercel/next.js/labels/Lazy%20Loading","name":"Lazy Loading","color":"D93F0B","default":false,"description":"Related to Next.js Lazy Loading (e.g., `next/dynamic` or `React.lazy`)."},{"id":4932840687,"node_id":"LA_kwDOBC3Cis8AAAABJgUs7w","url":"https://api.github.com/repos/vercel/next.js/labels/linear:%20next","name":"linear: next","color":"A53EF5","default":false,"description":"Confirmed issue that is tracked by the Next.js team."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-04-18T15:27:55Z","updated_at":"2024-05-14T12:01:54Z","closed_at":"2024-04-29T23:02:54Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/LukasBombach/next-dynamic-src-folder-babel-bug\n\n### To Reproduce\n\n1. `yarn install`\r\n2. `yarn dev`\r\n3. open `http://localhost:3000`\r\n4. you will get a hydration mismatch caused by a component rendered via `next/hydration`\n\n### Current vs. Expected behavior\n\nIn the example, I use `next/dynamic` to load and render a plain react component that always returns the same JSX\r\n\r\n`src/pages/index.tsx`\r\n```tsx\r\nimport dynamic from \"next/dynamic\";\r\n\r\nconst DynamicTest = dynamic(() => import(\"../components/DynamicTest\").then((mod) => mod.DynamicTest), {\r\n  loading: () => <div>Loading</div>,\r\n});\r\n\r\nexport default function Page() {\r\n  return <DynamicTest />;\r\n}\r\n```\r\n\r\n`src/components/DynamicTest.tsx`\r\n```tsx\r\nexport const DynamicTest = () => {\r\n  return <div>Dynamic Content</div>;\r\n};\r\n```\r\n\r\nI would expect no errors here, but this will result in a hydration mismatch:\r\n\r\n> Text content did not match. Server: \"Dynamic Content\" Client: \"Loading\"\r\n\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: arm64\r\n  Version: Darwin Kernel Version 23.4.0: Fri Mar 15 00:12:41 PDT 2024; root:xnu-10063.101.17~1/RELEASE_ARM64_T8103\r\n  Available memory (MB): 16384\r\n  Available CPU cores: 8\r\nBinaries:\r\n  Node: 20.9.0\r\n  npm: 10.1.0\r\n  Yarn: 1.22.19\r\n  pnpm: 8.9.0\r\nRelevant Packages:\r\n  next: 14.2.2 // Latest available version is detected (14.2.2).\r\n  eslint-config-next: N/A\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nLazy Loading\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local), next start (local), Other (Deployed)\n\n### Additional context\n\nThe hydration mismatch only occurs under these conditions\r\n\r\n* `babel` is used\r\n* a `src` folder is used\r\n\r\nWhen you either remove the `.babelrc` from the example or move the `pages` and `components` from the `src` folder to the root dir, everything works alright\r\n\r\nThe bug was introduced with next `14.2.0`\r\n\r\nWe did reproduce it with `14.2.0`, `14.2.1` and `14.2.2`.\r\n\r\nNext `14.1.3` works fine\n\n<sub>[NEXT-3251](https://linear.app/vercel/issue/NEXT-3251/hydration-mismatch-caused-by-nextdynamic-when-src-folder-and-babel-are)</sub>","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64741/reactions","total_count":9,"+1":9,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64741/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64740","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64740/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64740/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64740/events","html_url":"https://github.com/vercel/next.js/pull/64740","id":2250941996,"node_id":"PR_kwDOBC3Cis5tEFkS","number":64740,"title":"Update 06-bundle-analyzer.mdx","user":{"login":"sean-rallycry","id":59893658,"node_id":"MDQ6VXNlcjU5ODkzNjU4","avatar_url":"https://avatars.githubusercontent.com/u/59893658?v=4","gravatar_id":"","url":"https://api.github.com/users/sean-rallycry","html_url":"https://github.com/sean-rallycry","followers_url":"https://api.github.com/users/sean-rallycry/followers","following_url":"https://api.github.com/users/sean-rallycry/following{/other_user}","gists_url":"https://api.github.com/users/sean-rallycry/gists{/gist_id}","starred_url":"https://api.github.com/users/sean-rallycry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sean-rallycry/subscriptions","organizations_url":"https://api.github.com/users/sean-rallycry/orgs","repos_url":"https://api.github.com/users/sean-rallycry/repos","events_url":"https://api.github.com/users/sean-rallycry/events{/privacy}","received_events_url":"https://api.github.com/users/sean-rallycry/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-18T15:10:56Z","updated_at":"2024-05-04T00:05:12Z","closed_at":"2024-04-19T20:43:26Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64740","html_url":"https://github.com/vercel/next.js/pull/64740","diff_url":"https://github.com/vercel/next.js/pull/64740.diff","patch_url":"https://github.com/vercel/next.js/pull/64740.patch","merged_at":"2024-04-19T20:43:26Z"},"body":"The[ existing code example](https://nextjs.org/docs/app/building-your-application/optimizing/bundle-analyzer) generates the following warning when using `--turbo` in the current latest version of NextJS (14.2.2):\r\n\r\n ⚠ Webpack is configured while Turbopack is not, which may cause problems.\r\n ⚠ See instructions if you need to configure Turbopack:\r\n  https://nextjs.org/docs/app/api-reference/next-config-js/turbo\r\n\r\nThis modification ensures that the bundle analyzer is only applied when the user intends to generate a report.\r\n\r\nFixes # https://github.com/vercel/next.js/issues/64739\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64740/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64739","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64739/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64739/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64739/events","html_url":"https://github.com/vercel/next.js/issues/64739","id":2250939315,"node_id":"I_kwDOBC3Cis6GKpuz","number":64739,"title":"Docs: Bundle Analyzer recommended code leads to warning when turbopack is enabled","user":{"login":"sean-rallycry","id":59893658,"node_id":"MDQ6VXNlcjU5ODkzNjU4","avatar_url":"https://avatars.githubusercontent.com/u/59893658?v=4","gravatar_id":"","url":"https://api.github.com/users/sean-rallycry","html_url":"https://github.com/sean-rallycry","followers_url":"https://api.github.com/users/sean-rallycry/followers","following_url":"https://api.github.com/users/sean-rallycry/following{/other_user}","gists_url":"https://api.github.com/users/sean-rallycry/gists{/gist_id}","starred_url":"https://api.github.com/users/sean-rallycry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sean-rallycry/subscriptions","organizations_url":"https://api.github.com/users/sean-rallycry/orgs","repos_url":"https://api.github.com/users/sean-rallycry/repos","events_url":"https://api.github.com/users/sean-rallycry/events{/privacy}","received_events_url":"https://api.github.com/users/sean-rallycry/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-18T15:09:48Z","updated_at":"2024-05-03T12:01:44Z","closed_at":"2024-04-19T11:45:29Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","body":"### What is the improvement or update you wish to see?\r\n\r\nadjust the code example to only wrap the analyzer when in active use\r\n\r\n### Is there any context that might help us understand?\r\n\r\nwhen running in turbo mode with the bundle analyzer wrapper the following warning is displayed:\r\n\r\n ⚠ Webpack is configured while Turbopack is not, which may cause problems.\r\n ⚠ See instructions if you need to configure Turbopack:\r\n  https://nextjs.org/docs/app/api-reference/next-config-js/turbo\r\n\r\n### Does the docs page already exist? Please link to it.\r\n\r\nhttps://nextjs.org/docs/app/building-your-application/optimizing/bundle-analyzer","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64739/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64738","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64738/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64738/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64738/events","html_url":"https://github.com/vercel/next.js/pull/64738","id":2250935089,"node_id":"PR_kwDOBC3Cis5tEECj","number":64738,"title":"docs: warning for public env variables","user":{"login":"gh0stfrk","id":116507047,"node_id":"U_kgDOBvHBpw","avatar_url":"https://avatars.githubusercontent.com/u/116507047?v=4","gravatar_id":"","url":"https://api.github.com/users/gh0stfrk","html_url":"https://github.com/gh0stfrk","followers_url":"https://api.github.com/users/gh0stfrk/followers","following_url":"https://api.github.com/users/gh0stfrk/following{/other_user}","gists_url":"https://api.github.com/users/gh0stfrk/gists{/gist_id}","starred_url":"https://api.github.com/users/gh0stfrk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gh0stfrk/subscriptions","organizations_url":"https://api.github.com/users/gh0stfrk/orgs","repos_url":"https://api.github.com/users/gh0stfrk/repos","events_url":"https://api.github.com/users/gh0stfrk/events{/privacy}","received_events_url":"https://api.github.com/users/gh0stfrk/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-18T15:07:54Z","updated_at":"2024-05-04T00:05:28Z","closed_at":"2024-04-18T20:47:46Z","author_association":"NONE","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64738","html_url":"https://github.com/vercel/next.js/pull/64738","diff_url":"https://github.com/vercel/next.js/pull/64738.diff","patch_url":"https://github.com/vercel/next.js/pull/64738.patch","merged_at":null},"body":"### What?\r\nWhen using NEXT_PUBLIC_ variables the docs suggest variables are rendered inline replacing the\r\nthe references to public environment variables\r\n\r\nThis commit adds a formal warning suggesting\r\nto not use NEXT_PUBLIC_ variables on client side\r\nfor sensitive information.\r\n\r\n\r\n### Why?\r\nAdding a  warning in docs will help people avoid \r\nstoring sensitive information in public environment variables.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64738/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64730","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64730/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64730/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64730/events","html_url":"https://github.com/vercel/next.js/pull/64730","id":2250824717,"node_id":"PR_kwDOBC3Cis5tDry9","number":64730,"title":"fix root page revalidation when redirecting in a server action","user":{"login":"ztanner","id":1939140,"node_id":"MDQ6VXNlcjE5MzkxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1939140?v=4","gravatar_id":"","url":"https://api.github.com/users/ztanner","html_url":"https://github.com/ztanner","followers_url":"https://api.github.com/users/ztanner/followers","following_url":"https://api.github.com/users/ztanner/following{/other_user}","gists_url":"https://api.github.com/users/ztanner/gists{/gist_id}","starred_url":"https://api.github.com/users/ztanner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ztanner/subscriptions","organizations_url":"https://api.github.com/users/ztanner/orgs","repos_url":"https://api.github.com/users/ztanner/repos","events_url":"https://api.github.com/users/ztanner/events{/privacy}","received_events_url":"https://api.github.com/users/ztanner/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-18T14:19:50Z","updated_at":"2024-05-03T12:02:21Z","closed_at":"2024-04-18T19:32:35Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64730","html_url":"https://github.com/vercel/next.js/pull/64730","diff_url":"https://github.com/vercel/next.js/pull/64730.diff","patch_url":"https://github.com/vercel/next.js/pull/64730.patch","merged_at":"2024-04-18T19:32:35Z"},"body":"When a server action triggers a redirect, we're incorrectly applying a refresh marker to the segment they were on, rather than the segment they were being redirected to. As a result, when revalidation occurs (via `revalidateX` or `router.refresh()`), the top-level segment would be replaced with data for an incorrect segment. \r\n\r\nFor example, if triggering a redirect action from `/redirect` to `/`, the router state tree would save a reference to `/redirect`. The next time a refresh or revalidate happens, it'd refresh the segment data for `/redirect` instead of `/`. \r\n\r\nFixes #64728\r\n\r\n\r\nCloses NEXT-3156","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64730/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64730/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64728","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64728/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64728/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64728/events","html_url":"https://github.com/vercel/next.js/issues/64728","id":2250596809,"node_id":"I_kwDOBC3Cis6GJWHJ","number":64728,"title":"redirect in server action and revalidateTag cause a parallel route to lose its active state","user":{"login":"roksui","id":55661741,"node_id":"MDQ6VXNlcjU1NjYxNzQx","avatar_url":"https://avatars.githubusercontent.com/u/55661741?v=4","gravatar_id":"","url":"https://api.github.com/users/roksui","html_url":"https://github.com/roksui","followers_url":"https://api.github.com/users/roksui/followers","following_url":"https://api.github.com/users/roksui/following{/other_user}","gists_url":"https://api.github.com/users/roksui/gists{/gist_id}","starred_url":"https://api.github.com/users/roksui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roksui/subscriptions","organizations_url":"https://api.github.com/users/roksui/orgs","repos_url":"https://api.github.com/users/roksui/repos","events_url":"https://api.github.com/users/roksui/events{/privacy}","received_events_url":"https://api.github.com/users/roksui/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-18T12:40:46Z","updated_at":"2024-05-03T00:04:32Z","closed_at":"2024-04-18T19:32:36Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/roksui/my-nextagram\n\n### To Reproduce\n\n1. Clone the repository and checkout to the master branch. \r\n2. Start the applicatin in dev mode using `npm run dev`.\r\n3. Go to \"/login\" page and press the Login button.\r\n4. Click on photo 1 and inside the modal click on the add comment button.\r\n5. The parallel route behind the modal loses its active state and turns blank.\n\n### Current vs. Expected behavior\n\nI expected the parallel route segment behind the modal to not lose its active state when the router cache is cleared when calling  `revalidateTag` in a server action which should only update the data inside the modal. However, I observed that while the data is successfully revalidated in the modal, the parallel route behind the modal loses its active state.\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: win32\r\n  Arch: x64\r\n  Version: Windows 10 Pro\r\n  Available memory (MB): 32545\r\n  Available CPU cores: 16\r\nBinaries:\r\n  Node: 18.17.1\r\n  npm: N/A\r\n  Yarn: N/A\r\n  pnpm: N/A\r\nRelevant Packages:\r\n  next: 14.3.0-canary.9 // Latest available version is detected (14.3.0-canary.9).\r\n  eslint-config-next: 14.1.1-canary.52\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.3.3\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nParallel & Intercepting Routes\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local), next start (local)\n\n### Additional context\n\n- This bug was introduced in 14.3.0-canary.5 (supposedly with the PR #64532).\r\n- When looking at the Chrome dev tool's network tab when clicking on the button for adding a comment, after `revalidateTag(\"comments\")` is called, the browser receives a RSC payload for the \"/login\" route. Now, when I remove `redirect(\"/\")` inside the server action for the login, this RSC payload is not received after clicking on the add comment button.\r\n- If I use a version before 14.3.0-canary.5, the background segment doesn't lose its active state, however occasionally, the comment list is not revalidated and updated in the modal straight away.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64728/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64728/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64727","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64727/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64727/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64727/events","html_url":"https://github.com/vercel/next.js/pull/64727","id":2250591482,"node_id":"PR_kwDOBC3Cis5tC4k1","number":64727,"title":"fix: remove traceparent from cachekey should not remove traceparent from original object","user":{"login":"Jeffrey-Zutt","id":248906,"node_id":"MDQ6VXNlcjI0ODkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/248906?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeffrey-Zutt","html_url":"https://github.com/Jeffrey-Zutt","followers_url":"https://api.github.com/users/Jeffrey-Zutt/followers","following_url":"https://api.github.com/users/Jeffrey-Zutt/following{/other_user}","gists_url":"https://api.github.com/users/Jeffrey-Zutt/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeffrey-Zutt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeffrey-Zutt/subscriptions","organizations_url":"https://api.github.com/users/Jeffrey-Zutt/orgs","repos_url":"https://api.github.com/users/Jeffrey-Zutt/repos","events_url":"https://api.github.com/users/Jeffrey-Zutt/events{/privacy}","received_events_url":"https://api.github.com/users/Jeffrey-Zutt/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-04-18T12:38:10Z","updated_at":"2024-05-04T00:05:10Z","closed_at":"2024-04-19T23:13:58Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64727","html_url":"https://github.com/vercel/next.js/pull/64727","diff_url":"https://github.com/vercel/next.js/pull/64727.diff","patch_url":"https://github.com/vercel/next.js/pull/64727.patch","merged_at":"2024-04-19T23:13:58Z"},"body":"### What?\r\n\r\nI submitted PR #64499 , it got merged, but it contains a mistake.\r\nI'm terribly sorry about this!\r\n\r\nBy removing the traceparent from the cachekey, we mistakenly removed the header from the original object.\r\nCausing the actual request to be executed without the traceparent header.\r\n\r\n### Why?\r\n\r\nCreating a cachekey should not alter the original object.\r\n\r\n### How?\r\n\r\nFlip the arguments for Object.assign\r\n\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64727/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64727/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64725","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64725/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64725/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64725/events","html_url":"https://github.com/vercel/next.js/pull/64725","id":2250529770,"node_id":"PR_kwDOBC3Cis5tCrWh","number":64725,"title":"fix(next-core): add Array.toReversed, toSpliced, toSorted, with polyfills","user":{"login":"RaenonX","id":18443743,"node_id":"MDQ6VXNlcjE4NDQzNzQz","avatar_url":"https://avatars.githubusercontent.com/u/18443743?v=4","gravatar_id":"","url":"https://api.github.com/users/RaenonX","html_url":"https://github.com/RaenonX","followers_url":"https://api.github.com/users/RaenonX/followers","following_url":"https://api.github.com/users/RaenonX/following{/other_user}","gists_url":"https://api.github.com/users/RaenonX/gists{/gist_id}","starred_url":"https://api.github.com/users/RaenonX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RaenonX/subscriptions","organizations_url":"https://api.github.com/users/RaenonX/orgs","repos_url":"https://api.github.com/users/RaenonX/repos","events_url":"https://api.github.com/users/RaenonX/events{/privacy}","received_events_url":"https://api.github.com/users/RaenonX/received_events","type":"User","site_admin":false},"labels":[{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-04-18T12:08:53Z","updated_at":"2024-05-11T00:07:01Z","closed_at":"2024-04-26T19:55:14Z","author_association":"NONE","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64725","html_url":"https://github.com/vercel/next.js/pull/64725","diff_url":"https://github.com/vercel/next.js/pull/64725.diff","patch_url":"https://github.com/vercel/next.js/pull/64725.patch","merged_at":null},"body":"Fixes https://github.com/vercel/next.js/issues/58242.\r\n\r\nSee also https://github.com/vercel/next.js/pull/44436.\r\n\r\nContinuation of https://github.com/vercel/next.js/pull/58421.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64725/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64725/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64717","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64717/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64717/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64717/events","html_url":"https://github.com/vercel/next.js/pull/64717","id":2250296321,"node_id":"PR_kwDOBC3Cis5tB4Cv","number":64717,"title":"add bash script to run a benchmark","user":{"login":"arlyon","id":8715352,"node_id":"MDQ6VXNlcjg3MTUzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/8715352?v=4","gravatar_id":"","url":"https://api.github.com/users/arlyon","html_url":"https://github.com/arlyon","followers_url":"https://api.github.com/users/arlyon/followers","following_url":"https://api.github.com/users/arlyon/following{/other_user}","gists_url":"https://api.github.com/users/arlyon/gists{/gist_id}","starred_url":"https://api.github.com/users/arlyon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arlyon/subscriptions","organizations_url":"https://api.github.com/users/arlyon/orgs","repos_url":"https://api.github.com/users/arlyon/repos","events_url":"https://api.github.com/users/arlyon/events{/privacy}","received_events_url":"https://api.github.com/users/arlyon/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":4771244046,"node_id":"LA_kwDOBC3Cis8AAAABHGNoDg","url":"https://api.github.com/repos/vercel/next.js/labels/Turbopack","name":"Turbopack","color":"FF1E56","default":false,"description":"Related to Turbopack with Next.js."},{"id":4863306216,"node_id":"LA_kwDOBC3Cis8AAAABIeAp6A","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Turbopack%20team","name":"created-by: Turbopack team","color":"000000","default":false,"description":"PRs by the turbopack team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-04-18T10:10:46Z","updated_at":"2024-06-08T00:09:27Z","closed_at":"2024-05-24T15:00:23Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64717","html_url":"https://github.com/vercel/next.js/pull/64717","diff_url":"https://github.com/vercel/next.js/pull/64717.diff","patch_url":"https://github.com/vercel/next.js/pull/64717.patch","merged_at":"2024-05-24T15:00:23Z"},"body":"<!-- Thanks for opening a PR! Your contribution is much appreciated.\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\nChoose the right checklist for the change(s) that you're making:\n\n## For Contributors\n\n### Improving Documentation\n\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\n\n### Adding or Updating Examples\n\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\n\n### Fixing a bug\n\n- Related issues linked using `fixes #number`\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\n\n### Adding a feature\n\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\n- Related issues/discussions are linked using `fixes #number`\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\n- Documentation added\n- Telemetry added. In case of a feature if it's used or not.\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\n\n\n## For Maintainers\n\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\n- When linking to a Slack thread, you might want to share details of the conclusion\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\n- Add review comments if necessary to explain to the reviewer the logic behind a change\n\n### What?\n\n### Why?\n\n### How?\n\nCloses NEXT-\nFixes #\n\n-->\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64717/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64716","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64716/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64716/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64716/events","html_url":"https://github.com/vercel/next.js/pull/64716","id":2250264080,"node_id":"PR_kwDOBC3Cis5tBxHF","number":64716,"title":"Remove extra suspense boundary for default next/dynamic","user":{"login":"huozhi","id":4800338,"node_id":"MDQ6VXNlcjQ4MDAzMzg=","avatar_url":"https://avatars.githubusercontent.com/u/4800338?v=4","gravatar_id":"","url":"https://api.github.com/users/huozhi","html_url":"https://github.com/huozhi","followers_url":"https://api.github.com/users/huozhi/followers","following_url":"https://api.github.com/users/huozhi/following{/other_user}","gists_url":"https://api.github.com/users/huozhi/gists{/gist_id}","starred_url":"https://api.github.com/users/huozhi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huozhi/subscriptions","organizations_url":"https://api.github.com/users/huozhi/orgs","repos_url":"https://api.github.com/users/huozhi/repos","events_url":"https://api.github.com/users/huozhi/events{/privacy}","received_events_url":"https://api.github.com/users/huozhi/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-04-18T09:54:35Z","updated_at":"2024-05-17T00:04:38Z","closed_at":"2024-04-30T20:40:11Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64716","html_url":"https://github.com/vercel/next.js/pull/64716","diff_url":"https://github.com/vercel/next.js/pull/64716.diff","patch_url":"https://github.com/vercel/next.js/pull/64716.patch","merged_at":"2024-04-30T20:40:11Z"},"body":"### What\r\n\r\nRemoving the Suspense boundary on top of `next/dynamic` by default, make it as `React.lazy` component with preloading CSS feature.\r\n\r\n### Why\r\n\r\nExtra Suspense boundary is causing extra useless rendering. For SSR, it shouldn't render `loading` by default\r\n\r\nRelated: #64060\r\nRelated: #64687\r\nCloses [NEXT-3074](https://linear.app/vercel/issue/NEXT-3074/app-router-content-flickering-with-reactcreatecontext-and-nextdynamic)\r\n\r\nThis is sort of a breaking change, since removing the Suspense boundary on top of `next/dynamic` by default. If there's error happening in side the dynamic component you need to wrap an extra Suspense boundary on top of it\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64716/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64712","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64712/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64712/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64712/events","html_url":"https://github.com/vercel/next.js/pull/64712","id":2250066145,"node_id":"PR_kwDOBC3Cis5tBF-G","number":64712,"title":"Reapply \"chore(test): run related E2E deploy tests on PRs\" (#64682)","user":{"login":"balazsorban44","id":18369201,"node_id":"MDQ6VXNlcjE4MzY5MjAx","avatar_url":"https://avatars.githubusercontent.com/u/18369201?v=4","gravatar_id":"","url":"https://api.github.com/users/balazsorban44","html_url":"https://github.com/balazsorban44","followers_url":"https://api.github.com/users/balazsorban44/followers","following_url":"https://api.github.com/users/balazsorban44/following{/other_user}","gists_url":"https://api.github.com/users/balazsorban44/gists{/gist_id}","starred_url":"https://api.github.com/users/balazsorban44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/balazsorban44/subscriptions","organizations_url":"https://api.github.com/users/balazsorban44/orgs","repos_url":"https://api.github.com/users/balazsorban44/repos","events_url":"https://api.github.com/users/balazsorban44/events{/privacy}","received_events_url":"https://api.github.com/users/balazsorban44/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-18T08:25:55Z","updated_at":"2024-05-03T12:01:59Z","closed_at":"2024-04-19T09:02:43Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64712","html_url":"https://github.com/vercel/next.js/pull/64712","diff_url":"https://github.com/vercel/next.js/pull/64712.diff","patch_url":"https://github.com/vercel/next.js/pull/64712.patch","merged_at":"2024-04-19T09:02:43Z"},"body":"### What?\r\n\r\nThis reverts commit 3aa3f51f2dc1b0637822ad872afaf8ff4f05cec1.\r\n\r\n### Why?\r\n\r\nThere was a small type error in `run-tests.js` (https://github.com/vercel/next.js/actions/runs/8729199396/job/23950691825?pr=64681)\r\n\r\n### How?\r\n\r\nMake the file type-safe by applying `// @ts-check` at the top\r\n\r\nCloses NEXT-3152","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64712/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64709","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64709/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64709/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64709/events","html_url":"https://github.com/vercel/next.js/pull/64709","id":2249921235,"node_id":"PR_kwDOBC3Cis5tAmyU","number":64709,"title":"Update Turbopack development test manifest","user":{"login":"vercel-release-bot","id":88769842,"node_id":"MDQ6VXNlcjg4NzY5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/88769842?v=4","gravatar_id":"","url":"https://api.github.com/users/vercel-release-bot","html_url":"https://github.com/vercel-release-bot","followers_url":"https://api.github.com/users/vercel-release-bot/followers","following_url":"https://api.github.com/users/vercel-release-bot/following{/other_user}","gists_url":"https://api.github.com/users/vercel-release-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/vercel-release-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vercel-release-bot/subscriptions","organizations_url":"https://api.github.com/users/vercel-release-bot/orgs","repos_url":"https://api.github.com/users/vercel-release-bot/repos","events_url":"https://api.github.com/users/vercel-release-bot/events{/privacy}","received_events_url":"https://api.github.com/users/vercel-release-bot/received_events","type":"User","site_admin":false},"labels":[{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-18T07:04:56Z","updated_at":"2024-05-02T12:03:08Z","closed_at":"2024-04-18T08:59:51Z","author_association":"COLLABORATOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64709","html_url":"https://github.com/vercel/next.js/pull/64709","diff_url":"https://github.com/vercel/next.js/pull/64709.diff","patch_url":"https://github.com/vercel/next.js/pull/64709.patch","merged_at":"2024-04-18T08:59:51Z"},"body":"This auto-generated PR updates the development integration test manifest used when testing Turbopack.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64709/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64708","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64708/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64708/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64708/events","html_url":"https://github.com/vercel/next.js/issues/64708","id":2249904087,"node_id":"I_kwDOBC3Cis6GGs_X","number":64708,"title":"Deep default.js is completely ignored","user":{"login":"aparx","id":47287352,"node_id":"MDQ6VXNlcjQ3Mjg3MzUy","avatar_url":"https://avatars.githubusercontent.com/u/47287352?v=4","gravatar_id":"","url":"https://api.github.com/users/aparx","html_url":"https://github.com/aparx","followers_url":"https://api.github.com/users/aparx/followers","following_url":"https://api.github.com/users/aparx/following{/other_user}","gists_url":"https://api.github.com/users/aparx/gists{/gist_id}","starred_url":"https://api.github.com/users/aparx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aparx/subscriptions","organizations_url":"https://api.github.com/users/aparx/orgs","repos_url":"https://api.github.com/users/aparx/repos","events_url":"https://api.github.com/users/aparx/events{/privacy}","received_events_url":"https://api.github.com/users/aparx/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-04-18T06:54:12Z","updated_at":"2024-05-07T00:03:54Z","closed_at":"2024-04-18T20:59:30Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\r\n\r\nhttps://github.com/aparx/nextjs-deep-defaultjs-bug\r\n\r\n### To Reproduce\r\n\r\n1. Create a new Next application using the `src` folder and app router\r\n2. Create a parallel route, that contains a page and another subpage using a route parameter (e.g.: `@test/[id]/page.js`)\r\n3. Add a default to the subpage just created (e.g. `@test/[id]/default.js`)\r\n4. Create a route parameter at the root, add a page (e.g.: `[id]/page.js`) and add a subpage (e.g.: `[id]/subpage/page.js`)\r\n5. Start next and navigate to your just created subpage (e.g.: `/someRandomId/subpage`) - This should throw a 404\r\n\r\n### Current vs. Expected behavior\r\n\r\n## What is the issue?\r\n\r\nThe [default.js examples](https://nextjs.org/docs/app/api-reference/file-conventions/default#params-optional) suggest that it is possible to contain `default.js` files deeper than the parallel \r\nroute itself. Such that subfolders can contain a version of default Next displays when \r\na fallback is needed. This does not work as proposed in 14.2.0 & 14.2.2 when using a \r\nroute parameter.\r\n\r\n## Expected behaviour & issue\r\nThe route file-tree looks like this:\r\n```\r\nlayout.tsx\r\n- @team\r\n-- [teamId]\r\n    default.tsx\r\n    page.tsx\r\n\r\n- [teamId]\r\n   page.tsx\r\n-- settings\r\n    page.tsx\r\n   \r\n```\r\n\r\nBoth are simultaneously rendered beneath each other in the root `layout.tsx`.\r\n\r\n1. We expect following when navigating to `/testId/`: (_passed_)\r\n   1. [x] the content of `@team/[teamId]/page.tsx` is rendered\r\n   2. [x] the content of `[teamId]/page.tsx` is rendered\r\n\r\n\r\n2. We expect following when navigating to `/testId/settings`: (**_failed_**) \r\n   1. [ ] the content of `@team/[teamId]/default.tsx` is rendered (**Unexpected**)\r\n   2. [ ] the content of `[teamId]/settings/page.tsx` is rendered (Only under a condition, see below)\r\n\r\nBy default, neither is rendered from point two, since a 404 is thrown. Only, when \r\nadding a `default.js` at `@team/` directly, `[teamId]/settings/page.tsx` is rendered. The more deeply \r\nlocated default file is **completely ignored**.\r\n\r\n### Provide environment information\r\n\r\n```bash\r\nOperating System:\r\n  Platform: win32\r\n  Arch: x64\r\n  Version: Windows 11 Home\r\n  Available memory (MB): 32638\r\n  Available CPU cores: 16\r\nBinaries:\r\n  Node: 21.6.0\r\n  npm: N/A\r\n  Yarn: N/A\r\n  pnpm: 8.2.0\r\nRelevant Packages:\r\n  next: 14.2.2 // Latest available version is detected (14.2.2).\r\n  eslint-config-next: 14.2.2\r\n  react: 18.0.0\r\n  react-dom: 18.0.0\r\n  typescript: 5.0.2\r\nNext.js Config:\r\n  output: N/A\r\n```\r\n\r\n\r\n### Which area(s) are affected? (Select all that apply)\r\n\r\nParallel & Intercepting Routes\r\n\r\n### Which stage(s) are affected? (Select all that apply)\r\n\r\nnext dev (local)\r\n\r\n### Additional context\r\n\r\nI tested this reproduction with 14.0, 14.1 canary versions & the current latest 14.2.2","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64708/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64705","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64705/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64705/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64705/events","html_url":"https://github.com/vercel/next.js/pull/64705","id":2249811000,"node_id":"PR_kwDOBC3Cis5tAPTc","number":64705,"title":"Fix typo: 'serverComponentsExtenalPackages' should be 'serverComponentsExternalPackages'","user":{"login":"gaspar09","id":5875536,"node_id":"MDQ6VXNlcjU4NzU1MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5875536?v=4","gravatar_id":"","url":"https://api.github.com/users/gaspar09","html_url":"https://github.com/gaspar09","followers_url":"https://api.github.com/users/gaspar09/followers","following_url":"https://api.github.com/users/gaspar09/following{/other_user}","gists_url":"https://api.github.com/users/gaspar09/gists{/gist_id}","starred_url":"https://api.github.com/users/gaspar09/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaspar09/subscriptions","organizations_url":"https://api.github.com/users/gaspar09/orgs","repos_url":"https://api.github.com/users/gaspar09/repos","events_url":"https://api.github.com/users/gaspar09/events{/privacy}","received_events_url":"https://api.github.com/users/gaspar09/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":4771244046,"node_id":"LA_kwDOBC3Cis8AAAABHGNoDg","url":"https://api.github.com/repos/vercel/next.js/labels/Turbopack","name":"Turbopack","color":"FF1E56","default":false,"description":"Related to Turbopack with Next.js."},{"id":5552804017,"node_id":"LA_kwDOBC3Cis8AAAABSvkQsQ","url":"https://api.github.com/repos/vercel/next.js/labels/CI%20approved","name":"CI approved","color":"75AC05","default":false,"description":"Approve running CI for fork"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-18T05:53:16Z","updated_at":"2024-05-02T12:03:06Z","closed_at":"2024-04-18T09:19:02Z","author_association":"COLLABORATOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64705","html_url":"https://github.com/vercel/next.js/pull/64705","diff_url":"https://github.com/vercel/next.js/pull/64705.diff","patch_url":"https://github.com/vercel/next.js/pull/64705.patch","merged_at":"2024-04-18T09:19:02Z"},"body":"Fix a typo in error message: `serverComponentsExtenalPackages` should be `serverComponentsExternalPackages`\r\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64705/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64700","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64700/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64700/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64700/events","html_url":"https://github.com/vercel/next.js/issues/64700","id":2249664759,"node_id":"I_kwDOBC3Cis6GFyj3","number":64700,"title":"Docs: Page Router - Route Grouping","user":{"login":"arvind-berrybox","id":167168534,"node_id":"U_kgDOCfbKFg","avatar_url":"https://avatars.githubusercontent.com/u/167168534?v=4","gravatar_id":"","url":"https://api.github.com/users/arvind-berrybox","html_url":"https://github.com/arvind-berrybox","followers_url":"https://api.github.com/users/arvind-berrybox/followers","following_url":"https://api.github.com/users/arvind-berrybox/following{/other_user}","gists_url":"https://api.github.com/users/arvind-berrybox/gists{/gist_id}","starred_url":"https://api.github.com/users/arvind-berrybox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvind-berrybox/subscriptions","organizations_url":"https://api.github.com/users/arvind-berrybox/orgs","repos_url":"https://api.github.com/users/arvind-berrybox/repos","events_url":"https://api.github.com/users/arvind-berrybox/events{/privacy}","received_events_url":"https://api.github.com/users/arvind-berrybox/received_events","type":"User","site_admin":false},"labels":[{"id":475935585,"node_id":"MDU6TGFiZWw0NzU5MzU1ODU=","url":"https://api.github.com/repos/vercel/next.js/labels/good%20first%20issue","name":"good first issue","color":"35d64d","default":true,"description":"Easy to fix issues, good for newcomers"},{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-04-18T03:32:13Z","updated_at":"2024-05-04T00:04:07Z","closed_at":"2024-04-19T12:22:50Z","author_association":"NONE","active_lock_reason":"resolved","body":"### What is the improvement or update you wish to see?\n\nThe docs say that Route Grouping is possible for App Router and Page Router, but it doesn't work for page router.\n\n### Is there any context that might help us understand?\n\nRoute Grouping doesn't work in next.js 13.5 page router\n\n### Does the docs page already exist? Please link to it.\n\nhttps://nextjs.org/docs/getting-started/project-structure#route-groups-and-private-folders","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64700/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64699","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64699/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64699/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64699/events","html_url":"https://github.com/vercel/next.js/pull/64699","id":2249639839,"node_id":"PR_kwDOBC3Cis5s_qjS","number":64699,"title":"Update turbopack","user":{"login":"kdy1","id":29931815,"node_id":"MDQ6VXNlcjI5OTMxODE1","avatar_url":"https://avatars.githubusercontent.com/u/29931815?v=4","gravatar_id":"","url":"https://api.github.com/users/kdy1","html_url":"https://github.com/kdy1","followers_url":"https://api.github.com/users/kdy1/followers","following_url":"https://api.github.com/users/kdy1/following{/other_user}","gists_url":"https://api.github.com/users/kdy1/gists{/gist_id}","starred_url":"https://api.github.com/users/kdy1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdy1/subscriptions","organizations_url":"https://api.github.com/users/kdy1/orgs","repos_url":"https://api.github.com/users/kdy1/repos","events_url":"https://api.github.com/users/kdy1/events{/privacy}","received_events_url":"https://api.github.com/users/kdy1/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":4863306216,"node_id":"LA_kwDOBC3Cis8AAAABIeAp6A","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Turbopack%20team","name":"created-by: Turbopack team","color":"000000","default":false,"description":"PRs by the turbopack team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":{"login":"kdy1","id":29931815,"node_id":"MDQ6VXNlcjI5OTMxODE1","avatar_url":"https://avatars.githubusercontent.com/u/29931815?v=4","gravatar_id":"","url":"https://api.github.com/users/kdy1","html_url":"https://github.com/kdy1","followers_url":"https://api.github.com/users/kdy1/followers","following_url":"https://api.github.com/users/kdy1/following{/other_user}","gists_url":"https://api.github.com/users/kdy1/gists{/gist_id}","starred_url":"https://api.github.com/users/kdy1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdy1/subscriptions","organizations_url":"https://api.github.com/users/kdy1/orgs","repos_url":"https://api.github.com/users/kdy1/repos","events_url":"https://api.github.com/users/kdy1/events{/privacy}","received_events_url":"https://api.github.com/users/kdy1/received_events","type":"User","site_admin":false},"assignees":[{"login":"kdy1","id":29931815,"node_id":"MDQ6VXNlcjI5OTMxODE1","avatar_url":"https://avatars.githubusercontent.com/u/29931815?v=4","gravatar_id":"","url":"https://api.github.com/users/kdy1","html_url":"https://github.com/kdy1","followers_url":"https://api.github.com/users/kdy1/followers","following_url":"https://api.github.com/users/kdy1/following{/other_user}","gists_url":"https://api.github.com/users/kdy1/gists{/gist_id}","starred_url":"https://api.github.com/users/kdy1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdy1/subscriptions","organizations_url":"https://api.github.com/users/kdy1/orgs","repos_url":"https://api.github.com/users/kdy1/repos","events_url":"https://api.github.com/users/kdy1/events{/privacy}","received_events_url":"https://api.github.com/users/kdy1/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2024-04-18T03:02:59Z","updated_at":"2024-05-03T12:01:51Z","closed_at":"2024-04-19T11:46:54Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64699","html_url":"https://github.com/vercel/next.js/pull/64699","diff_url":"https://github.com/vercel/next.js/pull/64699.diff","patch_url":"https://github.com/vercel/next.js/pull/64699.patch","merged_at":null},"body":"# Turbopack\r\n\r\n\r\n* https://github.com/vercel/turbo/pull/7992 <!-- hrmny - build(turbo-repository): fix napi build with LLD  -->\r\n* https://github.com/vercel/turbo/pull/7765 <!-- Tobias Koppers - Drop excessive cells after task reexecution  -->\r\n* https://github.com/vercel/turbo/pull/7955 <!-- Donny/강동윤 - chore: Update `styled-jsx`  -->\r\n\r\n---\r\n\r\nCloses #64389","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64699/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64694","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64694/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64694/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64694/events","html_url":"https://github.com/vercel/next.js/pull/64694","id":2249500161,"node_id":"PR_kwDOBC3Cis5s_Mvd","number":64694,"title":"[actions] Enforce body limit using Transform stream","user":{"login":"wyattjoh","id":633002,"node_id":"MDQ6VXNlcjYzMzAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/633002?v=4","gravatar_id":"","url":"https://api.github.com/users/wyattjoh","html_url":"https://github.com/wyattjoh","followers_url":"https://api.github.com/users/wyattjoh/followers","following_url":"https://api.github.com/users/wyattjoh/following{/other_user}","gists_url":"https://api.github.com/users/wyattjoh/gists{/gist_id}","starred_url":"https://api.github.com/users/wyattjoh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyattjoh/subscriptions","organizations_url":"https://api.github.com/users/wyattjoh/orgs","repos_url":"https://api.github.com/users/wyattjoh/repos","events_url":"https://api.github.com/users/wyattjoh/events{/privacy}","received_events_url":"https://api.github.com/users/wyattjoh/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-04-18T00:32:15Z","updated_at":"2024-05-03T12:02:07Z","closed_at":"2024-04-18T22:04:20Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64694","html_url":"https://github.com/vercel/next.js/pull/64694","diff_url":"https://github.com/vercel/next.js/pull/64694.diff","patch_url":"https://github.com/vercel/next.js/pull/64694.patch","merged_at":"2024-04-18T22:04:20Z"},"body":"<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n\r\n### What?\r\n\r\nThis ensures that the body limit option is enforced on all request bodies sent to the Node.js runtime, not just the multipart field size limits.\r\n\r\n### Why?\r\n\r\nThe documentation states that this should limit the body size, previously it only limited the field size.\r\n\r\n### How?\r\n\r\nThis uses a `Transform` stream from Node.js. [Based on my benchmarks](https://gist.github.com/wyattjoh/c470d98095da2f95f5920396aba2a206) using the transform stream added next to no overhead, yet it did simplify the implementation quite a bit. Assuming this is due to the already performant stream support within Node.js.\r\n \r\n\r\nCloses NEXT-3151","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64694/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64693","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64693/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64693/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64693/events","html_url":"https://github.com/vercel/next.js/pull/64693","id":2249481927,"node_id":"PR_kwDOBC3Cis5s_I2S","number":64693,"title":"docs: Suggest a blobless clone instead of a shallow clone","user":{"login":"bgw","id":180404,"node_id":"MDQ6VXNlcjE4MDQwNA==","avatar_url":"https://avatars.githubusercontent.com/u/180404?v=4","gravatar_id":"","url":"https://api.github.com/users/bgw","html_url":"https://github.com/bgw","followers_url":"https://api.github.com/users/bgw/followers","following_url":"https://api.github.com/users/bgw/following{/other_user}","gists_url":"https://api.github.com/users/bgw/gists{/gist_id}","starred_url":"https://api.github.com/users/bgw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bgw/subscriptions","organizations_url":"https://api.github.com/users/bgw/orgs","repos_url":"https://api.github.com/users/bgw/repos","events_url":"https://api.github.com/users/bgw/events{/privacy}","received_events_url":"https://api.github.com/users/bgw/received_events","type":"User","site_admin":false},"labels":[{"id":4863306216,"node_id":"LA_kwDOBC3Cis8AAAABIeAp6A","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Turbopack%20team","name":"created-by: Turbopack team","color":"000000","default":false,"description":"PRs by the turbopack team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-18T00:11:07Z","updated_at":"2024-05-03T12:02:29Z","closed_at":"2024-04-18T15:35:49Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64693","html_url":"https://github.com/vercel/next.js/pull/64693","diff_url":"https://github.com/vercel/next.js/pull/64693.diff","patch_url":"https://github.com/vercel/next.js/pull/64693.patch","merged_at":"2024-04-18T15:35:49Z"},"body":"GitHub recommends blobless clones over shallow clones: https://github.blog/2020-12-21-get-up-to-speed-with-partial-clone-and-shallow-clone/\n\n> For these reasons we do not recommend shallow clones except for builds that delete the repository immediately afterwards. Fetching from shallow clones can cause more harm than good!\n\nI've been using blobless clones for development for the last couple weeks. The blobless clone has the benefit of including the full repository history (for the cloned branch). Tools like `git blame` will be slower as git fetches the related blobs on-demand.\n\nBenchmarks (using all the flags in the docs):\n- The blobless clone is faster on my machine, taking 11.1 seconds versus 13.1 seconds for the shallow clone.\n- The blobless clone takes up 256M on disk, versus 244M for the shallow clone. It's worse, but not by much.\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64693/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64692","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64692/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64692/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64692/events","html_url":"https://github.com/vercel/next.js/pull/64692","id":2249459022,"node_id":"PR_kwDOBC3Cis5s_D4q","number":64692,"title":"prevent erroneous route interception during lazy fetch","user":{"login":"ztanner","id":1939140,"node_id":"MDQ6VXNlcjE5MzkxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1939140?v=4","gravatar_id":"","url":"https://api.github.com/users/ztanner","html_url":"https://github.com/ztanner","followers_url":"https://api.github.com/users/ztanner/followers","following_url":"https://api.github.com/users/ztanner/following{/other_user}","gists_url":"https://api.github.com/users/ztanner/gists{/gist_id}","starred_url":"https://api.github.com/users/ztanner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ztanner/subscriptions","organizations_url":"https://api.github.com/users/ztanner/orgs","repos_url":"https://api.github.com/users/ztanner/repos","events_url":"https://api.github.com/users/ztanner/events{/privacy}","received_events_url":"https://api.github.com/users/ztanner/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-17T23:44:15Z","updated_at":"2024-05-03T12:02:31Z","closed_at":"2024-04-18T13:22:13Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64692","html_url":"https://github.com/vercel/next.js/pull/64692","diff_url":"https://github.com/vercel/next.js/pull/64692.diff","patch_url":"https://github.com/vercel/next.js/pull/64692.patch","merged_at":"2024-04-18T13:22:13Z"},"body":"When the router cache can't find a cache node for the requested segment, it performs a request to the server to get the missing data. This request to the server currently will always include the `next-url` header, and on soft-navigations, the router will route the request to the intercepted handler. This lazy fetch is treated as a soft navigation by the server, and will incorrectly return data for the intercepted route. \r\n\r\nSimilar to the handling in `router.refresh`, and the server action reducer, we should not include the `next-url` header if there's no interception route currently in the tree, as otherwise we'll be erroneously triggering the intercepted route.\r\n\r\nFixes #64676\r\nCloses NEXT-3146\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64692/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64691","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64691/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64691/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64691/events","html_url":"https://github.com/vercel/next.js/pull/64691","id":2249450287,"node_id":"PR_kwDOBC3Cis5s_CBP","number":64691,"title":"Add --skip-install flag to create-next-app","user":{"login":"vkryachko","id":141824,"node_id":"MDQ6VXNlcjE0MTgyNA==","avatar_url":"https://avatars.githubusercontent.com/u/141824?v=4","gravatar_id":"","url":"https://api.github.com/users/vkryachko","html_url":"https://github.com/vkryachko","followers_url":"https://api.github.com/users/vkryachko/followers","following_url":"https://api.github.com/users/vkryachko/following{/other_user}","gists_url":"https://api.github.com/users/vkryachko/gists{/gist_id}","starred_url":"https://api.github.com/users/vkryachko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vkryachko/subscriptions","organizations_url":"https://api.github.com/users/vkryachko/orgs","repos_url":"https://api.github.com/users/vkryachko/repos","events_url":"https://api.github.com/users/vkryachko/events{/privacy}","received_events_url":"https://api.github.com/users/vkryachko/received_events","type":"User","site_admin":false},"labels":[{"id":2108224491,"node_id":"MDU6TGFiZWwyMTA4MjI0NDkx","url":"https://api.github.com/repos/vercel/next.js/labels/create-next-app","name":"create-next-app","color":"9effbb","default":false,"description":"Related to our CLI tool for quickly starting a new Next.js application."},{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5552804017,"node_id":"LA_kwDOBC3Cis8AAAABSvkQsQ","url":"https://api.github.com/repos/vercel/next.js/labels/CI%20approved","name":"CI approved","color":"75AC05","default":false,"description":"Approve running CI for fork"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-17T23:34:52Z","updated_at":"2024-05-09T00:07:17Z","closed_at":"2024-04-23T22:04:54Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64691","html_url":"https://github.com/vercel/next.js/pull/64691","diff_url":"https://github.com/vercel/next.js/pull/64691.diff","patch_url":"https://github.com/vercel/next.js/pull/64691.patch","merged_at":"2024-04-23T22:04:54Z"},"body":"This change allows disabling automatic `npm install`(or other supported package managers).\r\n\r\nInstalling NextJS dependencies takes a long time and results in 0.5GB on disk inside `node_modules`, it's not always what you want as sometimes it's useful to delay dependency installation to a later time.\r\n\r\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64691/reactions","total_count":19,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":5,"rocket":6,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64691/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64690","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64690/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64690/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64690/events","html_url":"https://github.com/vercel/next.js/pull/64690","id":2249427600,"node_id":"PR_kwDOBC3Cis5s-9AQ","number":64690,"title":"Revert \"fix TypeError edge-case for parallel slots rendered multiple times\"","user":{"login":"ztanner","id":1939140,"node_id":"MDQ6VXNlcjE5MzkxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1939140?v=4","gravatar_id":"","url":"https://api.github.com/users/ztanner","html_url":"https://github.com/ztanner","followers_url":"https://api.github.com/users/ztanner/followers","following_url":"https://api.github.com/users/ztanner/following{/other_user}","gists_url":"https://api.github.com/users/ztanner/gists{/gist_id}","starred_url":"https://api.github.com/users/ztanner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ztanner/subscriptions","organizations_url":"https://api.github.com/users/ztanner/orgs","repos_url":"https://api.github.com/users/ztanner/repos","events_url":"https://api.github.com/users/ztanner/events{/privacy}","received_events_url":"https://api.github.com/users/ztanner/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T23:15:37Z","updated_at":"2024-05-02T12:03:16Z","closed_at":"2024-04-17T23:45:20Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64690","html_url":"https://github.com/vercel/next.js/pull/64690","diff_url":"https://github.com/vercel/next.js/pull/64690.diff","patch_url":"https://github.com/vercel/next.js/pull/64690.patch","merged_at":"2024-04-17T23:45:20Z"},"body":"Reverts vercel/next.js#64271\r\n\r\nThis appears to be causing problems rendering error boundaries on SPA navigations and needs further investigation\n\nCloses NEXT-3150","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64690/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64687","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64687/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64687/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64687/events","html_url":"https://github.com/vercel/next.js/issues/64687","id":2249369790,"node_id":"I_kwDOBC3Cis6GEqi-","number":64687,"title":"next/dynamic renders loading state when React re-renders quickly client-side","user":{"login":"snehakhobragade90","id":31524521,"node_id":"MDQ6VXNlcjMxNTI0NTIx","avatar_url":"https://avatars.githubusercontent.com/u/31524521?v=4","gravatar_id":"","url":"https://api.github.com/users/snehakhobragade90","html_url":"https://github.com/snehakhobragade90","followers_url":"https://api.github.com/users/snehakhobragade90/followers","following_url":"https://api.github.com/users/snehakhobragade90/following{/other_user}","gists_url":"https://api.github.com/users/snehakhobragade90/gists{/gist_id}","starred_url":"https://api.github.com/users/snehakhobragade90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snehakhobragade90/subscriptions","organizations_url":"https://api.github.com/users/snehakhobragade90/orgs","repos_url":"https://api.github.com/users/snehakhobragade90/repos","events_url":"https://api.github.com/users/snehakhobragade90/events{/privacy}","received_events_url":"https://api.github.com/users/snehakhobragade90/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":3555302485,"node_id":"LA_kwDOBC3Cis7T6ZxV","url":"https://api.github.com/repos/vercel/next.js/labels/Lazy%20Loading","name":"Lazy Loading","color":"D93F0B","default":false,"description":"Related to Next.js Lazy Loading (e.g., `next/dynamic` or `React.lazy`)."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T22:25:20Z","updated_at":"2024-05-17T00:04:11Z","closed_at":"2024-05-02T19:19:26Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\r\n\r\nhttps://codesandbox.io/p/devbox/jolly-fog-h86q9z\r\n\r\n### To Reproduce\r\n\r\n1. Refresh the page preview\r\n2. As the page loads -  you'll observe the dynamic code-split component renders the server response, then flashes the loading state before loading the content\r\n\r\nCode Working details:\r\n1. `ClientWrapper` component imports a next/dynamic code-split `DynamicHeader` component \r\n2. `ClientWrapper` uses client hooks like `useEffect` which leads react to render client side\r\n\r\n**page.tsx**\r\n```ts\r\nimport ClientWrapper from \"./ClientWrapper\";\r\n\r\nexport default function Home() {\r\n  return <ClientWrapper />;\r\n}\r\n```\r\n**dynamicHeader.tsx**\r\n```ts\r\nconst DynamicImportComponent = () => {\r\n  return <div>This is the code split dynamically imported component</div>;\r\n};\r\n\r\nexport default DynamicImportComponent;\r\n```\r\n**ClientWrapper**\r\n```ts\r\n\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport dynamic from \"next/dynamic\";\r\n\r\nconst DynamicHeader = dynamic(() => import(\"./dynamicHeader\"), {\r\n  loading: () => <p>Loading...</p>,\r\n});\r\n\r\nconst ClientWrapper = () => {\r\n  const [someState, setsomeState] = useState(\"foo\");\r\n\r\n  useEffect(() => {\r\n    setsomeState(\"bar\");\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      The state is {someState}\r\n      <DynamicHeader />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientWrapper;\r\n```\r\n\r\n### Current vs. Expected behavior\r\n\r\nI would expect that the loading state of the dynamically imported component is not rendered. It renders the server response, then flashes the loading state before rendering the client side rendered content. There should be no flashing of the loading state which harms the application's CLS.\r\nHypothesis why this is happening there is a race condition where the react is rendering and mounting before the code split chunks are loaded. Adding a `setTimeout` with an arbitrary delay to the react rendering effectively resolves the bug.\r\n\r\n\r\n### Provide environment information\r\n\r\n```bash\r\nBinaries:\r\n  Node: v20.11.1\r\n  npm: 10.2.4\r\n  Yarn: 4.0.0\r\n  pnpm: N/A\r\nRelevant Packages:\r\n  next: 14.0.4\r\n  eslint-config-next: 14.0.1\r\n  react: ^18\r\n  react-dom: 18.2.0\r\n  typescript: 5.3.2\r\nNext.js Config:\r\n  output: N/A\r\n```\r\n\r\n\r\n### Which area(s) are affected? (Select all that apply)\r\n\r\nPerformance\r\n\r\n### Which stage(s) are affected? (Select all that apply)\r\n\r\nnext dev (local), next build (local), next start (local), Other (Deployed)\r\n\r\n### Additional context\r\n\r\nThis bug significantly impacts our application's Cumulative Layout Shift metric, thereby detrimentally affecting our SEO performance. It posing a roadblock for us in migrating more URLs to route through the Next app.\r\n\r\nAdding of videos from the sandbox and our stripped down app for reference:\r\n\r\nhttps://github.com/vercel/next.js/assets/31524521/0f857076-23fc-4c63-97d0-910f31597c04\r\n\r\n\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64687/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":2,"eyes":1},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64687/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64686","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64686/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64686/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64686/events","html_url":"https://github.com/vercel/next.js/pull/64686","id":2249360659,"node_id":"PR_kwDOBC3Cis5s-vPj","number":64686,"title":"update turbopack","user":{"login":"bgw","id":180404,"node_id":"MDQ6VXNlcjE4MDQwNA==","avatar_url":"https://avatars.githubusercontent.com/u/180404?v=4","gravatar_id":"","url":"https://api.github.com/users/bgw","html_url":"https://github.com/bgw","followers_url":"https://api.github.com/users/bgw/followers","following_url":"https://api.github.com/users/bgw/following{/other_user}","gists_url":"https://api.github.com/users/bgw/gists{/gist_id}","starred_url":"https://api.github.com/users/bgw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bgw/subscriptions","organizations_url":"https://api.github.com/users/bgw/orgs","repos_url":"https://api.github.com/users/bgw/repos","events_url":"https://api.github.com/users/bgw/events{/privacy}","received_events_url":"https://api.github.com/users/bgw/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":4863306216,"node_id":"LA_kwDOBC3Cis8AAAABIeAp6A","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Turbopack%20team","name":"created-by: Turbopack team","color":"000000","default":false,"description":"PRs by the turbopack team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T22:16:01Z","updated_at":"2024-05-02T12:03:20Z","closed_at":"2024-04-17T22:41:06Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64686","html_url":"https://github.com/vercel/next.js/pull/64686","diff_url":"https://github.com/vercel/next.js/pull/64686.diff","patch_url":"https://github.com/vercel/next.js/pull/64686.patch","merged_at":"2024-04-17T22:41:06Z"},"body":"* https://github.com/vercel/turbo/pull/7995 <!-- Benjamin Woodruff - fix(turbopack-node) postcss.config.js path resolution on Windows  -->\r\n\r\n(plus unrelated turborepo + CI changes)\r\n\r\nThis PR should not be cherrypicked into the 14-2-1 branch. Instead https://github.com/vercel/next.js/pull/64677 should be merged into that branch, as that PR contains only the one above Windows commit.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64686/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64684","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64684/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64684/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64684/events","html_url":"https://github.com/vercel/next.js/issues/64684","id":2249353914,"node_id":"I_kwDOBC3Cis6GEmq6","number":64684,"title":"14.2.1 next dev --turbo still fail","user":{"login":"fungilation","id":3803466,"node_id":"MDQ6VXNlcjM4MDM0NjY=","avatar_url":"https://avatars.githubusercontent.com/u/3803466?v=4","gravatar_id":"","url":"https://api.github.com/users/fungilation","html_url":"https://github.com/fungilation","followers_url":"https://api.github.com/users/fungilation/followers","following_url":"https://api.github.com/users/fungilation/following{/other_user}","gists_url":"https://api.github.com/users/fungilation/gists{/gist_id}","starred_url":"https://api.github.com/users/fungilation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fungilation/subscriptions","organizations_url":"https://api.github.com/users/fungilation/orgs","repos_url":"https://api.github.com/users/fungilation/repos","events_url":"https://api.github.com/users/fungilation/events{/privacy}","received_events_url":"https://api.github.com/users/fungilation/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T22:08:59Z","updated_at":"2024-05-01T08:54:42Z","closed_at":"2024-04-17T22:09:14Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\npnpm add @types/js-cookie (3.0.6) -> `import Cookies from 'js-cookie' in any app` code\n\n### To Reproduce\n\nnext dev --turbo\n\n### Current vs. Expected behavior\n\nterminal errors on `next dev --turbo`\r\n\r\n```\r\n ⨯ ./src/components/layout/index.tsx:4:1\r\nModule not found: Can't resolve 'js-cookie'\r\n  2 | import { useRouter } from 'next/router'\r\n  3 | import { useAuthenticationStatus } from '@nhost/nextjs'\r\n> 4 | import Cookies from 'js-cookie'\r\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  5 |\r\n  6 | import Navbar from 'components/navbar'\r\n  7 | import Footer from 'components/footer'\r\n\r\nhttps://nextjs.org/docs/messages/module-not-found\r\n\r\n\r\n ⨯ ./node_modules/.pnpm/slick-carousel@1.8.1_jquery@3.7.1/node_modules/slick-carousel/slick/slick-theme.css:17:159\r\nModule not found: Can't resolve './fonts/slick.svg#slick'\r\n  15 |     src: url('./fonts/slick.eot');\r\n  16 |     src: url('./fonts/slick.eot?#iefix') format('embedded-opentype'), url('./fonts/slick.woff') format('woff'), url('./fonts/slick.ttf') format('truetype'), url('./fonts/slick.svg#slick') format('svg');\r\n> 17 | }\r\n     |  ^\r\n  18 | /* Arrows */\r\n  19 | .slick-prev,\r\n  20 | .slick-next\r\n\r\nhttps://nextjs.org/docs/messages/module-not-found\r\n```\n\n### Provide environment information\n\n```bash\nnext info                                                                                               \r\n\r\nOperating System:\r\n  Platform: darwin\r\n  Arch: x64\r\n  Version: Darwin Kernel Version 23.4.0: Fri Mar 15 00:12:41 PDT 2024; root:xnu-10063.101.17~1/RELEASE_ARM64_T8103\r\n  Available memory (MB): 16384\r\n  Available CPU cores: 8\r\nBinaries:\r\n  Node: 21.7.3\r\n  npm: 10.5.0\r\n  Yarn: 1.22.22\r\n  pnpm: 9.0.2\r\nRelevant Packages:\r\n  next: 14.2.1 // Latest available version is detected (14.2.1).\r\n  eslint-config-next: 14.2.1\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.3.3\r\nNext.js Config:\r\n  output: N/A\r\n```\r\n\r\nblitz -v                                                                                              ```\r\nBlitz version: 2.0.8 (local)\r\nmacOS Sonoma | darwin-x64 | Node: v21.7.3\r\n\r\n\r\n Package manager: pnpm\r\n\r\n  System:\r\n    OS: macOS 14.4.1\r\n    CPU: (8) x64 Apple M1\r\n    Memory: 384.93 MB / 16.00 GB\r\n    Shell: 5.9 - /bin/zsh\r\n  Binaries:\r\n    Node: 21.7.3 - /usr/local/bin/node\r\n    Yarn: 1.22.22 - /usr/local/bin/yarn\r\n    npm: 10.5.0 - /usr/local/bin/npm\r\n  npmPackages:\r\n    @blitzjs/auth: ~2.0.8 => 2.0.8\r\n    @blitzjs/next: ~2.0.8 => 2.0.8\r\n    @blitzjs/rpc: ~2.0.8 => 2.0.8\r\n    @prisma/client: Not Found\r\n    blitz: ~2.0.8 => 2.0.8\r\n    next: ^14.2.1 => 14.2.1\r\n    prisma: Not Found\r\n    react: ~18.2.0 => 18.2.0\r\n    react-dom: 18.2.0 => 18.2.0\r\n    typescript: ~5.3.3 => 5.3.3\r\n```\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nTurbopack\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\nNext 14.2.1, together with Blitz 2.0.8","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64684/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64682","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64682/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64682/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64682/events","html_url":"https://github.com/vercel/next.js/pull/64682","id":2249349152,"node_id":"PR_kwDOBC3Cis5s-st5","number":64682,"title":"Revert \"chore(test): run related E2E deploy tests on PRs\"","user":{"login":"ijjk","id":22380829,"node_id":"MDQ6VXNlcjIyMzgwODI5","avatar_url":"https://avatars.githubusercontent.com/u/22380829?v=4","gravatar_id":"","url":"https://api.github.com/users/ijjk","html_url":"https://github.com/ijjk","followers_url":"https://api.github.com/users/ijjk/followers","following_url":"https://api.github.com/users/ijjk/following{/other_user}","gists_url":"https://api.github.com/users/ijjk/gists{/gist_id}","starred_url":"https://api.github.com/users/ijjk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijjk/subscriptions","organizations_url":"https://api.github.com/users/ijjk/orgs","repos_url":"https://api.github.com/users/ijjk/repos","events_url":"https://api.github.com/users/ijjk/events{/privacy}","received_events_url":"https://api.github.com/users/ijjk/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T22:04:21Z","updated_at":"2024-05-02T12:03:22Z","closed_at":"2024-04-17T22:40:22Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64682","html_url":"https://github.com/vercel/next.js/pull/64682","diff_url":"https://github.com/vercel/next.js/pull/64682.diff","patch_url":"https://github.com/vercel/next.js/pull/64682.patch","merged_at":"2024-04-17T22:40:22Z"},"body":"Reverting for now as this is failing on all PRs \r\n\r\nReverts vercel/next.js#63763\r\n\r\nCloses NEXT-3147\r\n\r\nx-ref: [slack thread](https://vercel.slack.com/archives/C04DUD7EB1B/p1713391373933249)\r\nx-ref: [slack thread](https://vercel.slack.com/archives/C04KC8A53T7/p1713385017892539)","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64682/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64681","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64681/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64681/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64681/events","html_url":"https://github.com/vercel/next.js/pull/64681","id":2249339080,"node_id":"PR_kwDOBC3Cis5s-qhL","number":64681,"title":"Fix: resolve mixed re-exports module as cjs","user":{"login":"huozhi","id":4800338,"node_id":"MDQ6VXNlcjQ4MDAzMzg=","avatar_url":"https://avatars.githubusercontent.com/u/4800338?v=4","gravatar_id":"","url":"https://api.github.com/users/huozhi","html_url":"https://github.com/huozhi","followers_url":"https://api.github.com/users/huozhi/followers","following_url":"https://api.github.com/users/huozhi/following{/other_user}","gists_url":"https://api.github.com/users/huozhi/gists{/gist_id}","starred_url":"https://api.github.com/users/huozhi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huozhi/subscriptions","organizations_url":"https://api.github.com/users/huozhi/orgs","repos_url":"https://api.github.com/users/huozhi/repos","events_url":"https://api.github.com/users/huozhi/events{/privacy}","received_events_url":"https://api.github.com/users/huozhi/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T21:55:27Z","updated_at":"2024-05-02T12:03:18Z","closed_at":"2024-04-17T23:06:29Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64681","html_url":"https://github.com/vercel/next.js/pull/64681","diff_url":"https://github.com/vercel/next.js/pull/64681.diff","patch_url":"https://github.com/vercel/next.js/pull/64681.patch","merged_at":"2024-04-17T23:06:29Z"},"body":"### Why\r\n\r\nIf you have a client entry that mixing `default` re-export and `*` re-export, atm we cannot statically analyze all the exports from this the boundary, unless we can apply barrel file optimization for every import which could slow down speed.\r\n\r\n```js\r\n// index.js\r\n'use client'\r\nexport * from './client'\r\nexport { default } from './client'\r\n```\r\n\r\nBefore that happen we high recommend you don't mixing that and try to add the client directive to the leaf level client module. We're not able to determine what the identifiers are imported from the wildcard import path. This would work if we resolved the actual file but currently we can't.\r\n\r\n### What\r\n\r\nWhen we found the mixing client entry module like that, we treat it as a CJS client module and include all the bundle in client like before what we have the client components import optimization.\r\n\r\nIdeally we could warn users don't apply the client directive to these kinda of barrel file, and only apply them to where we needed.\r\n\r\n\r\nFixes #64518 \r\nCloses NEXT-3119","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64681/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64680","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64680/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64680/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64680/events","html_url":"https://github.com/vercel/next.js/issues/64680","id":2249316825,"node_id":"I_kwDOBC3Cis6GEdnZ","number":64680,"title":"bug: serverActions.bodySizeLimit is ignored","user":{"login":"yanickrochon","id":78461,"node_id":"MDQ6VXNlcjc4NDYx","avatar_url":"https://avatars.githubusercontent.com/u/78461?v=4","gravatar_id":"","url":"https://api.github.com/users/yanickrochon","html_url":"https://github.com/yanickrochon","followers_url":"https://api.github.com/users/yanickrochon/followers","following_url":"https://api.github.com/users/yanickrochon/following{/other_user}","gists_url":"https://api.github.com/users/yanickrochon/gists{/gist_id}","starred_url":"https://api.github.com/users/yanickrochon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanickrochon/subscriptions","organizations_url":"https://api.github.com/users/yanickrochon/orgs","repos_url":"https://api.github.com/users/yanickrochon/repos","events_url":"https://api.github.com/users/yanickrochon/events{/privacy}","received_events_url":"https://api.github.com/users/yanickrochon/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T21:38:34Z","updated_at":"2024-05-02T12:02:23Z","closed_at":"2024-04-17T22:56:20Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/TryingToImprove/next-app-router-body-size-issue\n\n### To Reproduce\n\nStart the application\r\nClick submit button\r\nIt should not throw a error because the data posted is not the same size as what is expected\r\n\n\n### Current vs. Expected behavior\n\nShould not fail - bodySizeLimit should work\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: linux\r\n  Arch: x64\r\n  Version: #1 SMP PREEMPT_DYNAMIC Debian 6.6.13-1~bpo12+1 (2024-02-15)\r\n  Available memory (MB): 31535\r\n  Available CPU cores: 8\r\nBinaries:\r\n  Node: 20.11.1\r\n  npm: 10.2.4\r\n  Yarn: N/A\r\n  pnpm: 8.15.6\r\nRelevant Packages:\r\n  next: 14.2.1 // Latest available version is detected (14.2.1).\r\n  eslint-config-next: 14.2.1\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: standalone\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nRuntime\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\nThis is the same issue as #59277 which was closed too soon, without a resolution.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64680/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64678","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64678/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64678/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64678/events","html_url":"https://github.com/vercel/next.js/pull/64678","id":2249183519,"node_id":"PR_kwDOBC3Cis5s-JUX","number":64678,"title":"feat(next-core): support parsing matcher config object","user":{"login":"kwonoj","id":1210596,"node_id":"MDQ6VXNlcjEyMTA1OTY=","avatar_url":"https://avatars.githubusercontent.com/u/1210596?v=4","gravatar_id":"","url":"https://api.github.com/users/kwonoj","html_url":"https://github.com/kwonoj","followers_url":"https://api.github.com/users/kwonoj/followers","following_url":"https://api.github.com/users/kwonoj/following{/other_user}","gists_url":"https://api.github.com/users/kwonoj/gists{/gist_id}","starred_url":"https://api.github.com/users/kwonoj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kwonoj/subscriptions","organizations_url":"https://api.github.com/users/kwonoj/orgs","repos_url":"https://api.github.com/users/kwonoj/repos","events_url":"https://api.github.com/users/kwonoj/events{/privacy}","received_events_url":"https://api.github.com/users/kwonoj/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":4771244046,"node_id":"LA_kwDOBC3Cis8AAAABHGNoDg","url":"https://api.github.com/repos/vercel/next.js/labels/Turbopack","name":"Turbopack","color":"FF1E56","default":false,"description":"Related to Turbopack with Next.js."},{"id":4863306216,"node_id":"LA_kwDOBC3Cis8AAAABIeAp6A","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Turbopack%20team","name":"created-by: Turbopack team","color":"000000","default":false,"description":"PRs by the turbopack team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null},{"id":6835761499,"node_id":"LA_kwDOBC3Cis8AAAABl3FxWw","url":"https://api.github.com/repos/vercel/next.js/labels/tests","name":"tests","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-04-17T20:09:27Z","updated_at":"2024-05-07T12:02:11Z","closed_at":"2024-04-23T07:55:24Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64678","html_url":"https://github.com/vercel/next.js/pull/64678","diff_url":"https://github.com/vercel/next.js/pull/64678.diff","patch_url":"https://github.com/vercel/next.js/pull/64678.patch","merged_at":"2024-04-23T07:55:24Z"},"body":"### What\r\n\r\n- closes #63896\r\n\r\nPR implements parsing JSValue for the matcher config if given item is an object. We had those types already declared in place but somehow parsing ignores it.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64678/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64677","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64677/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64677/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64677/events","html_url":"https://github.com/vercel/next.js/pull/64677","id":2249168380,"node_id":"PR_kwDOBC3Cis5s-GT-","number":64677,"title":"hotfix(turbopack): Update with patch for postcss.config.js path resolution on Windows","user":{"login":"bgw","id":180404,"node_id":"MDQ6VXNlcjE4MDQwNA==","avatar_url":"https://avatars.githubusercontent.com/u/180404?v=4","gravatar_id":"","url":"https://api.github.com/users/bgw","html_url":"https://github.com/bgw","followers_url":"https://api.github.com/users/bgw/followers","following_url":"https://api.github.com/users/bgw/following{/other_user}","gists_url":"https://api.github.com/users/bgw/gists{/gist_id}","starred_url":"https://api.github.com/users/bgw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bgw/subscriptions","organizations_url":"https://api.github.com/users/bgw/orgs","repos_url":"https://api.github.com/users/bgw/repos","events_url":"https://api.github.com/users/bgw/events{/privacy}","received_events_url":"https://api.github.com/users/bgw/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":4863306216,"node_id":"LA_kwDOBC3Cis8AAAABIeAp6A","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Turbopack%20team","name":"created-by: Turbopack team","color":"000000","default":false,"description":"PRs by the turbopack team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T20:03:32Z","updated_at":"2024-05-02T12:03:24Z","closed_at":"2024-04-17T22:08:51Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64677","html_url":"https://github.com/vercel/next.js/pull/64677","diff_url":"https://github.com/vercel/next.js/pull/64677.diff","patch_url":"https://github.com/vercel/next.js/pull/64677.patch","merged_at":"2024-04-17T22:08:51Z"},"body":"Not 100% sure I did this process right for a hotfix, but this new tag should be exactly the same as what's currently in the 14-2-1 branch, except with this one PR:\r\n\r\n* https://github.com/vercel/turbo/pull/7995 <!-- Benjamin Woodruff - fix(turbopack-node) postcss.config.js path resolution on Windows  -->\r\n\r\nSimilar PR for the canary branch: #64686 (which contains other commits from the turbo main branch)\r\n\r\n---\r\n\r\nIn turbo, I ran\r\n\r\n```\r\ngit switch --detach turbopack-240411.3\r\ngit switch -c bgw/hotfix-turbopack-14-2-1\r\ngit cherry-pick e7a5c60a3b899d0c4293589c2844016da82442f7\r\ngit push origin HEAD\r\n```\r\n\r\nI then ran the GitHub action for the nightly release process for that new branch: https://github.com/vercel/turbo/actions/workflows/turbopack-nightly-release.yml (it seems like this just cuts a tag, I wonder for hotfixes if we should manually cut the tag so it's named differently)\r\n\r\nIn the nextpack repository:\r\n\r\n```\r\npnpm next-link turbopack-240417.2\r\n```","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64677/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64676","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64676/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64676/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64676/events","html_url":"https://github.com/vercel/next.js/issues/64676","id":2249150033,"node_id":"I_kwDOBC3Cis6GD05R","number":64676,"title":"Parallel routes breaks the browser back button, and it happens even on https://nextgram.vercel.app/","user":{"login":"emp","id":640314,"node_id":"MDQ6VXNlcjY0MDMxNA==","avatar_url":"https://avatars.githubusercontent.com/u/640314?v=4","gravatar_id":"","url":"https://api.github.com/users/emp","html_url":"https://github.com/emp","followers_url":"https://api.github.com/users/emp/followers","following_url":"https://api.github.com/users/emp/following{/other_user}","gists_url":"https://api.github.com/users/emp/gists{/gist_id}","starred_url":"https://api.github.com/users/emp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emp/subscriptions","organizations_url":"https://api.github.com/users/emp/orgs","repos_url":"https://api.github.com/users/emp/repos","events_url":"https://api.github.com/users/emp/events{/privacy}","received_events_url":"https://api.github.com/users/emp/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":3502592891,"node_id":"LA_kwDOBC3Cis7QxVN7","url":"https://api.github.com/repos/vercel/next.js/labels/Navigation","name":"Navigation","color":"1830A5","default":false,"description":"Related to Next.js linking (e.g., <Link>) and navigation."},{"id":4726606787,"node_id":"LA_kwDOBC3Cis8AAAABGbpLww","url":"https://api.github.com/repos/vercel/next.js/labels/area:%20app","name":"area: app","color":"9A507E","default":false,"description":"App directory (appDir: true)"},{"id":4932840687,"node_id":"LA_kwDOBC3Cis8AAAABJgUs7w","url":"https://api.github.com/repos/vercel/next.js/labels/linear:%20next","name":"linear: next","color":"A53EF5","default":false,"description":"Confirmed issue that is tracked by the Next.js team."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-17T19:55:13Z","updated_at":"2024-05-03T00:04:38Z","closed_at":"2024-04-18T13:22:14Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/vercel/nextgram\n\n### To Reproduce\n\nSTEPS (the parallel routing example under the vercel github org `nextgram` is being sent as how to reproduce the issue as happens there as well)\r\n\r\n1. Go to https://nextgram.vercel.app/\r\n2. Click a photo to open the modal (such as `/photos/1`)\r\n3. Press refresh (this shows the in-page render of the `/photos/1`)\r\n4. Press back (this shows the homepage again)\r\n5. Press refresh again\r\n6. Press forward (the url changes to `/photos/1` but no content changes and after a few seconds you get the client-side app crash)\n\n### Current vs. Expected behavior\n\nI was experiencing this strange behavior in the parallel routes and I assumed it was due to my app being able to jump from slot route to route without \"exiting\" the route (such as closing a modal and going back to the initiator page) but I managed to reproduce the issue even on simple modal examples of the feature.\r\n\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: arm64\r\n  Version: Darwin Kernel Version 22.6.0: Fri Sep 15 13:41:28 PDT 2023; root:xnu-8796.141.3.700.8~1/RELEASE_ARM64_T6020\r\n  Available memory (MB): 32768\r\n  Available CPU cores: 12\r\nBinaries:\r\n  Node: 18.19.1\r\n  npm: 10.2.4\r\n  Yarn: 1.22.21\r\n  pnpm: 8.15.7\r\nRelevant Packages:\r\n  next: 14.2.1 // Latest available version is detected (14.2.1).\r\n  eslint-config-next: 14.2.1\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nParallel & Intercepting Routes\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local), next build (local), next start (local), Vercel (Deployed), Other (Deployed)\n\n### Additional context\n\n_No response_\n\n<sub>[NEXT-3146](https://linear.app/vercel/issue/NEXT-3146/parallel-routes-breaks-the-browser-back-button-and-it-happens-even-on)</sub>","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64676/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64673","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64673/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64673/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64673/events","html_url":"https://github.com/vercel/next.js/pull/64673","id":2248936400,"node_id":"PR_kwDOBC3Cis5s9ShD","number":64673,"title":"docs: fix MDX codeblock","user":{"login":"leerob","id":9113740,"node_id":"MDQ6VXNlcjkxMTM3NDA=","avatar_url":"https://avatars.githubusercontent.com/u/9113740?v=4","gravatar_id":"","url":"https://api.github.com/users/leerob","html_url":"https://github.com/leerob","followers_url":"https://api.github.com/users/leerob/followers","following_url":"https://api.github.com/users/leerob/following{/other_user}","gists_url":"https://api.github.com/users/leerob/gists{/gist_id}","starred_url":"https://api.github.com/users/leerob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerob/subscriptions","organizations_url":"https://api.github.com/users/leerob/orgs","repos_url":"https://api.github.com/users/leerob/repos","events_url":"https://api.github.com/users/leerob/events{/privacy}","received_events_url":"https://api.github.com/users/leerob/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5599678234,"node_id":"LA_kwDOBC3Cis8AAAABTcRPGg","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20DevEx%20team","name":"created-by: Next.js DevEx team","color":"000000","default":false,"description":""},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-04-17T18:15:34Z","updated_at":"2024-05-02T12:03:30Z","closed_at":"2024-04-17T18:18:16Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64673","html_url":"https://github.com/vercel/next.js/pull/64673","diff_url":"https://github.com/vercel/next.js/pull/64673.diff","patch_url":"https://github.com/vercel/next.js/pull/64673.patch","merged_at":"2024-04-17T18:18:16Z"},"body":null,"reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64673/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64670","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64670/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64670/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64670/events","html_url":"https://github.com/vercel/next.js/pull/64670","id":2248628147,"node_id":"PR_kwDOBC3Cis5s8O0R","number":64670,"title":"Fix experimental/testmode by removing console.log","user":{"login":"Ethan-Arrowood","id":16144158,"node_id":"MDQ6VXNlcjE2MTQ0MTU4","avatar_url":"https://avatars.githubusercontent.com/u/16144158?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethan-Arrowood","html_url":"https://github.com/Ethan-Arrowood","followers_url":"https://api.github.com/users/Ethan-Arrowood/followers","following_url":"https://api.github.com/users/Ethan-Arrowood/following{/other_user}","gists_url":"https://api.github.com/users/Ethan-Arrowood/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethan-Arrowood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethan-Arrowood/subscriptions","organizations_url":"https://api.github.com/users/Ethan-Arrowood/orgs","repos_url":"https://api.github.com/users/Ethan-Arrowood/repos","events_url":"https://api.github.com/users/Ethan-Arrowood/events{/privacy}","received_events_url":"https://api.github.com/users/Ethan-Arrowood/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-17T15:48:18Z","updated_at":"2024-05-02T12:03:34Z","closed_at":"2024-04-17T17:19:33Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64670","html_url":"https://github.com/vercel/next.js/pull/64670","diff_url":"https://github.com/vercel/next.js/pull/64670.diff","patch_url":"https://github.com/vercel/next.js/pull/64670.patch","merged_at":"2024-04-17T17:19:33Z"},"body":"This pr removes a console.log that is making testmode tests very noisy.\r\n\r\nThis relates to an upstream feature request: https://github.com/microsoft/playwright/issues/27059\n\nCloses NEXT-3139","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64670/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64669","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64669/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64669/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64669/events","html_url":"https://github.com/vercel/next.js/pull/64669","id":2248575199,"node_id":"PR_kwDOBC3Cis5s8DC3","number":64669,"title":"Fix reporting when performance.measure doesn't exist (Edge)","user":{"login":"dvoytenko","id":726049,"node_id":"MDQ6VXNlcjcyNjA0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/726049?v=4","gravatar_id":"","url":"https://api.github.com/users/dvoytenko","html_url":"https://github.com/dvoytenko","followers_url":"https://api.github.com/users/dvoytenko/followers","following_url":"https://api.github.com/users/dvoytenko/following{/other_user}","gists_url":"https://api.github.com/users/dvoytenko/gists{/gist_id}","starred_url":"https://api.github.com/users/dvoytenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dvoytenko/subscriptions","organizations_url":"https://api.github.com/users/dvoytenko/orgs","repos_url":"https://api.github.com/users/dvoytenko/repos","events_url":"https://api.github.com/users/dvoytenko/events{/privacy}","received_events_url":"https://api.github.com/users/dvoytenko/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T15:27:28Z","updated_at":"2024-05-03T12:02:17Z","closed_at":"2024-04-17T17:26:31Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64669","html_url":"https://github.com/vercel/next.js/pull/64669","diff_url":"https://github.com/vercel/next.js/pull/64669.diff","patch_url":"https://github.com/vercel/next.js/pull/64669.patch","merged_at":"2024-04-17T17:26:31Z"},"body":null,"reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64669/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64668","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64668/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64668/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64668/events","html_url":"https://github.com/vercel/next.js/issues/64668","id":2248573343,"node_id":"I_kwDOBC3Cis6GBoGf","number":64668,"title":"After adding the middleware, the webpage appears twice","user":{"login":"caixingyue","id":39073687,"node_id":"MDQ6VXNlcjM5MDczNjg3","avatar_url":"https://avatars.githubusercontent.com/u/39073687?v=4","gravatar_id":"","url":"https://api.github.com/users/caixingyue","html_url":"https://github.com/caixingyue","followers_url":"https://api.github.com/users/caixingyue/followers","following_url":"https://api.github.com/users/caixingyue/following{/other_user}","gists_url":"https://api.github.com/users/caixingyue/gists{/gist_id}","starred_url":"https://api.github.com/users/caixingyue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caixingyue/subscriptions","organizations_url":"https://api.github.com/users/caixingyue/orgs","repos_url":"https://api.github.com/users/caixingyue/repos","events_url":"https://api.github.com/users/caixingyue/events{/privacy}","received_events_url":"https://api.github.com/users/caixingyue/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T15:26:36Z","updated_at":"2024-05-02T12:02:50Z","closed_at":"2024-04-17T16:32:44Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/mui/material-ui/tree/master/examples/material-ui-nextjs-ts\n\n### To Reproduce\n\n1.download code:\r\ncurl https://codeload.github.com/mui/material-ui/tar.gz/master | tar -xz --strip=2  material-ui-master/examples/material-ui-nextjs-ts\r\n\r\n2.install code:\r\nnpm i\r\n\r\n3.create a middleware to src:\r\nimport { NextResponse } from 'next/server'\r\nimport type { NextRequest } from 'next/server'\r\nexport function middleware(request: NextRequest) {\r\n  return NextResponse.next()\r\n}\r\nexport const config = {\r\n  matcher: ['/((?!api|_next/static|_next/image|.*\\\\.png$).*)'],\r\n}\r\n\r\n4.open http://localhost:3000/about\r\n5.multiple accesses appear on the terminal\r\n![WX20240417-232403@2x](https://github.com/vercel/next.js/assets/39073687/4e25d350-4260-4dda-aadd-4063c014387b)\r\n\n\n### Current vs. Expected behavior\n\nI only ran the page once and got GET /about twice in the terminal \r\n\r\nGET /about 200 in 168ms\r\n GET /about 200 in 159ms\r\n GET /favicon.ico 200 in 7ms\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: x64\r\n  Version: Darwin Kernel Version 23.4.0: Fri Mar 15 00:11:05 PDT 2024; root:xnu-10063.101.17~1/RELEASE_X86_64\r\n  Available memory (MB): 16384\r\n  Available CPU cores: 12\r\nBinaries:\r\n  Node: 20.11.0\r\n  npm: 10.5.2\r\n  Yarn: 1.22.19\r\n  pnpm: N/A\r\nRelevant Packages:\r\n  next: 14.2.1 // Latest available version is detected (14.2.1).\r\n  eslint-config-next: 14.2.1\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nMiddleware\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64668/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64668/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64666","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64666/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64666/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64666/events","html_url":"https://github.com/vercel/next.js/pull/64666","id":2248446602,"node_id":"PR_kwDOBC3Cis5s7nLc","number":64666,"title":"chore: fix a wrong link for with-service-worker example","user":{"login":"xiaohanyu","id":1164623,"node_id":"MDQ6VXNlcjExNjQ2MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1164623?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohanyu","html_url":"https://github.com/xiaohanyu","followers_url":"https://api.github.com/users/xiaohanyu/followers","following_url":"https://api.github.com/users/xiaohanyu/following{/other_user}","gists_url":"https://api.github.com/users/xiaohanyu/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohanyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohanyu/subscriptions","organizations_url":"https://api.github.com/users/xiaohanyu/orgs","repos_url":"https://api.github.com/users/xiaohanyu/repos","events_url":"https://api.github.com/users/xiaohanyu/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohanyu/received_events","type":"User","site_admin":false},"labels":[{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-04-17T14:30:13Z","updated_at":"2024-05-02T12:04:36Z","closed_at":"2024-04-17T14:36:00Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64666","html_url":"https://github.com/vercel/next.js/pull/64666","diff_url":"https://github.com/vercel/next.js/pull/64666.diff","patch_url":"https://github.com/vercel/next.js/pull/64666.patch","merged_at":"2024-04-17T14:36:00Z"},"body":"<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n\r\nJust fixed a broken link for with-service-worker example READMD","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64666/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64663","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64663/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64663/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64663/events","html_url":"https://github.com/vercel/next.js/issues/64663","id":2248212730,"node_id":"I_kwDOBC3Cis6GAQD6","number":64663,"title":"Test 2","user":{"login":"balazsorban44","id":18369201,"node_id":"MDQ6VXNlcjE4MzY5MjAx","avatar_url":"https://avatars.githubusercontent.com/u/18369201?v=4","gravatar_id":"","url":"https://api.github.com/users/balazsorban44","html_url":"https://github.com/balazsorban44","followers_url":"https://api.github.com/users/balazsorban44/followers","following_url":"https://api.github.com/users/balazsorban44/following{/other_user}","gists_url":"https://api.github.com/users/balazsorban44/gists{/gist_id}","starred_url":"https://api.github.com/users/balazsorban44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/balazsorban44/subscriptions","organizations_url":"https://api.github.com/users/balazsorban44/orgs","repos_url":"https://api.github.com/users/balazsorban44/repos","events_url":"https://api.github.com/users/balazsorban44/events{/privacy}","received_events_url":"https://api.github.com/users/balazsorban44/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-17T12:47:12Z","updated_at":"2024-05-02T12:02:47Z","closed_at":"2024-04-17T16:51:14Z","author_association":"MEMBER","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/\n\n### To Reproduce\n\n...\n\n### Current vs. Expected behavior\n\n...\n\n### Provide environment information\n\n```bash\n...\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\ncreate-next-app, Image (next/image), Middleware\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\nTesting https://github.com/vercel/next.js/commit/4ccb99fc1f2ed63d9fdd2eeda60f76deb92b7985","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64663/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64662","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64662/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64662/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64662/events","html_url":"https://github.com/vercel/next.js/pull/64662","id":2248188461,"node_id":"PR_kwDOBC3Cis5s6u3i","number":64662,"title":"chore: update label","user":{"login":"balazsorban44","id":18369201,"node_id":"MDQ6VXNlcjE4MzY5MjAx","avatar_url":"https://avatars.githubusercontent.com/u/18369201?v=4","gravatar_id":"","url":"https://api.github.com/users/balazsorban44","html_url":"https://github.com/balazsorban44","followers_url":"https://api.github.com/users/balazsorban44/followers","following_url":"https://api.github.com/users/balazsorban44/following{/other_user}","gists_url":"https://api.github.com/users/balazsorban44/gists{/gist_id}","starred_url":"https://api.github.com/users/balazsorban44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/balazsorban44/subscriptions","organizations_url":"https://api.github.com/users/balazsorban44/orgs","repos_url":"https://api.github.com/users/balazsorban44/repos","events_url":"https://api.github.com/users/balazsorban44/events{/privacy}","received_events_url":"https://api.github.com/users/balazsorban44/received_events","type":"User","site_admin":false},"labels":[{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-04-17T12:35:04Z","updated_at":"2024-05-03T12:02:39Z","closed_at":"2024-04-17T12:46:09Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64662","html_url":"https://github.com/vercel/next.js/pull/64662","diff_url":"https://github.com/vercel/next.js/pull/64662.diff","patch_url":"https://github.com/vercel/next.js/pull/64662.patch","merged_at":"2024-04-17T12:46:09Z"},"body":"Follow-up on https://github.com/vercel/next.js/pull/63713\r\n\r\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n\n\nCloses NEXT-3137","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64662/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64661","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64661/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64661/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64661/events","html_url":"https://github.com/vercel/next.js/issues/64661","id":2248180564,"node_id":"I_kwDOBC3Cis6GAINU","number":64661,"title":"Test","user":{"login":"balazsorban44","id":18369201,"node_id":"MDQ6VXNlcjE4MzY5MjAx","avatar_url":"https://avatars.githubusercontent.com/u/18369201?v=4","gravatar_id":"","url":"https://api.github.com/users/balazsorban44","html_url":"https://github.com/balazsorban44","followers_url":"https://api.github.com/users/balazsorban44/followers","following_url":"https://api.github.com/users/balazsorban44/following{/other_user}","gists_url":"https://api.github.com/users/balazsorban44/gists{/gist_id}","starred_url":"https://api.github.com/users/balazsorban44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/balazsorban44/subscriptions","organizations_url":"https://api.github.com/users/balazsorban44/orgs","repos_url":"https://api.github.com/users/balazsorban44/repos","events_url":"https://api.github.com/users/balazsorban44/events{/privacy}","received_events_url":"https://api.github.com/users/balazsorban44/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-17T12:31:06Z","updated_at":"2024-05-02T12:02:56Z","closed_at":"2024-04-17T12:46:29Z","author_association":"MEMBER","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/\n\n### To Reproduce\n\n...\n\n### Current vs. Expected behavior\n\n...\n\n### Provide environment information\n\n```bash\n...\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\ncreate-next-app, Middleware\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\nTesting https://github.com/vercel/next.js/commit/6a9a39205936396166ec0d0d643409d1073abe82","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64661/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64657","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64657/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64657/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64657/events","html_url":"https://github.com/vercel/next.js/issues/64657","id":2248161264,"node_id":"I_kwDOBC3Cis6GADfw","number":64657,"title":"Turbopack: CommonJS require import of 'canvas' fails to resolve when using react-pdf library","user":{"login":"oliverjohns","id":63138155,"node_id":"MDQ6VXNlcjYzMTM4MTU1","avatar_url":"https://avatars.githubusercontent.com/u/63138155?v=4","gravatar_id":"","url":"https://api.github.com/users/oliverjohns","html_url":"https://github.com/oliverjohns","followers_url":"https://api.github.com/users/oliverjohns/followers","following_url":"https://api.github.com/users/oliverjohns/following{/other_user}","gists_url":"https://api.github.com/users/oliverjohns/gists{/gist_id}","starred_url":"https://api.github.com/users/oliverjohns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oliverjohns/subscriptions","organizations_url":"https://api.github.com/users/oliverjohns/orgs","repos_url":"https://api.github.com/users/oliverjohns/repos","events_url":"https://api.github.com/users/oliverjohns/events{/privacy}","received_events_url":"https://api.github.com/users/oliverjohns/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T12:21:08Z","updated_at":"2024-05-02T12:02:26Z","closed_at":"2024-04-17T21:16:16Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/oliverjohns/turbopack-import-problem-example\n\n### To Reproduce\n\nfollow the repo readme\r\n1. start application with npm run dev -- --turbo\r\n2. click the route \"to test page\"\r\n3. then watch the error occur\n\n### Current vs. Expected behavior\n\nCurrent behavior:\r\nWhen using react-pdf according to the code example provided and running `npm run dev -- --turbo`, the commonjs import  of canvas fails, giving us this input:\r\n\r\n```\r\n./node_modules/pdfjs-dist/build/pdf.js:6247:19\r\nModule not found: Can't resolve 'canvas'\r\n  6245 | class NodeCanvasFactory extends _base_factory.BaseCanvasFactory {\r\n  6246 |   _createCanvas(width, height) {\r\n> 6247 |     const Canvas = require(\"canvas\");\r\n       |                    ^^^^^^^^^^^^^^^^^\r\n  6248 |     return Canvas.createCanvas(width, height);\r\n  6249 |   }\r\n  6250 | }\r\n\r\nhttps://nextjs.org/docs/messages/module-not-found\r\n```\r\n\r\nExpected behavior\r\nFollowing the steps I expected turbopack to be able to handle this import of react-pdf/canvas since it works in Webpack without any issues.\n\n### Provide environment information\n\n```bash\nOperating system:\r\nMacOS ARM M3\r\n\r\nNode version: v20.9.0\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nApp Router, Turbopack (--turbo)\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\nMy previous issue was closed #64165 , so I opened a new one to highlight this problem. The issue is not solved in on 14.2.0-canary.63 , neither on 14.2.1 .\r\n\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64657/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64657/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64608","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64608/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64608/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64608/events","html_url":"https://github.com/vercel/next.js/issues/64608","id":2248002139,"node_id":"I_kwDOBC3Cis6F_cpb","number":64608,"title":"Mailgun emails not being triggered in production. (Unauthorized Error)","user":{"login":"srestraj","id":25652144,"node_id":"MDQ6VXNlcjI1NjUyMTQ0","avatar_url":"https://avatars.githubusercontent.com/u/25652144?v=4","gravatar_id":"","url":"https://api.github.com/users/srestraj","html_url":"https://github.com/srestraj","followers_url":"https://api.github.com/users/srestraj/followers","following_url":"https://api.github.com/users/srestraj/following{/other_user}","gists_url":"https://api.github.com/users/srestraj/gists{/gist_id}","starred_url":"https://api.github.com/users/srestraj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srestraj/subscriptions","organizations_url":"https://api.github.com/users/srestraj/orgs","repos_url":"https://api.github.com/users/srestraj/repos","events_url":"https://api.github.com/users/srestraj/events{/privacy}","received_events_url":"https://api.github.com/users/srestraj/received_events","type":"User","site_admin":false},"labels":[{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-17T10:57:28Z","updated_at":"2024-04-17T10:57:47Z","closed_at":"2024-04-17T10:57:45Z","author_association":"NONE","active_lock_reason":null,"body":"### Summary\r\n\r\nI have a Next.js 14 project where I've integrated the Mailgun API to send emails. The integration works perfectly fine when I'm running the project locally. However, after deploying to production on Vercel, I'm consistently encountering an \"Unauthorized\" error when attempting to send emails via the Mailgun API.\r\n\r\nI know that this \"Unauthorized\" error is being thrown by the Mailgun API, but we've already added Vercel's IP, i.e. 76.76.21.21 to our domain's whitelist on Mailgun, but still no luck.\r\n\r\nI've thoroughly checked and verified the API keys, environment variables and permissions and they're all fine. I've also included my code below for reference.\r\n\r\n```tsx\r\nimport { NextRequest, NextResponse } from \"next/server\";\r\nimport FormData from \"form-data\";\r\nimport Mailgun from \"mailgun.js\";\r\n\r\nconst { MAILGUN_EMAIL, MAILGUN_TO_EMAIL, MAILGUN_API, MAILGUN_DOMAIN } =\r\n  process.env;\r\n\r\nexport async function POST(request: NextRequest, res: NextResponse) {\r\n  const { name, email, ticketCount, attendingAs, exhibitorDetails } =\r\n    await request.json();\r\n\r\n  const mailgun = new Mailgun(FormData);\r\n\r\n  try {\r\n    const mg = mailgun.client({\r\n      username: \"api\",\r\n      key: MAILGUN_API as string,\r\n    });\r\n\r\n    const mailData = {\r\n      from: MAILGUN_EMAIL,\r\n      to: MAILGUN_TO_EMAIL,\r\n      subject: `${name} just signed up for the Expo`,\r\n      text: `${name} just signed up for ${ticketCount} tickets as ${attendingAs} for the expo with email: ${email}.`,\r\n      html: `\r\n      <body>\r\n        <div style=\"background: #f7f7f7; padding: 20px 0; margin:0\">\r\n           body content here\r\n        </div>\r\n      </body>`,\r\n    };\r\n\r\n    await new Promise((resolve, reject) => {\r\n      mg.messages\r\n        .create(MAILGUN_DOMAIN as string, mailData)\r\n        .then((message) => {\r\n          resolve(message);\r\n        })\r\n        .catch((error) => {\r\n          reject(error);\r\n          return NextResponse.json({ error: error }, { status: error.status });\r\n        });\r\n    });\r\n    return NextResponse.json(\r\n      {\r\n        message:\r\n          \"Thank you for your interest in attending the expo. We hope to see you there.\",\r\n      },\r\n      { status: 200 }\r\n    );\r\n  } catch (error: any) {\r\n    return NextResponse.json({ error: error }, { status: error.status });\r\n  }\r\n}\r\n```\r\nCould someone please assist me in troubleshooting this issue? Any insights or guidance would be greatly appreciated.\r\n\r\n\r\n### Additional information\r\n\r\n_No response_\r\n\r\n### Example\r\n\r\nhttps://www.mewingapp.co/mewing-expo\r\n\r\n_Originally posted by @srestraj in https://github.com/vercel/next.js/discussions/64607_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64608/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64605","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64605/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64605/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64605/events","html_url":"https://github.com/vercel/next.js/pull/64605","id":2247906366,"node_id":"PR_kwDOBC3Cis5s5xB9","number":64605,"title":"Docs: Review auth guide","user":{"login":"delbaoliveira","id":32464864,"node_id":"MDQ6VXNlcjMyNDY0ODY0","avatar_url":"https://avatars.githubusercontent.com/u/32464864?v=4","gravatar_id":"","url":"https://api.github.com/users/delbaoliveira","html_url":"https://github.com/delbaoliveira","followers_url":"https://api.github.com/users/delbaoliveira/followers","following_url":"https://api.github.com/users/delbaoliveira/following{/other_user}","gists_url":"https://api.github.com/users/delbaoliveira/gists{/gist_id}","starred_url":"https://api.github.com/users/delbaoliveira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delbaoliveira/subscriptions","organizations_url":"https://api.github.com/users/delbaoliveira/orgs","repos_url":"https://api.github.com/users/delbaoliveira/repos","events_url":"https://api.github.com/users/delbaoliveira/events{/privacy}","received_events_url":"https://api.github.com/users/delbaoliveira/received_events","type":"User","site_admin":false},"labels":[{"id":3644980154,"node_id":"LA_kwDOBC3Cis7ZQfu6","url":"https://api.github.com/repos/vercel/next.js/labels/Documentation","name":"Documentation","color":"C2E0C6","default":false,"description":"Related to Next.js' official documentation."},{"id":5599678234,"node_id":"LA_kwDOBC3Cis8AAAABTcRPGg","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20DevEx%20team","name":"created-by: Next.js DevEx team","color":"000000","default":false,"description":""},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-04-17T10:06:14Z","updated_at":"2024-05-02T12:03:14Z","closed_at":"2024-04-18T03:00:58Z","author_association":"CONTRIBUTOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64605","html_url":"https://github.com/vercel/next.js/pull/64605","diff_url":"https://github.com/vercel/next.js/pull/64605.diff","patch_url":"https://github.com/vercel/next.js/pull/64605.patch","merged_at":"2024-04-18T03:00:58Z"},"body":"Following up from: https://github.com/vercel/next.js/pull/63140","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64605/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64603","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64603/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64603/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64603/events","html_url":"https://github.com/vercel/next.js/issues/64603","id":2247870132,"node_id":"I_kwDOBC3Cis6F-8a0","number":64603,"title":"iOS Safari requires 2 clicks for Links to open when Prefetch is true. Using Next 14.2","user":{"login":"aligajani","id":1730778,"node_id":"MDQ6VXNlcjE3MzA3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1730778?v=4","gravatar_id":"","url":"https://api.github.com/users/aligajani","html_url":"https://github.com/aligajani","followers_url":"https://api.github.com/users/aligajani/followers","following_url":"https://api.github.com/users/aligajani/following{/other_user}","gists_url":"https://api.github.com/users/aligajani/gists{/gist_id}","starred_url":"https://api.github.com/users/aligajani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aligajani/subscriptions","organizations_url":"https://api.github.com/users/aligajani/orgs","repos_url":"https://api.github.com/users/aligajani/repos","events_url":"https://api.github.com/users/aligajani/events{/privacy}","received_events_url":"https://api.github.com/users/aligajani/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":3502592891,"node_id":"LA_kwDOBC3Cis7QxVN7","url":"https://api.github.com/repos/vercel/next.js/labels/Navigation","name":"Navigation","color":"1830A5","default":false,"description":"Related to Next.js linking (e.g., <Link>) and navigation."},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-17T09:50:34Z","updated_at":"2024-04-17T09:50:54Z","closed_at":"2024-04-17T09:50:52Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\nhttps://d2wqddyyisefg2.cloudfront.net/bd61f95b-45f1-40ee-afb8-a9f2af86ca02\n\n### To Reproduce\n\nIf you watch my video above, you may be able to get some insight into what is happening. I am sharing the code below.\r\n\r\nI think being on a specific route causes this issue. You'd see that not all prefetch={true} Links are broken. \r\n\r\n`import useStore from '@/src/stores/v2';\r\n\r\nimport { Menu, Transition } from '@headlessui/react';\r\nimport { EllipsisVerticalIcon } from '@heroicons/react/20/solid';\r\n\r\nimport Link from 'next/link';\r\nimport { Fragment } from 'react';\r\nimport { useSelectedLayoutSegments } from 'next/navigation';\r\n\r\nfunction classNames(...classes) {\r\n  return classes.filter(Boolean).join(' ')\r\n}\r\n\r\nexport default function StackedList({ href, item, drag }) {\r\n\r\n\r\n  const { setOpen, setItem, setType } = useStore();\r\n  const segments = useSelectedLayoutSegments();\r\n\r\n  const handleDelete = (item) => {\r\n    setItem(item);\r\n    setType('section');\r\n    setOpen(true);\r\n  }\r\n\r\n  return (\r\n    <li key={item.id} className=\"flex justify-between mb-4 gap-x-6 py-2 border border-slate-400 rounded-md\">\r\n      <div className=\"flex min-w-0 gap-x-4 items-center\">\r\n        {drag}\r\n        <div className=\"min-w-0 flex-auto\">\r\n          <p className=\"text-md font-semibold leading-6 text-gray-900\">\r\n            <Link prefetch={true} scroll={false} href={href} className=\"hover:underline truncate line-clamp-1\">\r\n              <span className=\"flex flex-row gap-2 items-center\">\r\n                {segments.includes(item.slug) && <span className=\"flex w-3 h-3 me-3 bg-indigo-500 rounded-full\"></span>}\r\n                {item.name}\r\n              </span>\r\n            </Link>\r\n          </p>\r\n          <p className=\"mt-1 flex text-xs leading-5 text-gray-500 truncate line-clamp-1\">\r\n            {item.description}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex shrink-0 items-center gap-x-6\">\r\n\r\n        <Menu as=\"div\" className=\"relative flex-none\">\r\n          <Menu.Button className=\"-m-2.5 block p-2.5 text-gray-500 hover:text-gray-900\">\r\n            <span className=\"sr-only\">Open options</span>\r\n            <EllipsisVerticalIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\r\n          </Menu.Button>\r\n          <Transition\r\n            as={Fragment}\r\n            enter=\"transition ease-out duration-100\"\r\n            enterFrom=\"transform opacity-0 scale-95\"\r\n            enterTo=\"transform opacity-100 scale-100\"\r\n            leave=\"transition ease-in duration-75\"\r\n            leaveFrom=\"transform opacity-100 scale-100\"\r\n            leaveTo=\"transform opacity-0 scale-95\"\r\n          >\r\n            <Menu.Items className=\"absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white py-2 shadow-lg ring-1 ring-gray-900/5 focus:outline-none\">\r\n              <Menu.Item>\r\n                {({ active }) => (\r\n                  <Link\r\n                    prefetch={true}\r\n                    scroll={false}\r\n                    href={`${href}/manage`}\r\n                    className={classNames(\r\n                      active ? 'bg-gray-50' : '',\r\n                      'block px-3 py-1 text-sm leading-6 text-gray-900'\r\n                    )}\r\n                  >\r\n                    Edit\r\n                  </Link>\r\n                )}\r\n              </Menu.Item>\r\n              <Menu.Item>\r\n                {({ active }) => (\r\n                  <Link\r\n                    prefetch={true}\r\n                    scroll={false}\r\n                    href=\"\"\r\n                    onClick={() => handleDelete(item)}\r\n                    className={classNames(\r\n                      active ? 'bg-gray-50' : '',\r\n                      'block px-3 py-1 text-sm leading-6 text-gray-900'\r\n                    )}\r\n                  >\r\n                    Delete\r\n                  </Link>\r\n                )}\r\n              </Menu.Item>\r\n            </Menu.Items>\r\n          </Transition>\r\n        </Menu>\r\n      </div>\r\n\r\n    </li>\r\n  )\r\n}`\n\n### Current vs. Expected behavior\n\nWell, I don't want user to click twice to open up something. Alternative is prefetch={false} but that's slow.\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: arm64\r\n  Version: Darwin Kernel Version 21.6.0: Mon Aug 22 20:19:52 PDT 2022; root:xnu-8020.140.49~2/RELEASE_ARM64_T6000\r\n  Available memory (MB): 16384\r\n  Available CPU cores: 8\r\nBinaries:\r\n  Node: 21.4.0\r\n  npm: 10.2.4\r\n  Yarn: N/A\r\n  pnpm: N/A\r\nRelevant Packages:\r\n  next: 14.2.1 // Latest available version is detected (14.2.1).\r\n  eslint-config-next: 14.1.0\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.3.3\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nApp Router, Routing (next/router, next/navigation, next/link)\n\n### Which stage(s) are affected? (Select all that apply)\n\nVercel (Deployed)\n\n### Additional context\n\nI am using 14.2 version that I just upgraded to yesterday.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64603/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64601","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64601/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64601/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64601/events","html_url":"https://github.com/vercel/next.js/pull/64601","id":2247731139,"node_id":"PR_kwDOBC3Cis5s5KyD","number":64601,"title":"Revert \"fix(next): global not-found not working on multi-root layouts\"","user":{"login":"shuding","id":3676859,"node_id":"MDQ6VXNlcjM2NzY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/3676859?v=4","gravatar_id":"","url":"https://api.github.com/users/shuding","html_url":"https://github.com/shuding","followers_url":"https://api.github.com/users/shuding/followers","following_url":"https://api.github.com/users/shuding/following{/other_user}","gists_url":"https://api.github.com/users/shuding/gists{/gist_id}","starred_url":"https://api.github.com/users/shuding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuding/subscriptions","organizations_url":"https://api.github.com/users/shuding/orgs","repos_url":"https://api.github.com/users/shuding/repos","events_url":"https://api.github.com/users/shuding/events{/privacy}","received_events_url":"https://api.github.com/users/shuding/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T08:45:44Z","updated_at":"2024-05-01T12:02:25Z","closed_at":"2024-04-17T09:19:18Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64601","html_url":"https://github.com/vercel/next.js/pull/64601","diff_url":"https://github.com/vercel/next.js/pull/64601.diff","patch_url":"https://github.com/vercel/next.js/pull/64601.patch","merged_at":"2024-04-17T09:19:18Z"},"body":"Reverts #63053.\n\nCloses NEXT-3135","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64601/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64599","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64599/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64599/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64599/events","html_url":"https://github.com/vercel/next.js/issues/64599","id":2247626382,"node_id":"I_kwDOBC3Cis6F-A6O","number":64599,"title":"Pull the project to run the 404 page","user":{"login":"Aristodemusa","id":133845556,"node_id":"U_kgDOB_pSNA","avatar_url":"https://avatars.githubusercontent.com/u/133845556?v=4","gravatar_id":"","url":"https://api.github.com/users/Aristodemusa","html_url":"https://github.com/Aristodemusa","followers_url":"https://api.github.com/users/Aristodemusa/followers","following_url":"https://api.github.com/users/Aristodemusa/following{/other_user}","gists_url":"https://api.github.com/users/Aristodemusa/gists{/gist_id}","starred_url":"https://api.github.com/users/Aristodemusa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aristodemusa/subscriptions","organizations_url":"https://api.github.com/users/Aristodemusa/orgs","repos_url":"https://api.github.com/users/Aristodemusa/repos","events_url":"https://api.github.com/users/Aristodemusa/events{/privacy}","received_events_url":"https://api.github.com/users/Aristodemusa/received_events","type":"User","site_admin":false},"labels":[{"id":2108224491,"node_id":"MDU6TGFiZWwyMTA4MjI0NDkx","url":"https://api.github.com/repos/vercel/next.js/labels/create-next-app","name":"create-next-app","color":"9effbb","default":false,"description":"Related to our CLI tool for quickly starting a new Next.js application."},{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-17T07:50:34Z","updated_at":"2024-04-17T07:50:55Z","closed_at":"2024-04-17T07:50:51Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\nhttps://github.com/user/my-minimal-nextjs-issue-reproduction\n\n### To Reproduce\n\nCreate project：npx create-next-app@latest\r\nRun program： npm run dev\r\n![3333](https://github.com/vercel/next.js/assets/133845556/a02966d2-7b57-40fb-a152-b13d6d99ed4e)\r\n![4444](https://github.com/vercel/next.js/assets/133845556/dae882b0-dcb2-489f-803d-7df5931f23bb)\r\n\n\n### Current vs. Expected behavior\n\nInstead of showing the default page, the runtime program is redirected to the 404 page\n\n### Provide environment information\n\n```bash\nOperating system:\r\nWindows 11\r\nBinaries :\r\nNode: 20.10.0\r\nnpm: 10.2.3\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nCLI (create-next-app)\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64599/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64597","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64597/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64597/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64597/events","html_url":"https://github.com/vercel/next.js/issues/64597","id":2247564783,"node_id":"I_kwDOBC3Cis6F9x3v","number":64597,"title":"Replacing favicon.ico not working for NextJS new version","user":{"login":"linghuccc","id":59200993,"node_id":"MDQ6VXNlcjU5MjAwOTkz","avatar_url":"https://avatars.githubusercontent.com/u/59200993?v=4","gravatar_id":"","url":"https://api.github.com/users/linghuccc","html_url":"https://github.com/linghuccc","followers_url":"https://api.github.com/users/linghuccc/followers","following_url":"https://api.github.com/users/linghuccc/following{/other_user}","gists_url":"https://api.github.com/users/linghuccc/gists{/gist_id}","starred_url":"https://api.github.com/users/linghuccc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linghuccc/subscriptions","organizations_url":"https://api.github.com/users/linghuccc/orgs","repos_url":"https://api.github.com/users/linghuccc/repos","events_url":"https://api.github.com/users/linghuccc/events{/privacy}","received_events_url":"https://api.github.com/users/linghuccc/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-04-17T07:18:30Z","updated_at":"2024-05-04T12:01:24Z","closed_at":"2024-04-17T18:50:53Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\r\n\r\nhttps://codesandbox.io/p/github/linghuccc/nextJs/main\r\n\r\n### To Reproduce\r\n\r\nStep 1: Install project using `npx create-next-app@latest`\r\n\r\nStep 2: Replace file `favicon.ico` under `src/app/`\r\n\r\n### Current vs. Expected behavior\r\n\r\nI used to replace favicon.ico file to change the web icon for the page. But recently it does not seem to be working.\r\n\r\n### Provide environment information\r\n\r\n```bash\r\nOperating System:\r\n\tPlatform: Ubuntu\r\n\tVersion: Ubuntu 22.04.2 LTS\r\n\r\nBinaries:\r\n\tNode: v18.18.2\r\n\tnpm: 10.5.0\r\n\r\nRelevant Packages:\r\n\tnext: 14.2.1\r\n\treact: 18\r\n\treact-dom: 18\r\n\ttypescript: 5\r\n```\r\n\r\n\r\n### Which area(s) are affected? (Select all that apply)\r\n\r\nNot sure\r\n\r\n### Which stage(s) are affected? (Select all that apply)\r\n\r\nnext dev (local)\r\n\r\n### Additional context\r\n\r\nOne thing I can not explain is that the old projects used to work now also failed to work. I really do not know how to deal this situation.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64597/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64596","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64596/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64596/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64596/events","html_url":"https://github.com/vercel/next.js/pull/64596","id":2247542563,"node_id":"PR_kwDOBC3Cis5s4h4H","number":64596,"title":"Update Turbopack development test manifest","user":{"login":"vercel-release-bot","id":88769842,"node_id":"MDQ6VXNlcjg4NzY5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/88769842?v=4","gravatar_id":"","url":"https://api.github.com/users/vercel-release-bot","html_url":"https://github.com/vercel-release-bot","followers_url":"https://api.github.com/users/vercel-release-bot/followers","following_url":"https://api.github.com/users/vercel-release-bot/following{/other_user}","gists_url":"https://api.github.com/users/vercel-release-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/vercel-release-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vercel-release-bot/subscriptions","organizations_url":"https://api.github.com/users/vercel-release-bot/orgs","repos_url":"https://api.github.com/users/vercel-release-bot/repos","events_url":"https://api.github.com/users/vercel-release-bot/events{/privacy}","received_events_url":"https://api.github.com/users/vercel-release-bot/received_events","type":"User","site_admin":false},"labels":[{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T07:05:06Z","updated_at":"2024-05-02T12:03:10Z","closed_at":"2024-04-18T07:04:57Z","author_association":"COLLABORATOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64596","html_url":"https://github.com/vercel/next.js/pull/64596","diff_url":"https://github.com/vercel/next.js/pull/64596.diff","patch_url":"https://github.com/vercel/next.js/pull/64596.patch","merged_at":null},"body":"This auto-generated PR updates the development integration test manifest used when testing Turbopack.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64596/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64595","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64595/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64595/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64595/events","html_url":"https://github.com/vercel/next.js/pull/64595","id":2247542562,"node_id":"PR_kwDOBC3Cis5s4h4G","number":64595,"title":"Update Turbopack production test manifest","user":{"login":"vercel-release-bot","id":88769842,"node_id":"MDQ6VXNlcjg4NzY5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/88769842?v=4","gravatar_id":"","url":"https://api.github.com/users/vercel-release-bot","html_url":"https://github.com/vercel-release-bot","followers_url":"https://api.github.com/users/vercel-release-bot/followers","following_url":"https://api.github.com/users/vercel-release-bot/following{/other_user}","gists_url":"https://api.github.com/users/vercel-release-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/vercel-release-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vercel-release-bot/subscriptions","organizations_url":"https://api.github.com/users/vercel-release-bot/orgs","repos_url":"https://api.github.com/users/vercel-release-bot/repos","events_url":"https://api.github.com/users/vercel-release-bot/events{/privacy}","received_events_url":"https://api.github.com/users/vercel-release-bot/received_events","type":"User","site_admin":false},"labels":[{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T07:05:06Z","updated_at":"2024-05-03T12:02:01Z","closed_at":"2024-04-19T07:04:55Z","author_association":"COLLABORATOR","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64595","html_url":"https://github.com/vercel/next.js/pull/64595","diff_url":"https://github.com/vercel/next.js/pull/64595.diff","patch_url":"https://github.com/vercel/next.js/pull/64595.patch","merged_at":null},"body":"This auto-generated PR updates the production integration test manifest used when testing Turbopack.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64595/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64593","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64593/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64593/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64593/events","html_url":"https://github.com/vercel/next.js/pull/64593","id":2247292574,"node_id":"PR_kwDOBC3Cis5s3snw","number":64593,"title":"docs: clarify runtime","user":{"login":"leerob","id":9113740,"node_id":"MDQ6VXNlcjkxMTM3NDA=","avatar_url":"https://avatars.githubusercontent.com/u/9113740?v=4","gravatar_id":"","url":"https://api.github.com/users/leerob","html_url":"https://github.com/leerob","followers_url":"https://api.github.com/users/leerob/followers","following_url":"https://api.github.com/users/leerob/following{/other_user}","gists_url":"https://api.github.com/users/leerob/gists{/gist_id}","starred_url":"https://api.github.com/users/leerob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerob/subscriptions","organizations_url":"https://api.github.com/users/leerob/orgs","repos_url":"https://api.github.com/users/leerob/repos","events_url":"https://api.github.com/users/leerob/events{/privacy}","received_events_url":"https://api.github.com/users/leerob/received_events","type":"User","site_admin":false},"labels":[{"id":5599678234,"node_id":"LA_kwDOBC3Cis8AAAABTcRPGg","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20DevEx%20team","name":"created-by: Next.js DevEx team","color":"000000","default":false,"description":""},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-17T03:36:20Z","updated_at":"2024-05-07T00:04:21Z","closed_at":"2024-04-17T03:52:53Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64593","html_url":"https://github.com/vercel/next.js/pull/64593","diff_url":"https://github.com/vercel/next.js/pull/64593.diff","patch_url":"https://github.com/vercel/next.js/pull/64593.patch","merged_at":"2024-04-17T03:52:53Z"},"body":"Some of this stuff was really outdated, and duplicate content in a few places. Some of the infra related bits in the runtime section don't belong here, as it's entirely dependent on where you deploy.","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64593/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64592","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64592/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64592/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64592/events","html_url":"https://github.com/vercel/next.js/pull/64592","id":2247167917,"node_id":"PR_kwDOBC3Cis5s3Q2x","number":64592,"title":"add pathname normalizer for actions","user":{"login":"ztanner","id":1939140,"node_id":"MDQ6VXNlcjE5MzkxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1939140?v=4","gravatar_id":"","url":"https://api.github.com/users/ztanner","html_url":"https://github.com/ztanner","followers_url":"https://api.github.com/users/ztanner/followers","following_url":"https://api.github.com/users/ztanner/following{/other_user}","gists_url":"https://api.github.com/users/ztanner/gists{/gist_id}","starred_url":"https://api.github.com/users/ztanner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ztanner/subscriptions","organizations_url":"https://api.github.com/users/ztanner/orgs","repos_url":"https://api.github.com/users/ztanner/repos","events_url":"https://api.github.com/users/ztanner/events{/privacy}","received_events_url":"https://api.github.com/users/ztanner/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-17T02:02:05Z","updated_at":"2024-05-02T12:03:36Z","closed_at":"2024-04-17T17:05:09Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64592","html_url":"https://github.com/vercel/next.js/pull/64592","diff_url":"https://github.com/vercel/next.js/pull/64592.diff","patch_url":"https://github.com/vercel/next.js/pull/64592.patch","merged_at":"2024-04-17T17:05:09Z"},"body":"This adds a normalizer to handle `.action` invokes (when in minimal mode). This PR by itself does not do anything of note, but will be hooked up in a future PR in the [Next.js builder](https://github.com/vercel/vercel/tree/main/packages/next).\r\n\r\n<!-- Thanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible we request that you follow the checklist sections below.\r\nChoose the right checklist for the change(s) that you're making:\r\n\r\n## For Contributors\r\n\r\n### Improving Documentation\r\n\r\n- Run `pnpm prettier-fix` to fix formatting issues before opening the PR.\r\n- Read the Docs Contribution Guide to ensure your contribution follows the docs guidelines: https://nextjs.org/docs/community/contribution-guide\r\n\r\n### Adding or Updating Examples\r\n\r\n- The \"examples guidelines\" are followed from our contributing doc https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md\r\n- Make sure the linting passes by running `pnpm build && pnpm lint`. See https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md\r\n\r\n### Fixing a bug\r\n\r\n- Related issues linked using `fixes #number`\r\n- Tests added. See: https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n### Adding a feature\r\n\r\n- Implements an existing feature request or RFC. Make sure the feature request has been accepted for implementation before opening a PR. (A discussion must be opened, see https://github.com/vercel/next.js/discussions/new?category=ideas)\r\n- Related issues/discussions are linked using `fixes #number`\r\n- e2e tests added (https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)\r\n- Documentation added\r\n- Telemetry added. In case of a feature if it's used or not.\r\n- Errors have a helpful link attached, see https://github.com/vercel/next.js/blob/canary/contributing.md\r\n\r\n\r\n## For Maintainers\r\n\r\n- Minimal description (aim for explaining to someone not on the team to understand the PR)\r\n- When linking to a Slack thread, you might want to share details of the conclusion\r\n- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues\r\n- Add review comments if necessary to explain to the reviewer the logic behind a change\r\n\r\n### What?\r\n\r\n### Why?\r\n\r\n### How?\r\n\r\nCloses NEXT-\r\nFixes #\r\n\r\n-->\r\n\r\n\r\nCloses NEXT-3131","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64592/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64590","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64590/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64590/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64590/events","html_url":"https://github.com/vercel/next.js/issues/64590","id":2247084103,"node_id":"I_kwDOBC3Cis6F78hH","number":64590,"title":"Was this issue ever fixed? I can not seem to find the fix ","user":{"login":"farmhutsoftwareteam","id":108745208,"node_id":"U_kgDOBntR-A","avatar_url":"https://avatars.githubusercontent.com/u/108745208?v=4","gravatar_id":"","url":"https://api.github.com/users/farmhutsoftwareteam","html_url":"https://github.com/farmhutsoftwareteam","followers_url":"https://api.github.com/users/farmhutsoftwareteam/followers","following_url":"https://api.github.com/users/farmhutsoftwareteam/following{/other_user}","gists_url":"https://api.github.com/users/farmhutsoftwareteam/gists{/gist_id}","starred_url":"https://api.github.com/users/farmhutsoftwareteam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/farmhutsoftwareteam/subscriptions","organizations_url":"https://api.github.com/users/farmhutsoftwareteam/orgs","repos_url":"https://api.github.com/users/farmhutsoftwareteam/repos","events_url":"https://api.github.com/users/farmhutsoftwareteam/events{/privacy}","received_events_url":"https://api.github.com/users/farmhutsoftwareteam/received_events","type":"User","site_admin":false},"labels":[{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-17T00:31:50Z","updated_at":"2024-04-17T00:32:12Z","closed_at":"2024-04-17T00:32:09Z","author_association":"NONE","active_lock_reason":null,"body":"              This closed issue has been automatically locked because it had no new activity for 2 weeks. If you are running into a similar issue, please create a new issue with the steps to reproduce. Thank you.\r\n\r\n_Originally posted by @github-actions[bot] in https://github.com/vercel/next.js/issues/53968#issuecomment-1793255689_\r\n            ","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64590/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64589","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64589/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64589/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64589/events","html_url":"https://github.com/vercel/next.js/pull/64589","id":2247047557,"node_id":"PR_kwDOBC3Cis5s228Q","number":64589,"title":"fix incorrect refresh request when basePath is set","user":{"login":"ztanner","id":1939140,"node_id":"MDQ6VXNlcjE5MzkxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1939140?v=4","gravatar_id":"","url":"https://api.github.com/users/ztanner","html_url":"https://github.com/ztanner","followers_url":"https://api.github.com/users/ztanner/followers","following_url":"https://api.github.com/users/ztanner/following{/other_user}","gists_url":"https://api.github.com/users/ztanner/gists{/gist_id}","starred_url":"https://api.github.com/users/ztanner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ztanner/subscriptions","organizations_url":"https://api.github.com/users/ztanner/orgs","repos_url":"https://api.github.com/users/ztanner/repos","events_url":"https://api.github.com/users/ztanner/events{/privacy}","received_events_url":"https://api.github.com/users/ztanner/received_events","type":"User","site_admin":false},"labels":[{"id":1965625097,"node_id":"MDU6TGFiZWwxOTY1NjI1MDk3","url":"https://api.github.com/repos/vercel/next.js/labels/type:%20next","name":"type: next","color":"f6aff7","default":false,"description":""},{"id":3129153557,"node_id":"MDU6TGFiZWwzMTI5MTUzNTU3","url":"https://api.github.com/repos/vercel/next.js/labels/created-by:%20Next.js%20team","name":"created-by: Next.js team","color":"000000","default":false,"description":"PRs by the Next.js team"},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-16T23:50:19Z","updated_at":"2024-05-01T12:02:33Z","closed_at":"2024-04-17T01:01:46Z","author_association":"MEMBER","active_lock_reason":"resolved","draft":false,"pull_request":{"url":"https://api.github.com/repos/vercel/next.js/pulls/64589","html_url":"https://github.com/vercel/next.js/pull/64589","diff_url":"https://github.com/vercel/next.js/pull/64589.diff","patch_url":"https://github.com/vercel/next.js/pull/64589.patch","merged_at":"2024-04-17T01:01:46Z"},"body":"`initialCanonicalUrl` differs from the `canonicalUrl` that gets set on the client, such as when there's a basePath set. \r\n\r\nThis hoists the `canonicalUrl` construction up so we can re-use it when adding refetch markers to the tree.\r\n\r\nThis also renames `pathname` -> `path` since it also includes search params. I added a test to confirm no extra erroneous fetches happened in both cases. \r\n\r\nFixes #64584\r\n\r\n\r\nCloses NEXT-3130","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64589/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/vercel/next.js/issues/64588","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64588/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64588/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64588/events","html_url":"https://github.com/vercel/next.js/issues/64588","id":2246995702,"node_id":"I_kwDOBC3Cis6F7m72","number":64588,"title":"Unable to build nextjs 14 app router on linux server machine but able to build on my local machine","user":{"login":"vfxproForex","id":157675525,"node_id":"U_kgDOCWXwBQ","avatar_url":"https://avatars.githubusercontent.com/u/157675525?v=4","gravatar_id":"","url":"https://api.github.com/users/vfxproForex","html_url":"https://github.com/vfxproForex","followers_url":"https://api.github.com/users/vfxproForex/followers","following_url":"https://api.github.com/users/vfxproForex/following{/other_user}","gists_url":"https://api.github.com/users/vfxproForex/gists{/gist_id}","starred_url":"https://api.github.com/users/vfxproForex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vfxproForex/subscriptions","organizations_url":"https://api.github.com/users/vfxproForex/orgs","repos_url":"https://api.github.com/users/vfxproForex/repos","events_url":"https://api.github.com/users/vfxproForex/events{/privacy}","received_events_url":"https://api.github.com/users/vfxproForex/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":3499448196,"node_id":"LA_kwDOBC3Cis7QlVeE","url":"https://api.github.com/repos/vercel/next.js/labels/Image%20(next/image)","name":"Image (next/image)","color":"45ADE8","default":false,"description":"Related to Next.js Image Optimization."},{"id":5907879217,"node_id":"LA_kwDOBC3Cis8AAAABYCMVMQ","url":"https://api.github.com/repos/vercel/next.js/labels/invalid%20link","name":"invalid link","color":"444444","default":false,"description":"The issue was auto-closed due to a missing/invalid reproduction link. A new issue should be opened."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-16T22:47:37Z","updated_at":"2024-04-16T22:47:58Z","closed_at":"2024-04-16T22:47:55Z","author_association":"NONE","active_lock_reason":null,"body":"### Link to the code that reproduces this issue\n\nhttps://github.com/vfxproForex/lafinaleftx\n\n### To Reproduce\n\nOn server machine:\r\n1. When i run `npm run build` this is what the expected output to be:\r\n```bash\r\n> next build\r\n\r\n  ▲ Next.js 14.2.1\r\n\r\n   Creating an optimized production build ...\r\n ✓ Compiled successfully\r\n   Linting and checking validity of types  ... ⨯ ESLint: Failed to load config \"next/core-web-vitals\" to extend from. Referenced from: /Users/tony/workspace/freelance/kurisani/pinnaclefx/.eslintrc.json\r\n ✓ Linting and checking validity of types\r\n ✓ Collecting page data\r\n ✓ Generating static pages (18/18)\r\n ✓ Collecting build traces\r\n ✓ Finalizing page optimization\r\n\r\nRoute (app)                              Size     First Load JS\r\n┌ ○ /                                    2.16 kB         101 kB\r\n├ ○ /_not-found                          871 B          87.8 kB\r\n├ ○ /account                             1.88 kB         106 kB\r\n├ ○ /account/accountDetails              2.07 kB         106 kB\r\n├ ○ /account/accountDetails/userDetails  2.38 kB         104 kB\r\n├ ○ /account/deposits                    8.93 kB         106 kB\r\n├ ○ /account/deposits/mastercard         3.02 kB        93.2 kB\r\n├ ○ /account/deposits/successful         157 B          87.1 kB\r\n├ ○ /account/deposits/test               599 B          87.6 kB\r\n├ ○ /account/deposits/visa               2.24 kB        92.4 kB\r\n├ ○ /account/withdraw                    2.53 kB         108 kB\r\n├ ○ /checkEmail                          397 B          87.4 kB\r\n├ ○ /passwordReset                       156 B          87.1 kB\r\n├ ƒ /passwordReset/newpassword/[slug]    157 B          87.1 kB\r\n├ ○ /register                            2.02 kB        98.8 kB\r\n├ ƒ /register/confirmAccount/[slug]      890 B          92.6 kB\r\n└ ○ /signin                              1.1 kB         99.6 kB\r\n+ First Load JS shared by all            87 kB\r\n  ├ chunks/23-f78ae0db7f08676a.js        31.3 kB\r\n  ├ chunks/fd9d1056-eac071501acc4e50.js  53.6 kB\r\n  └ other shared chunks (total)          1.99 kB\r\n```\n\n### Current vs. Expected behavior\n\nHowever I get the following instead:\r\n```bash\r\n> lafinaleftx@0.1.0 build\r\n> next build\r\n\r\n  ▲ Next.js 14.2.1\r\n  - Environments: .env\r\n\r\n   Creating an optimized production build ...\r\n ⚠ For production Image Optimization with Next.js, the optional 'sharp' package is strongly recommended. Run 'npm i sharp', and Next.js will use it automatically for Image Optimization.\r\nRead more: https://nextjs.org/docs/messages/sharp-missing-in-production\r\nroot@server:~/workspace/pinnacleftx/frontend# lsb_release -a\r\nNo LSB modules are available.\r\n```\r\n\r\nI've also tried `npm run build --verbose` but not getting any useful information:\r\n```bash\r\n> lafinaleftx@0.1.0 build\r\n> next build\r\n\r\n  ▲ Next.js 14.2.1\r\n  - Environments: .env\r\n\r\n   Creating an optimized production build ...\r\n ⚠ For production Image Optimization with Next.js, the optional 'sharp' package is strongly recommended. Run 'npm i sharp', and Next.js will use it automatically for Image Optimization.\r\nRead more: https://nextjs.org/docs/messages/sharp-missing-in-production\r\nroot@server:~/workspace/pinnacleftx/frontend# rm -rf .next/\r\nroot@server:~/workspace/pinnacleftx/frontend# npm run build --verbose\r\nnpm verb cli /root/.nvm/versions/node/v20.12.2/bin/node /root/.nvm/versions/node/v20.12.2/bin/npm\r\nnpm info using npm@10.5.0\r\nnpm info using node@v20.12.2\r\nnpm verb title npm run build\r\nnpm verb argv \"run\" \"build\" \"--loglevel\" \"verbose\"\r\nnpm verb logfile logs-max:10 dir:/root/.npm/_logs/2024-04-16T22_19_47_733Z-\r\nnpm verb logfile /root/.npm/_logs/2024-04-16T22_19_47_733Z-debug-0.log\r\n\r\n> lafinaleftx@0.1.0 build\r\n> next build\r\n\r\n  ▲ Next.js 14.2.1\r\n  - Environments: .env\r\n\r\n   Creating an optimized production build ...\r\n ⚠ For production Image Optimization with Next.js, the optional 'sharp' package is strongly recommended. Run 'npm i sharp', and Next.js will use it automatically for Image Optimization.\r\nRead more: https://nextjs.org/docs/messages/sharp-missing-in-production\r\nnpm verb exit 0\r\nnpm info ok\r\n```\r\n\r\nMy `package.json` is as follows:\r\n```json\r\n{\r\n  \"name\": \"lafinaleftx\",\r\n  \"version\": \"0.1.0\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"dev\": \"next dev\",\r\n    \"build\": \"next build\",\r\n    \"start\": \"next start\",\r\n    \"lint\": \"next lint\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@react-icons/all-files\": \"^4.1.0\",\r\n    \"@reduxjs/toolkit\": \"^2.2.3\",\r\n    \"js-cookie\": \"^3.0.5\",\r\n    \"next\": \"14.2.1\",\r\n    \"react\": \"^18\",\r\n    \"react-dom\": \"^18\",\r\n    \"react-hot-toast\": \"^2.4.1\",\r\n    \"react-icons\": \"^5.1.0\",\r\n    \"react-redux\": \"^9.1.1\",\r\n    \"react-toastify\": \"^10.0.5\",\r\n    \"redux\": \"^5.0.1\",\r\n    \"redux-thunk\": \"^3.1.0\",\r\n    \"sharp\": \"^0.33.3\",\r\n    \"uuid\": \"^9.0.1\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/js-cookie\": \"^3.0.6\",\r\n    \"@types/node\": \"^20\",\r\n    \"@types/react\": \"^18\",\r\n    \"@types/react-dom\": \"^18\",\r\n    \"@types/uuid\": \"^9.0.8\",\r\n    \"eslint\": \"^8\",\r\n    \"eslint-config-next\": \"14.2.1\",\r\n    \"postcss\": \"^8\",\r\n    \"tailwindcss\": \"^3.4.1\",\r\n    \"typescript\": \"^5\"\r\n  }\r\n}\r\n```\r\n\r\nAnd I've also tried to delete `node_module, .next & package-lock.json` files. \r\n\r\nI've also tried to increase my ram size from 1gig to 2gig and still getting the same results on my server machine. \r\nI'm using digital ocean by the way. \r\n\r\n\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: x64\r\n  Version: Darwin Kernel Version 19.6.0: Tue Jun 21 21:18:39 PDT 2022; root:xnu-6153.141.66~1/RELEASE_X86_64\r\n  Available memory (MB): 4096\r\n  Available CPU cores: 4\r\nBinaries:\r\n  Node: 20.12.2\r\n  npm: 10.5.0\r\n  Yarn: 1.22.19\r\n  pnpm: 8.15.4\r\nRelevant Packages:\r\n  next: 14.2.1 // Latest available version is detected (14.2.1).\r\n  eslint-config-next: 14.2.1\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nNot sure, Image optimization (next/image, next/legacy/image), Package manager (npm, pnpm, Yarn)\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local), next build (local), next start (local), Other (Deployed)\n\n### Additional context\n\n![Uploading Screenshot 2024-04-17 at 00.10.47.png…]()\r\n","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64588/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/vercel/next.js/issues/64587","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/64587/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/64587/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/64587/events","html_url":"https://github.com/vercel/next.js/issues/64587","id":2246981418,"node_id":"I_kwDOBC3Cis6F7jcq","number":64587,"title":"[@next/mdx] javascript from MDX output is being HTML escaped","user":{"login":"AlexanderHott","id":66271487,"node_id":"MDQ6VXNlcjY2MjcxNDg3","avatar_url":"https://avatars.githubusercontent.com/u/66271487?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderHott","html_url":"https://github.com/AlexanderHott","followers_url":"https://api.github.com/users/AlexanderHott/followers","following_url":"https://api.github.com/users/AlexanderHott/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderHott/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderHott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderHott/subscriptions","organizations_url":"https://api.github.com/users/AlexanderHott/orgs","repos_url":"https://api.github.com/users/AlexanderHott/repos","events_url":"https://api.github.com/users/AlexanderHott/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderHott/received_events","type":"User","site_admin":false},"labels":[{"id":2471906168,"node_id":"MDU6TGFiZWwyNDcxOTA2MTY4","url":"https://api.github.com/repos/vercel/next.js/labels/bug","name":"bug","color":"fddf99","default":true,"description":"Issue was opened via the bug report template."},{"id":5099496705,"node_id":"LA_kwDOBC3Cis8AAAABL_QlAQ","url":"https://api.github.com/repos/vercel/next.js/labels/Markdown%20(MDX)","name":"Markdown (MDX)","color":"4E2E9E","default":false,"description":"Related to Markdown with Next.js."},{"id":5721224978,"node_id":"LA_kwDOBC3Cis8AAAABVQL3Eg","url":"https://api.github.com/repos/vercel/next.js/labels/locked","name":"locked","color":"ededed","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-16T22:31:43Z","updated_at":"2024-05-01T12:02:06Z","closed_at":"2024-04-16T23:55:51Z","author_association":"NONE","active_lock_reason":"resolved","body":"### Link to the code that reproduces this issue\n\nhttps://github.com/AlexanderHott/next-mdx-test\n\n### To Reproduce\n\n1. `pnpm install`\r\n2. `pnpm dev`\r\n3. Go to http://localhost:3000/test and get a runtime error\n\n### Current vs. Expected behavior\n\nThe javascript generated by MDX plugins should not be html escaped as that causes the javascript to not be valid javascript. \n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: linux\r\n  Arch: x64\r\n  Version: #28-Ubuntu SMP PREEMPT_DYNAMIC Thu Mar  7 18:21:00 UTC 2024\r\n  Available memory (MB): 15163\r\n  Available CPU cores: 16\r\nBinaries:\r\n  Node: 21.4.0\r\n  npm: 10.2.5\r\n  Yarn: 1.22.21\r\n  pnpm: 8.12.1\r\nRelevant Packages:\r\n  next: 14.2.1 // Latest available version is detected (14.2.1).\r\n  eslint-config-next: 14.2.1\r\n  react: 18.2.0\r\n  react-dom: 18.2.0\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nMDX (@next/mdx)\n\n### Which stage(s) are affected? (Select all that apply)\n\nnext dev (local), Vercel (Deployed)\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/64587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/64587/timeline","performed_via_github_app":null,"state_reason":"completed"}]